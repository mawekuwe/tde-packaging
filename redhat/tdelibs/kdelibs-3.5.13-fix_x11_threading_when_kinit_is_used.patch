commit 6c806af1c99890adecb42abf52f4d6dc8ae72899
Author: Timothy Pearson <kb9vqf@pearsoncomputing.net>
Date:   1337556266 -0500

    Initialize X11 threading when kinit is used to launch a program
    This closes Bug 812
    Thanks to Sl√°vek Banko for the patch!

diff --git a/kinit/kinit.cpp b/kinit/kinit.cpp
index 2a74368..191757d 100644
--- a/kinit/kinit.cpp
+++ b/kinit/kinit.cpp
@@ -1615,6 +1615,7 @@ int tdeinit_x_errhandler( Display *dpy, XErrorEvent *err )
 // another X connection for startup notification purposes
 static void setupX()
 {
+    XInitThreads();
     XSetIOErrorHandler(kdeinit_xio_errhandler);
     XSetErrorHandler(kdeinit_x_errhandler);
 }
