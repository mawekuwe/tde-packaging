--- /dev/shm/applications/koffice/filters/chalk/png/kis_png_converter.cc	2011-06-27 13:54:18.000000000 -0500
+++ /dev/shm/applications/koffice/filters/chalk/png/kis_png_converter.cc.new	2011-11-07 15:38:47.918508855 -0600
@@ -785,7 +785,7 @@
 
 void KisPNGConverter::progress(png_structp png_ptr, png_uint_32 row_number, int pass)
 {
-    if(png_ptr == NULL || row_number > PNG_MAX_UINT || pass > 7) return;
+    if(png_ptr == NULL || row_number > PNG_UINT_31_MAX || pass > 7) return;
 //     setProgress(row_number);
 }
 
