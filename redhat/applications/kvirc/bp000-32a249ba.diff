commit 32a249baaef1b910bffd79734c78cac3671f00f2
Author: Timothy Pearson <kb9vqf@pearsoncomputing.net>
Date:   1324253641 -0600

    Rename old tq methods that no longer need a unique name

diff --git a/data/deftheme/silverirc/themedata.kvc b/data/deftheme/silverirc/themedata.kvc
index ddad668..a83296b 100644
--- a/data/deftheme/silverirc/themedata.kvc
+++ b/data/deftheme/silverirc/themedata.kvc
@@ -163,7 +163,7 @@ iccolor1=0,0,0
 mirccolor12=15,15,255
 mirccolor5=150,0,0
 msgtypeChanAdmin=242,3,100,1,1
-msgtypeGenerictqStatus=133,14,100,1,1
+msgtypeGenericStatus=133,14,100,1,1
 msgtypeHalfOp=174,3,100,1,1
 msgtypeDevoice=63,3,100,1,1
 msgtypeJoin=39,14,100,1,2
diff --git a/data/doctemplates/rfc2812.template b/data/doctemplates/rfc2812.template
index 6672b51..9d81a1c 100644
--- a/data/doctemplates/rfc2812.template
+++ b/data/doctemplates/rfc2812.template
@@ -23,7 +23,7 @@ Category: Informational
 [/td][/tr]
 
 [tr][td]
-[b]tqStatus of this Memo[/b]
+[b]Status of this Memo[/b]
 [/td][/tr]
 
 [tr][td]
diff --git a/src/kvilib/ext/kvi_stringconversion.cpp b/src/kvilib/ext/kvi_stringconversion.cpp
index 2836628..f316fc2 100644
--- a/src/kvilib/ext/kvi_stringconversion.cpp
+++ b/src/kvilib/ext/kvi_stringconversion.cpp
@@ -234,17 +234,17 @@ namespace KviStringConversion
 	bool fromString(const TQString & szValue,TQFont &buffer)
 	{
 		KviStr str = szValue;
-		KviStr family,pointSize,tqstyleHint,weight,options;
+		KviStr family,pointSize,styleHint,weight,options;
 		str.getToken(family,',');
 		str.getToken(pointSize,',');
-		str.getToken(tqstyleHint,',');
+		str.getToken(styleHint,',');
 		str.getToken(weight,','); 
 		if(!family.isEmpty())buffer.setFamily(family.ptr());
 		int i;
 		bool bOk;
 		i = pointSize.toInt(&bOk);
 		if(bOk && (i > 0))buffer.setPointSize(i);
-		i = tqstyleHint.toInt(&bOk);
+		i = styleHint.toInt(&bOk);
 		if(bOk && (i >= 0))buffer.setStyleHint((TQFont::StyleHint)i);
 		i = weight.toInt(&bOk);
 		if(bOk && (i >= 0))buffer.setWeight(i);
diff --git a/src/kvilib/net/kvi_http.cpp b/src/kvilib/net/kvi_http.cpp
index 9986530..6b3dd91 100644
--- a/src/kvilib/net/kvi_http.cpp
+++ b/src/kvilib/net/kvi_http.cpp
@@ -55,24 +55,24 @@ KviHttpRequest::KviHttpRequest()
 	m_bHeaderProcessed = false;
 	m_pBuffer = new KviDataBuffer();
 
-	resettqStatus();
+	resetStatus();
 	resetData();
 }
 
 KviHttpRequest::~KviHttpRequest()
 {
-	resetInternaltqStatus();
+	resetInternalStatus();
 	delete m_pBuffer;
 }
 
 void KviHttpRequest::abort()
 {
-	resetInternaltqStatus();
+	resetInternalStatus();
 	m_szLastError = __tr2qs("Aborted");
 	emit terminated(false);
 }
 
-void KviHttpRequest::resetInternaltqStatus()
+void KviHttpRequest::resetInternalStatus()
 {
 	if(m_pThread)delete m_pThread;
 	if(m_pDns)delete m_pDns;
@@ -91,7 +91,7 @@ void KviHttpRequest::resetInternaltqStatus()
 	KviThreadManager::killPendingEvents(this);
 }
 
-void KviHttpRequest::resettqStatus()
+void KviHttpRequest::resetStatus()
 {
 	m_szLastError = __tr2qs("No request");
 	m_uTotalSize = 0;
@@ -114,9 +114,9 @@ void KviHttpRequest::resetData()
 
 void KviHttpRequest::reset()
 {
-	resettqStatus();
+	resetStatus();
 	resetData();
-	resetInternaltqStatus();
+	resetInternalStatus();
 }
 
 bool KviHttpRequest::get(const KviUrl &u,ProcessingType p,const TQString &szFileName)
@@ -131,8 +131,8 @@ bool KviHttpRequest::get(const KviUrl &u,ProcessingType p,const TQString &szFile
 bool KviHttpRequest::start()
 {
 	// ensure that the file is closed
-	resetInternaltqStatus();
-	resettqStatus();
+	resetInternalStatus();
+	resetStatus();
 
 	if(m_eProcessingType == StoreToFile)
 	{
@@ -156,14 +156,14 @@ bool KviHttpRequest::start()
 
 	if(m_url.host().isEmpty())
 	{
-		resetInternaltqStatus();
+		resetInternalStatus();
 		m_szLastError = __tr2qs("Invalid URL: Missing hostname");
 		return false;
 	}
 
 	if((!kvi_strEqualCI(m_url.protocol().ptr(),"http")) && (!kvi_strEqualCI(m_url.protocol().ptr(),"https")))
 	{
-		resetInternaltqStatus();
+		resetInternalStatus();
 		m_szLastError=__tr2qs("Unsupported protocol %1").tqarg(m_url.protocol().ptr());
 		return false;
 	}
@@ -185,7 +185,7 @@ bool KviHttpRequest::startDnsLookup()
 
 	if(!m_pDns->lookup(m_url.host().ptr(),KviDns::IpV4))
 	{
-		resetInternaltqStatus();
+		resetInternalStatus();
 		m_szLastError = __tr2qs("Unable to start the DNS lookup");
 		return false;
 	}
@@ -212,7 +212,7 @@ void KviHttpRequest::dnsLookupDone(KviDns *d)
 		haveServerIp();
 	} else {
 		int iErr = d->error();
-		resetInternaltqStatus();
+		resetInternalStatus();
 		m_szLastError = KviError::getDescription(iErr);
 		emit terminated(false);
 	}
@@ -242,7 +242,7 @@ void KviHttpRequest::haveServerIp()
 
 	if(!m_pThread->start())
 	{
-		resetInternaltqStatus();
+		resetInternalStatus();
 		m_szLastError = __tr2qs("Unable to start the request slave thread");
 		emit terminated(false);
 		return;
@@ -318,7 +318,7 @@ bool KviHttpRequest::event(TQEvent *e)
 						// nothing... just make gcc happy
 					break;
 				}
-				resetInternaltqStatus();
+				resetInternalStatus();
 				m_szLastError = __tr2qs("Success");
 				emit terminated(true);
 				return true;
@@ -328,7 +328,7 @@ bool KviHttpRequest::event(TQEvent *e)
 				KviStr * err = ((KviThreadDataEvent<KviStr> *)e)->getData();
 				m_szLastError = __tr2qs_no_xgettext(err->ptr());
 				delete err;
-				resetInternaltqStatus();
+				resetInternalStatus();
 				emit terminated(false);
 				return true;
 			}
@@ -425,7 +425,7 @@ bool KviHttpRequest::openFile()
 				if(!d.rename(m_szFileName,tmp))
 				{
 					// fail :(
-					resetInternaltqStatus();
+					resetInternalStatus();
 					m_szLastError = __tr2qs("Failed to rename the existing file, please rename manually and retry");
 					emit terminated(false);
 					return false;
@@ -443,7 +443,7 @@ bool KviHttpRequest::openFile()
 
 	if(!m_pFile->openForWriting(bAppend))
 	{
-		resetInternaltqStatus();
+		resetInternalStatus();
 		KviTQString::sprintf(m_szLastError,__tr2qs("Can't open file \"%Q\" for writing"),&m_szFileName);
 		emit terminated(false);
 		return false;
@@ -473,7 +473,7 @@ bool KviHttpRequest::processHeader(KviStr &szHeader)
 
 	bool bValid = false;
 
-	unsigned int utqStatus = 0;
+	unsigned int uStatus = 0;
 
 	// check the response value
 	if(kvi_strEqualCSN(szResponse.ptr(),"HTTP",4))
@@ -486,14 +486,14 @@ bool KviHttpRequest::processHeader(KviStr &szHeader)
 		if(idx != -1)szNumber = szR.left(idx);
 		else szNumber = szR;
 		bool bOk;
-		utqStatus = szNumber.toUInt(&bOk);
+		uStatus = szNumber.toUInt(&bOk);
 		if(bOk)bValid = true;
 	}
 
 	if(!bValid)
 	{
 		// the response is invalid ?
-		resetInternaltqStatus();
+		resetInternalStatus();
 		m_szLastError=__tr2qs("Invalid HTTP response: %s").tqarg(szResponse.ptr());
 		emit terminated(false);
 		return false;
@@ -608,14 +608,14 @@ bool KviHttpRequest::processHeader(KviStr &szHeader)
 	//				case 504: // Gateway timeout
 	//				case 505: // HTTP Version not supported
 
-	if((utqStatus != 200) && (utqStatus != 206))
+	if((uStatus != 200) && (uStatus != 206))
 	{
 		// this is not "OK" and not "Partial content"
 		// Error , redirect or something confusing
 		if(m_eProcessingType != HeadersOnly)
 		{
 			// this is an error then
-			resetInternaltqStatus();
+			resetInternalStatus();
 			m_szLastError = szResponse.ptr();
 			emit terminated(false);
 			return false;
@@ -624,7 +624,7 @@ bool KviHttpRequest::processHeader(KviStr &szHeader)
 
 	if((m_uMaxContentLength > 0) && (m_uTotalSize > ((unsigned int)m_uMaxContentLength)))
 	{
-		resetInternaltqStatus();
+		resetInternalStatus();
 		m_szLastError=__tr2qs("Stream exceeding maximum length");
 		emit terminated(false);
 		return false;
@@ -657,7 +657,7 @@ void KviHttpRequest::processData(KviDataBuffer * data)
 			// header not complete
 			if(m_pBuffer->size() > 4096)
 			{
-				resetInternaltqStatus();
+				resetInternalStatus();
 				m_szLastError = __tr2qs("Header too long: exceeded 4096 bytes");
 				emit terminated(false);
 			}
@@ -706,7 +706,7 @@ void KviHttpRequest::processData(KviDataBuffer * data)
 	
 			if(((m_uTotalSize > 0) && (m_uReceivedSize > m_uTotalSize)) || ((m_uMaxContentLength > 0) && (m_uReceivedSize > m_uMaxContentLength)))
 			{
-				resetInternaltqStatus();
+				resetInternalStatus();
 				m_szLastError=__tr2qs("Stream exceeded expected length");
 				emit terminated(false);
 			}
@@ -794,7 +794,7 @@ void KviHttpRequest::processData(KviDataBuffer * data)
 						m_uRemainingChunkSize = szHexHeader.toLong(&bOk,16);
 						if(!bOk)
 						{
-							resetInternaltqStatus();
+							resetInternalStatus();
 							m_szLastError = __tr2qs("Protocol error: invalid chunk size");
 							emit terminated(false);
 							return;
@@ -814,7 +814,7 @@ void KviHttpRequest::processData(KviDataBuffer * data)
 					// chunk header not complete
 					if(m_pBuffer->size() > 4096)
 					{
-						resetInternaltqStatus();
+						resetInternalStatus();
 						m_szLastError = __tr2qs("Chunk header too long: exceeded 4096 bytes");
 						emit terminated(false);
 						return;
@@ -848,7 +848,7 @@ check_stream_length:
 
 	if(((m_uTotalSize > 0) && (m_uReceivedSize > m_uTotalSize)) || ((m_uMaxContentLength > 0) && (m_uReceivedSize > m_uMaxContentLength)))
 	{
-		resetInternaltqStatus();
+		resetInternalStatus();
 		m_szLastError=__tr2qs("Stream exceeded expected length");
 		emit terminated(false);
 	}
diff --git a/src/kvilib/net/kvi_http.h b/src/kvilib/net/kvi_http.h
index de4457d..2eeec37 100644
--- a/src/kvilib/net/kvi_http.h
+++ b/src/kvilib/net/kvi_http.h
@@ -104,9 +104,9 @@ protected:
 	bool openFile();
 	void emitLines(KviDataBuffer * pDataBuffer);
 
-	void resettqStatus();
+	void resetStatus();
 	void resetData();
-	void resetInternaltqStatus();
+	void resetInternalStatus();
 protected slots:
 	void dnsLookupDone(KviDns *d);
 	void haveServerIp();
diff --git a/src/kvilib/tal/kvi_tal_listview.cpp b/src/kvilib/tal/kvi_tal_listview.cpp
index 2d946a2..1a7f975 100644
--- a/src/kvilib/tal/kvi_tal_listview.cpp
+++ b/src/kvilib/tal/kvi_tal_listview.cpp
@@ -479,7 +479,7 @@
 	        return;
 	
 	    TQPoint pos;
-	    int boxsize = lv->tqstyle()->tqpixelMetric(TQStyle::PM_CheckListButtonSize, 0, lv);
+	    int boxsize = lv->tqstyle()->pixelMetric(TQStyle::PM_CheckListButtonSize, 0, lv);
 	    if (activatedPos(pos)) {
 	        bool parentControl = false;
 	        if (parent() && parent()->rtti() == 1  &&
@@ -652,7 +652,7 @@
 	    int h = height();
 	    KviTalListView *lv = listView();
 	    if (lv)
-	        h = qMax(lv->tqstyle()->tqpixelMetric(TQStyle::PM_CheckListButtonSize, 0, lv),
+	        h = qMax(lv->tqstyle()->pixelMetric(TQStyle::PM_CheckListButtonSize, 0, lv),
 	                  h);
 	    h = qMax(h, TQApplication::globalStrut().height());
 	    setHeight(h);
@@ -666,7 +666,7 @@
 	        if (myType == RadioButtonController && pixmap(0)) {
 	            //             r += 0;
 	        } else {
-	            r +=  lv->tqstyle()->tqpixelMetric(TQStyle::PM_CheckListButtonSize, 0, lv) + 4;
+	            r +=  lv->tqstyle()->pixelMetric(TQStyle::PM_CheckListButtonSize, 0, lv) + 4;
 	        }
 	    }
 	    return qMax(r, TQApplication::globalStrut().width());
@@ -700,7 +700,7 @@
 	        parentControl = true;
 	
 	    TQFontMetrics fm(lv->fontMetrics());
-	    int boxsize = lv->tqstyle()->tqpixelMetric(myType == RadioButtonController ? TQStyle::PM_CheckListControllerSize :
+	    int boxsize = lv->tqstyle()->pixelMetric(myType == RadioButtonController ? TQStyle::PM_CheckListControllerSize :
 	                                           TQStyle::PM_CheckListButtonSize, 0, lv);
 	    int marg = lv->itemMargin();
 	    int r = marg;
@@ -782,7 +782,7 @@
 	         (lv->rootIsDecorated() || myType == RadioButton ||
 	          (myType == CheckBox && parentControl))) {
 	        TQRect rect;
-	        int boxsize = lv->tqstyle()->tqpixelMetric(TQStyle::PM_CheckListButtonSize, 0, lv);
+	        int boxsize = lv->tqstyle()->pixelMetric(TQStyle::PM_CheckListButtonSize, 0, lv);
 	        if (lv->columnAlignment(0) == TQt::AlignCenter) {
 	            TQFontMetrics fm(lv->font());
 	            int bx = (lv->columnWidth(0) - (boxsize + fm.width(text())))/2 + boxsize;
@@ -1216,7 +1216,7 @@
 		return;
 	
 	    TQPoint pos;
-	    int boxsize = lv->tqstyle().tqpixelMetric(TQStyle::PM_CheckListButtonSize, lv);
+	    int boxsize = lv->tqstyle().pixelMetric(TQStyle::PM_CheckListButtonSize, lv);
 	    if ( activatedPos( pos ) ) {
 		bool parentControl = FALSE;
 		if ( parent() && parent()->rtti() == 1  &&
@@ -1388,7 +1388,7 @@
 	    int h = height();
 	    KviTalListView *lv = listView();
 	    if ( lv )
-		h = TQMAX( lv->tqstyle().tqpixelMetric(TQStyle::PM_CheckListButtonSize, lv),
+		h = TQMAX( lv->tqstyle().pixelMetric(TQStyle::PM_CheckListButtonSize, lv),
 			  h );
 	    h = TQMAX( h, TQApplication::globalStrut().height() );
 	    setHeight( h );
@@ -1402,7 +1402,7 @@
 		if ( myType == RadioButtonController && pixmap( 0 ) ) {
 		    //	     r += 0;
 		} else {
-		    r +=  lv->tqstyle().tqpixelMetric(TQStyle::PM_CheckListButtonSize, lv) + 4;
+		    r +=  lv->tqstyle().pixelMetric(TQStyle::PM_CheckListButtonSize, lv) + 4;
 		}
 	    }
 	    return TQMAX( r, TQApplication::globalStrut().width() );
@@ -1420,7 +1420,7 @@
 	
 	    const BackgroundMode bgmode = lv->viewport()->backgroundMode();
 	    const TQColorGroup::ColorRole crole = TQPalette::backgroundRoleFromMode( bgmode );
-	    if ( cg.brush( crole ) != lv->tqcolorGroup().brush( crole ) )
+	    if ( cg.brush( crole ) != lv->colorGroup().brush( crole ) )
 		p->fillRect( 0, 0, width, height(), cg.brush( crole ) );
 	    else
 		lv->paintEmptyArea( p, TQRect( 0, 0, width, height() ) );
@@ -1437,7 +1437,7 @@
 		parentControl = TRUE;
 	
 	    TQFontMetrics fm( lv->fontMetrics() );
-	    int boxsize = lv->tqstyle().tqpixelMetric( myType == RadioButtonController ? TQStyle::PM_CheckListControllerSize :
+	    int boxsize = lv->tqstyle().pixelMetric( myType == RadioButtonController ? TQStyle::PM_CheckListControllerSize :
 						   TQStyle::PM_CheckListButtonSize, lv);
 	    int marg = lv->itemMargin();
 	    int r = marg;
@@ -1519,7 +1519,7 @@
 		 (lv->rootIsDecorated() || myType == RadioButton ||
 		  (myType == CheckBox && parentControl) ) ) {
 		TQRect rect;
-		int boxsize = lv->tqstyle().tqpixelMetric(TQStyle::PM_CheckListButtonSize, lv);
+		int boxsize = lv->tqstyle().pixelMetric(TQStyle::PM_CheckListButtonSize, lv);
 		if ( lv->columnAlignment(0) == AlignCenter ) {
 		    TQFontMetrics fm( lv->font() );
 		    int bx = (lv->columnWidth(0) - (boxsize + fm.width(text())))/2 + boxsize;
diff --git a/src/kvilib/tal/kvi_tal_wizard.cpp b/src/kvilib/tal/kvi_tal_wizard.cpp
index 53b7c03..a0aee30 100644
--- a/src/kvilib/tal/kvi_tal_wizard.cpp
+++ b/src/kvilib/tal/kvi_tal_wizard.cpp
@@ -184,7 +184,7 @@ KviTalWizard::KviTalWizard(TQWidget * pParent)
 #endif
 	m_p->pStepsLabel = new TQLabel(this);
 	m_p->pStepsLabel->setMinimumWidth(80);
-	m_p->pStepsLabel->tqsetAlignment(TQt::AlignRight);
+	m_p->pStepsLabel->setAlignment(TQt::AlignRight);
 #ifdef COMPILE_USE_QT4
 	m_p->pLayout->addWidget(m_p->pStepsLabel,0,4,1,3);
 #else
diff --git a/src/kvirc/kernel/kvi_app.cpp b/src/kvirc/kernel/kvi_app.cpp
index 30f26dc..c0afdad 100644
--- a/src/kvirc/kernel/kvi_app.cpp
+++ b/src/kvirc/kernel/kvi_app.cpp
@@ -228,7 +228,7 @@ void KviApp::setup()
 	//need to load image plugins:(
 	TQString szPluginsDir;
 	getGlobalKvircDirectory(szPluginsDir,None,"qt-plugins/");
-	tqsetLibraryPaths(TQStringList(szPluginsDir));
+	setLibraryPaths(TQStringList(szPluginsDir));
 	//KviMessageBox::information(libraryPaths().join(";"));
 	//debug("%1",loader.isLoaded());
 #endif
@@ -696,11 +696,11 @@ void KviApp::contextSensitiveHelp()
 #ifndef COMPILE_USE_QT4
 	// the F1 Key has been pressed
 	// try to pass it to the active widget or one of its parents
-	TQWidget * w = g_pApp->tqfocusWidget();
+	TQWidget * w = g_pApp->focusWidget();
 	while(w)
 	{
 		//TQVariant v = w->property("contextSensitiveHelp"); <-- this prints a lot of warnings: this is a QT BUG
-		TQMetaObject * o = w->tqmetaObject();
+		TQMetaObject * o = w->metaObject();
 		if(o)
 		{
 			int i = o->findProperty("contextSensitiveHelp",true);
@@ -1368,7 +1368,7 @@ void KviApp::updateApplicationFont()
 	if(KVI_OPTION_BOOL(KviOption_boolUseGlobalApplicationFont))
 	{
 		if(font() != KVI_OPTION_FONT(KviOption_fontApplication))
-			tqsetFont(KVI_OPTION_FONT(KviOption_fontApplication),true);
+			setFont(KVI_OPTION_FONT(KviOption_fontApplication),true);
 	}
 	// FIXME: #warning "And what if this option is turned off ?...a reboot only"
 }
diff --git a/src/kvirc/kernel/kvi_app_fs.cpp b/src/kvirc/kernel/kvi_app_fs.cpp
index 6a9ad8a..ad8ce5a 100644
--- a/src/kvirc/kernel/kvi_app_fs.cpp
+++ b/src/kvirc/kernel/kvi_app_fs.cpp
@@ -228,7 +228,7 @@ bool KviApp::trashFile(const char *filename)
 	KviStr lastPart = filename;
 	lastPart.cutToLast(KVI_PATH_SEPARATOR_CHAR); // need only the filename
 	lastPart.append(".bak_");
-	TQDateTime tm(TQDateTime::tqcurrentDateTime());
+	TQDateTime tm(TQDateTime::currentDateTime());
 	lastPart.append(tm.toString());
 	lastPart.replaceAll(' ',"_");
 	// Ok...have lastPart.bak_Dec_11_31_1999
diff --git a/src/kvirc/kernel/kvi_ircconnection.cpp b/src/kvirc/kernel/kvi_ircconnection.cpp
index 4c91a48..ec6085a 100644
--- a/src/kvirc/kernel/kvi_ircconnection.cpp
+++ b/src/kvirc/kernel/kvi_ircconnection.cpp
@@ -981,10 +981,10 @@ void KviIrcConnection::loginToIrcServer()
 	if(KVI_OPTION_BOOL(KviOption_boolPrependGenderInfoToRealname) && !KVI_OPTION_STRING(KviOption_stringCtcpUserInfoGender).isEmpty())
 	{
 		szGenderTag.append(KVI_TEXT_COLOR);
-		if(KVI_OPTION_STRING(KviOption_stringCtcpUserInfoGender).tqstartsWith("m",false))
+		if(KVI_OPTION_STRING(KviOption_stringCtcpUserInfoGender).startsWith("m",false))
 		{
 			szGenderTag.append("1");
-		} else if(KVI_OPTION_STRING(KviOption_stringCtcpUserInfoGender).tqstartsWith("f",false))
+		} else if(KVI_OPTION_STRING(KviOption_stringCtcpUserInfoGender).startsWith("f",false))
 		{
 			szGenderTag.append("2");
 		}
@@ -1017,9 +1017,9 @@ void KviIrcConnection::loginToIrcServer()
 		}
 	} // else buuug
 	
-	if(KVI_OPTION_STRING(KviOption_stringCtcpUserInfoGender).tqstartsWith("m",false)){
+	if(KVI_OPTION_STRING(KviOption_stringCtcpUserInfoGender).startsWith("m",false)){
 			e->setGender(KviIrcUserEntry::Male);
-	} else if(KVI_OPTION_STRING(KviOption_stringCtcpUserInfoGender).tqstartsWith("f",false)){
+	} else if(KVI_OPTION_STRING(KviOption_stringCtcpUserInfoGender).startsWith("f",false)){
 			e->setGender(KviIrcUserEntry::Female);
 	}
 
diff --git a/src/kvirc/kernel/kvi_ircconnectiontargetresolver.cpp b/src/kvirc/kernel/kvi_ircconnectiontargetresolver.cpp
index f092b62..fa3ae79 100644
--- a/src/kvirc/kernel/kvi_ircconnectiontargetresolver.cpp
+++ b/src/kvirc/kernel/kvi_ircconnectiontargetresolver.cpp
@@ -70,7 +70,7 @@ KviIrcConnectionTargetResolver::KviIrcConnectionTargetResolver(KviIrcConnection
 	m_pServerDns = 0;
 
 	m_eState = Idle;
-	m_etqStatus = Success;
+	m_eStatus = Success;
 
 	m_iLastError = KviError_success;
 }
@@ -544,12 +544,12 @@ void KviIrcConnectionTargetResolver::haveServerIp()
 	terminate(Success,KviError_success);
 }
 
-void KviIrcConnectionTargetResolver::terminate(tqStatus s,int iLastError)
+void KviIrcConnectionTargetResolver::terminate(Status s,int iLastError)
 {
 	__ASSERT(m_eState != Terminated);
 	cleanup(); // do a cleanup anyway
 	m_eState = Terminated;
-	m_etqStatus = s;
+	m_eStatus = s;
 	m_iLastError = iLastError;
 	emit terminated();
 }
diff --git a/src/kvirc/kernel/kvi_ircconnectiontargetresolver.h b/src/kvirc/kernel/kvi_ircconnectiontargetresolver.h
index 4d5d72c..a37f595 100644
--- a/src/kvirc/kernel/kvi_ircconnectiontargetresolver.h
+++ b/src/kvirc/kernel/kvi_ircconnectiontargetresolver.h
@@ -44,13 +44,13 @@ protected:
 	KviIrcConnectionTargetResolver(KviIrcConnection * pConnection);
 	~KviIrcConnectionTargetResolver();
 public:
-	enum tqStatus { Success, Error };
+	enum Status { Success, Error };
 	enum State { Idle, Running, Terminated };
 private:
 	KviIrcConnection             * m_pConnection;       // shallow, never null
 	KviIrcConnectionTarget       * m_pTarget;           // shallow, never null
 	KviConsole                   * m_pConsole;          // shallow, never null
-	tqStatus                         m_etqStatus;
+	Status                         m_eStatus;
 	State                          m_eState;
 
 	// Auxiliary stuff
@@ -66,7 +66,7 @@ private:
 public:
 	void start(KviIrcConnectionTarget * t);
 	// valid only after the terminated() signal
-	tqStatus status(){ return m_etqStatus; };
+	Status status(){ return m_eStatus; };
 	int lastError(){ return m_iLastError; };
 	// causes the resolver to terminate with iLastError == KviError_operationAborted
 	// the terminated() signal is emitted.
@@ -81,7 +81,7 @@ private:
 	void lookupServerHostname();
 	void haveServerIp();
 	bool validateLocalAddress(const TQString &szAddress,TQString &szBuffer);
-	void terminate(tqStatus s,int iLastError);
+	void terminate(Status s,int iLastError);
 signals:
 	void terminated();
 };
diff --git a/src/kvirc/kernel/kvi_main.cpp b/src/kvirc/kernel/kvi_main.cpp
index 7a55ee9..05fed67 100644
--- a/src/kvirc/kernel/kvi_main.cpp
+++ b/src/kvirc/kernel/kvi_main.cpp
@@ -367,7 +367,7 @@ int main(int argc,char ** argv)
 	bool bLocked = false;
 	if(inf.exists())
 	{
-		iLocked = inf.lastModified().secsTo(TQDateTime::tqcurrentDateTime());
+		iLocked = inf.lastModified().secsTo(TQDateTime::currentDateTime());
 	}
 	*/
 
diff --git a/src/kvirc/kvs/kvi_kvs_callbackobject.cpp b/src/kvirc/kvs/kvi_kvs_callbackobject.cpp
index 7222f05..9abb9a7 100644
--- a/src/kvirc/kvs/kvi_kvs_callbackobject.cpp
+++ b/src/kvirc/kvs/kvi_kvs_callbackobject.cpp
@@ -55,7 +55,7 @@ KviKvsCallbackObject::~KviKvsCallbackObject()
 	delete m_pMagicParams;
 }
 
-KviKvsCallbackObject::CallbacktqStatus KviKvsCallbackObject::execute(KviKvsVariantList * pParams,KviKvsVariant * pRetVal)
+KviKvsCallbackObject::CallbackStatus KviKvsCallbackObject::execute(KviKvsVariantList * pParams,KviKvsVariant * pRetVal)
 {
 	// first of all check the window
 	if(!m_pTargetWindow)
diff --git a/src/kvirc/kvs/kvi_kvs_callbackobject.h b/src/kvirc/kvs/kvi_kvs_callbackobject.h
index c45ec1b..fca4f89 100644
--- a/src/kvirc/kvs/kvi_kvs_callbackobject.h
+++ b/src/kvirc/kvs/kvi_kvs_callbackobject.h
@@ -49,7 +49,7 @@ public:
 		// the callback is executed in another window (the associated console, if possible, otherwise the first available console)
 		OnlyIfWindowExists = 1 
 	};
-	enum CallbacktqStatus {
+	enum CallbackStatus {
 		// succesfull execution
 		Success,
 		// error in command
@@ -76,7 +76,7 @@ protected:
 	unsigned int        m_uFlags;
 protected:
 	// the parameter list is always shallow!
-	CallbacktqStatus execute(KviKvsVariantList * pParams = 0,KviKvsVariant * pRetVal = 0);
+	CallbackStatus execute(KviKvsVariantList * pParams = 0,KviKvsVariant * pRetVal = 0);
 };
 
 
diff --git a/src/kvirc/kvs/kvi_kvs_object.cpp b/src/kvirc/kvs/kvi_kvs_object.cpp
index 677095d..eaae3fd 100644
--- a/src/kvirc/kvs/kvi_kvs_object.cpp
+++ b/src/kvirc/kvs/kvi_kvs_object.cpp
@@ -1042,7 +1042,7 @@ bool KviKvsObject::function_listProperties(KviKvsObjectFunctionCall * c)
 	kvs_int_t cnt = 0;
 	if(m_pObject)
 	{
-		const TQMetaObject *o = m_pObject->tqmetaObject();
+		const TQMetaObject *o = m_pObject->metaObject();
 		if(!bArray)
 			w->output(KVI_OUT_SYSTEMMESSAGE,__tr2qs("Properties for TQt class %s"),o->className());
 #ifndef COMPILE_USE_QT4
@@ -1120,7 +1120,7 @@ bool KviKvsObject::function_listProperties(KviKvsObjectFunctionCall * c)
 				cnt++;
 			}
 #ifndef COMPILE_USE_QT4	
-			o = o->tqsuperClass();
+			o = o->superClass();
 		}
 #endif
 
@@ -1154,9 +1154,9 @@ bool KviKvsObject::function_setProperty(KviKvsObjectFunctionCall * c)
 	}
 
 #ifdef COMPILE_USE_QT4
-	int idx = m_pObject->tqmetaObject()->indexOfProperty(szName);
+	int idx = m_pObject->metaObject()->indexOfProperty(szName);
 #else
-	int idx = m_pObject->tqmetaObject()->findProperty(szName,true);
+	int idx = m_pObject->metaObject()->findProperty(szName,true);
 #endif
 	if(idx < 0)
 	{
@@ -1164,10 +1164,10 @@ bool KviKvsObject::function_setProperty(KviKvsObjectFunctionCall * c)
 		return true;
 	}
 #ifdef COMPILE_USE_QT4
-	TQMetaProperty prop = m_pObject->tqmetaObject()->property(idx);
+	TQMetaProperty prop = m_pObject->metaObject()->property(idx);
 	const TQMetaProperty * p = &prop;
 #else
-	const TQMetaProperty * p = m_pObject->tqmetaObject()->property(idx,true);
+	const TQMetaProperty * p = m_pObject->metaObject()->property(idx,true);
 #endif
 	if(!p)
 	{
@@ -1385,9 +1385,9 @@ bool KviKvsObject::function_property(KviKvsObjectFunctionCall * c)
 	}
 
 #ifdef COMPILE_USE_QT4
-	int idx = m_pObject->tqmetaObject()->indexOfProperty(szName);
+	int idx = m_pObject->metaObject()->indexOfProperty(szName);
 #else
-	int idx = m_pObject->tqmetaObject()->findProperty(szName,true);
+	int idx = m_pObject->metaObject()->findProperty(szName,true);
 #endif
 	if(idx < 0)
 	{
@@ -1400,10 +1400,10 @@ bool KviKvsObject::function_property(KviKvsObjectFunctionCall * c)
 		return true;
 	}
 #ifdef COMPILE_USE_QT4
-	TQMetaProperty prop = m_pObject->tqmetaObject()->property(idx);
+	TQMetaProperty prop = m_pObject->metaObject()->property(idx);
 	const TQMetaProperty * p = &prop;
 #else
-	const TQMetaProperty * p = m_pObject->tqmetaObject()->property(idx,true);
+	const TQMetaProperty * p = m_pObject->metaObject()->property(idx,true);
 #endif
 	if(!p)
 	{
diff --git a/src/kvirc/kvs/kvi_kvs_processmanager.cpp b/src/kvirc/kvs/kvi_kvs_processmanager.cpp
index a7aeacb..2f3219c 100644
--- a/src/kvirc/kvs/kvi_kvs_processmanager.cpp
+++ b/src/kvirc/kvs/kvi_kvs_processmanager.cpp
@@ -330,7 +330,7 @@ void KviKvsProcessAsyncOperation::processExited()
 	if(m_pData->iFlags & KVI_KVS_PROCESSDESCRIPTOR_TRIGGERTERMINATED)
 	{
 		TQString szRetVal;
-		szRetVal.setNum(m_pProcess->exitqStatus());
+		szRetVal.setNum(m_pProcess->exiStatus());
 		trigger(EventTerminated,szRetVal);
 	}
 	
diff --git a/src/kvirc/kvs/kvi_kvs_script.cpp b/src/kvirc/kvs/kvi_kvs_script.cpp
index c9c4f4f..d77919d 100644
--- a/src/kvirc/kvs/kvi_kvs_script.cpp
+++ b/src/kvirc/kvs/kvi_kvs_script.cpp
@@ -293,22 +293,22 @@ int KviKvsScript::executeInternal(KviKvsRunTimeContext * pContext)
 	// lock this script
 	m_pData->m_uLock++;
 	
-	int iRuntqStatus = Success;
+	int iRunStatus = Success;
 
 	if(!m_pData->m_pTree->execute(pContext))
 	{
-		if(pContext->error())iRuntqStatus = Error;
+		if(pContext->error())iRunStatus = Error;
 		else {
 			// else just a halt, return or sth like that
 			if(pContext->haltCalled())
-				iRuntqStatus |= HaltEncountered;
+				iRunStatus |= HaltEncountered;
 		}
 	}
 	
 	// we can't block any longer: unlock
 	m_pData->m_uLock--;
 
-	return iRuntqStatus;
+	return iRunStatus;
 }
 
 int KviKvsScript::execute(KviWindow * pWnd,KviKvsVariantList * pParams,KviKvsVariant * pRetVal,int iRunFlags,KviKvsExtendedRunTimeData * pExtData)
@@ -343,13 +343,13 @@ int KviKvsScript::execute(KviWindow * pWnd,KviKvsVariantList * pParams,KviKvsVar
 	if(iRunFlags & Quiet)
 		ctx.disableReporting();
 	
-	int iRuntqStatus = executeInternal(&ctx);
+	int iRunStatus = executeInternal(&ctx);
 	
 	// don't forget to delete the params
 	if(bDeleteParams)delete pParams;
 	if(bDeleteRetVal)delete pRetVal;
     pParams = 0; pRetVal = 0;
-	return iRuntqStatus;
+	return iRunStatus;
 }
 
 
diff --git a/src/kvirc/kvs/kvi_kvs_script.h b/src/kvirc/kvs/kvi_kvs_script.h
index 2bfd6b8..60e96a0 100644
--- a/src/kvirc/kvs/kvi_kvs_script.h
+++ b/src/kvirc/kvs/kvi_kvs_script.h
@@ -52,7 +52,7 @@ class KVIRC_API KviKvsScript : public KviHeapObject
 	friend class KviKvsParser;
 	friend class KviKvsRunTimeContext;
 public:
-	enum RuntqStatus {
+	enum RunStatus {
 		// the script returned an error
 		Error = 0,
 		// the script ran succesfully
@@ -97,7 +97,7 @@ public:
 		Quiet = 8
 	};
 	// returns 0 (KviKvsScript::RunFailure) on error
-	// returns a nonzero combination of RuntqStatus flags on success
+	// returns a nonzero combination of RunStatus flags on success
 	int run(KviWindow * pWnd,                                // window that the command has to be bound to
 				KviKvsVariantList * pParams = 0,              // parameter list (0 if you don't pass params) ownership transferred if PreserverParams is not used
 				KviKvsVariant * pRetVal = 0,                  // return value buffer (0 if you ignore it)
@@ -105,7 +105,7 @@ public:
 				KviKvsExtendedRunTimeData * pExtData = 0);    // extended data (usually 0) (if you need to pass extended scope variables or alias switch lists...)
 
 	// returns 0 (KviKvsScript::RunFailure) on error
-	// returns a nonzero combination of RuntqStatus flags on success
+	// returns a nonzero combination of RunStatus flags on success
 	// this is probably used only in /eval
 	int run(KviKvsRunTimeContext * pContext,int iRunFlags = 0);
 
@@ -118,12 +118,12 @@ public:
 				KviKvsExtendedRunTimeData * pExtData = 0);
 
 	// static helpers for quick running
-	// returns a combination of RuntqStatus flags (nonzero on no error)
+	// returns a combination of RunStatus flags (nonzero on no error)
 	// does NOT take params ownership
 	static int run(const TQString &szCode,KviWindow * pWindow,KviKvsVariantList * pParams = 0,KviKvsVariant * pRetVal = 0);
 	
 	// static helper for quick evaluating parameters
-	// returns a combination of RuntqStatus flags (nonzero on no error)
+	// returns a combination of RunStatus flags (nonzero on no error)
 	// does NOT take params ownership
 	// pRetVal CAN'T be zero here since we're evaluating stuff here
 	static int evaluate(const TQString &szCode,KviWindow * pWindow,KviKvsVariantList * pParams,KviKvsVariant * pRetVal);
@@ -137,14 +137,14 @@ protected:
 	bool parse(KviWindow * pOutput = 0,
 				int iRunFlags = 0);
 	// returns 0 (KviKvsScript::RunFailure) on error
-	// returns a nonzero combination of RuntqStatus flags on success
+	// returns a nonzero combination of RunStatus flags on success
 	int execute(KviWindow * pWnd,
 				KviKvsVariantList * pParams = 0,
 				KviKvsVariant * pRetVal = 0,
 				int iRunFlags = 0,
 				KviKvsExtendedRunTimeData * pExtData = 0);
 	// returns 0 (KviKvsScript::RunFailure) on error
-	// returns a nonzero combination of RuntqStatus flags on success
+	// returns a nonzero combination of RunStatus flags on success
 	int executeInternal(KviKvsRunTimeContext * pContext);
 	const TQChar * buffer() const;
 	// detaches this script from any other shallow copies
diff --git a/src/kvirc/sparser/kvi_sp_ctcp.cpp b/src/kvirc/sparser/kvi_sp_ctcp.cpp
index b92afd9..86e129d 100644
--- a/src/kvirc/sparser/kvi_sp_ctcp.cpp
+++ b/src/kvirc/sparser/kvi_sp_ctcp.cpp
@@ -1331,7 +1331,7 @@ void KviServerParser::parseCtcpRequestTime(KviCtcpMessage *msg)
 	{
 		if(!KVI_OPTION_BOOL(KviOption_boolIgnoreCtcpTime))
 		{
-			replyCtcp(msg,TQDateTime::tqcurrentDateTime().toString());
+			replyCtcp(msg,TQDateTime::currentDateTime().toString());
 		} else msg->bIgnored = true;
 	}
 
@@ -1491,9 +1491,9 @@ void KviServerParser::parseCtcpRequestAvatar(KviCtcpMessage *msg)
 	if(!KVI_OPTION_BOOL(KviOption_boolIgnoreCtcpAvatar))
 	{
 		TQString szGenderTag=" ";
-		if(KVI_OPTION_STRING(KviOption_stringCtcpUserInfoGender).tqstartsWith("m",false)){
+		if(KVI_OPTION_STRING(KviOption_stringCtcpUserInfoGender).startsWith("m",false)){
 			szGenderTag.append("M");
-		} else if(KVI_OPTION_STRING(KviOption_stringCtcpUserInfoGender).tqstartsWith("f",false)){
+		} else if(KVI_OPTION_STRING(KviOption_stringCtcpUserInfoGender).startsWith("f",false)){
 			szGenderTag.append("F");
 		} else {
 			szGenderTag.append("?");
diff --git a/src/kvirc/sparser/kvi_sp_literal.cpp b/src/kvirc/sparser/kvi_sp_literal.cpp
index 155a734..18ab099 100644
--- a/src/kvirc/sparser/kvi_sp_literal.cpp
+++ b/src/kvirc/sparser/kvi_sp_literal.cpp
@@ -1402,7 +1402,7 @@ void KviServerParser::parseLiteralTopic(KviIrcMessage *msg)
 
 	chan->topicWidget()->setTopic(szTopic);
 	chan->topicWidget()->setTopicSetBy(szNick);
-	TQString tmp = TQDateTime::tqcurrentDateTime().toString();
+	TQString tmp = TQDateTime::currentDateTime().toString();
 	chan->topicWidget()->setTopicSetAt(tmp);
 
 	chan->userAction(szNick,szUser,szHost,KVI_USERACTION_TOPIC);
@@ -1800,7 +1800,7 @@ void KviServerParser::parseChannelMode(const TQString &szNick,const TQString &sz
 #define CHANNEL_MODE(__modefl,__evmeset,__evmeunset,__evset,__evunset,__icomeset,__icomeunset,__icoset,__icounset) \
 			case __modefl: \
 				aParam = msg->connection()->decodeText(msg->safeParam(curParam++)); \
-				chan->setMask(*aux,aParam,bSet,msg->connection()->decodeText(msg->safePrefix()),TQDateTime::tqcurrentDateTime().toTime_t()); \
+				chan->setMask(*aux,aParam,bSet,msg->connection()->decodeText(msg->safePrefix()),TQDateTime::currentDateTime().toTime_t()); \
 				auxMask = new KviIrcMask(aParam); \
 				bIsMe = auxMask->matchesFixed( \
 							msg->connection()->userInfo()->nickName(), \
diff --git a/src/kvirc/ui/kvi_channel.cpp b/src/kvirc/ui/kvi_channel.cpp
index b9e2f2b..c35b1fe 100644
--- a/src/kvirc/ui/kvi_channel.cpp
+++ b/src/kvirc/ui/kvi_channel.cpp
@@ -220,7 +220,7 @@ KviChannel::KviChannel(KviFrame * lpFrm,KviConsole * lpConsole,const char * name
 	if(KVI_OPTION_BOOL(KviOption_boolAutoLogChannels))m_pIrcView->startLogging();
 
 	applyOptions();
-	m_joinTime = TQDateTime::tqcurrentDateTime();
+	m_joinTime = TQDateTime::currentDateTime();
 	m_tLastReceivedWhoReply = (kvi_time_t)m_joinTime.toTime_t();
 	
 
@@ -547,23 +547,23 @@ void KviChannel::resizeEvent(TQResizeEvent *e)
 {
 #ifdef COMPILE_USE_QT4
 	int hght = m_pInput->heightHint();
-	int hght2 = m_pTopicWidget->tqsizeHint().height();
+	int hght2 = m_pTopicWidget->sizeHint().height();
 	m_pButtonBox->setGeometry(0,0,width(),hght2);
 	m_pSplitter->setGeometry(0,hght2,width(),height() - (hght + hght2));
 	m_pInput->setGeometry(0,height() - hght,width(),hght);
 #else
 	int hght = m_pInput->heightHint();
-	int hght2 = m_pButtonBox->tqsizeHint().height();
+	int hght2 = m_pButtonBox->sizeHint().height();
 	m_pButtonBox->setGeometry(0,0,width(),hght2);
 	m_pSplitter->setGeometry(0,hght2,width(),height() - (hght + hght2));
 	m_pInput->setGeometry(0,height() - hght,width(),hght);
 #endif
 }
 
-TQSize KviChannel::tqsizeHint() const
+TQSize KviChannel::sizeHint() const
 {
-	TQSize ret(m_pSplitter->tqsizeHint().width(),
-		m_pIrcView->tqsizeHint().height() + m_pInput->heightHint() + m_pButtonBox->tqsizeHint().height());
+	TQSize ret(m_pSplitter->sizeHint().width(),
+		m_pIrcView->sizeHint().height() + m_pInput->heightHint() + m_pButtonBox->sizeHint().height());
 	return ret;
 }
 
@@ -655,7 +655,7 @@ void KviChannel::setAliveChan()
 	m_iStateFlags = 0;
 	setType(KVI_WINDOW_TYPE_CHANNEL);
 	m_pUserListView->setUserDataBase(connection()->userDataBase());
-	m_joinTime = TQDateTime::tqcurrentDateTime();
+	m_joinTime = TQDateTime::currentDateTime();
 	context()->unregisterDeadChannel(this);
 	connection()->registerChannel(this);
 	// Update log file name
@@ -1170,7 +1170,7 @@ bool KviChannel::activityMeter(unsigned int * puActivityValue,unsigned int * puA
 	
 		if(m_pActionHistory->count() < KVI_CHANNEL_ACTION_HISTORY_MAX_COUNT)
 		{
-			if(m_joinTime.secsTo(TQDateTime::tqcurrentDateTime()) < KVI_CHANNEL_ACTION_HISTORY_MAX_TIMESPAN)
+			if(m_joinTime.secsTo(TQDateTime::currentDateTime()) < KVI_CHANNEL_ACTION_HISTORY_MAX_TIMESPAN)
 			{
 				// we can't exactly estimate
 				if(dSpan < 60.0)dSpan = 60.0;
@@ -1281,7 +1281,7 @@ void KviChannel::getChannelActivityStats(KviChannelActivityStats * s)
 
 	if(s->uActionCount < KVI_CHANNEL_ACTION_HISTORY_MAX_COUNT)
 	{
-		if(m_joinTime.secsTo(TQDateTime::tqcurrentDateTime()) < KVI_CHANNEL_ACTION_HISTORY_MAX_TIMESPAN)
+		if(m_joinTime.secsTo(TQDateTime::currentDateTime()) < KVI_CHANNEL_ACTION_HISTORY_MAX_TIMESPAN)
 		{
 			// we can't exactly estimate
 			s->bStatsInaccurate = true;
diff --git a/src/kvirc/ui/kvi_channel.h b/src/kvirc/ui/kvi_channel.h
index 45a4801..3c86b6a 100644
--- a/src/kvirc/ui/kvi_channel.h
+++ b/src/kvirc/ui/kvi_channel.h
@@ -233,7 +233,7 @@ public:
 	void prependUserFlag(const TQString &nick,TQString &buffer){ m_pUserListView->prependUserFlag(nick,buffer); };
 	char getUserFlag(const TQString &nick){ return m_pUserListView->getUserFlag(nick); };
 	bool isDeadChan(){ return (m_iStateFlags & KVI_CHANNEL_STATE_DEADCHAN); };
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 	void enableUserListUpdates(bool bEnable){ m_pUserListView->enableUpdates(bEnable); };
 	KviUserListEntry * join(const TQString &nick,const TQString &user = TQString(),const TQString &host = TQString(),int iFlags = 0)
 		{ return m_pUserListView->join(nick,user,host,iFlags); };
diff --git a/src/kvirc/ui/kvi_console.cpp b/src/kvirc/ui/kvi_console.cpp
index fdce502..b2a19f4 100644
--- a/src/kvirc/ui/kvi_console.cpp
+++ b/src/kvirc/ui/kvi_console.cpp
@@ -1087,15 +1087,15 @@ void KviConsole::applyOptions()
 void KviConsole::resizeEvent(TQResizeEvent *e)
 {
 	int hght = m_pInput->heightHint();
-	int hght2 = m_pButtonBox->tqsizeHint().height();
+	int hght2 = m_pButtonBox->sizeHint().height();
 	m_pButtonBox->setGeometry(0,0,width(),hght2);
 	m_pSplitter->setGeometry(0,hght2,width(),height() - (hght + hght2));
 	m_pInput->setGeometry(0,height() - hght,width(),hght);
 }
 
-TQSize KviConsole::tqsizeHint() const
+TQSize KviConsole::sizeHint() const
 {
-	TQSize ret(m_pIrcView->tqsizeHint().height(),m_pIrcView->tqsizeHint().height() + m_pInput->heightHint());
+	TQSize ret(m_pIrcView->sizeHint().height(),m_pIrcView->sizeHint().height() + m_pInput->heightHint());
 	return ret;
 }
 
diff --git a/src/kvirc/ui/kvi_console.h b/src/kvirc/ui/kvi_console.h
index 18c02ee..a32ae7f 100644
--- a/src/kvirc/ui/kvi_console.h
+++ b/src/kvirc/ui/kvi_console.h
@@ -101,7 +101,7 @@ protected:
 	virtual void getBaseLogFileName(TQString &buffer);
 	virtual void getTaskBarTipText(TQString &buffer);
 	virtual void fillContextPopup(KviTalPopupMenu * p);
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 	virtual void applyOptions();
 	virtual void triggerCreationEvents();
 	void fillStatusString();
@@ -181,7 +181,7 @@ public:
 
 	void terminateConnectionRequest(bool bForce = false,const char * quitMsg = 0);
 
-	// tqStatus string (usermode + nick) (connection related too)
+	// Status string (usermode + nick) (connection related too)
 	const TQString & statusString(){ return m_szStatusString; };
 	
 	// forwarders from KviIrcConnection
diff --git a/src/kvirc/ui/kvi_cryptcontroller.cpp b/src/kvirc/ui/kvi_cryptcontroller.cpp
index 83ac72e..1af4c18 100644
--- a/src/kvirc/ui/kvi_cryptcontroller.cpp
+++ b/src/kvirc/ui/kvi_cryptcontroller.cpp
@@ -107,9 +107,9 @@
 		m_pDescriptionLabel = new TQLabel(this);
 		m_pDescriptionLabel->setFrameStyle(TQFrame::Sunken | TQFrame::StyledPanel);
 #ifdef COMPILE_USE_QT4
-		m_pDescriptionLabel->tqsetAlignment(TQt::AlignTop | TQt::AlignLeft);
+		m_pDescriptionLabel->setAlignment(TQt::AlignTop | TQt::AlignLeft);
 #else
-		m_pDescriptionLabel->tqsetAlignment(TQt::AlignTop | TQt::AlignLeft);
+		m_pDescriptionLabel->setAlignment(TQt::AlignTop | TQt::AlignLeft);
 #endif
 		g->addMultiCellWidget(m_pDescriptionLabel,3,3,1,3);
 
diff --git a/src/kvirc/ui/kvi_ctcppagedialog.cpp b/src/kvirc/ui/kvi_ctcppagedialog.cpp
index da82146..8a151e6 100644
--- a/src/kvirc/ui/kvi_ctcppagedialog.cpp
+++ b/src/kvirc/ui/kvi_ctcppagedialog.cpp
@@ -103,7 +103,7 @@ void KviCtcpPageDialog::addPage(const TQString &szNick,const TQString &szUser,co
 	TQLabel * l = new TQLabel(this);
 	l->setFrameStyle(TQFrame::Raised | TQFrame::StyledPanel);
 	//l->setMaximumWidth(600);
-	TQString date = TQDateTime::tqcurrentDateTime().toString();
+	TQString date = TQDateTime::currentDateTime().toString();
 
 	TQString tmp = "<center>";
 	tmp += __tr2qs("You have been paged by");
diff --git a/src/kvirc/ui/kvi_customtoolbar.cpp b/src/kvirc/ui/kvi_customtoolbar.cpp
index 828eb02..e6b234e 100644
--- a/src/kvirc/ui/kvi_customtoolbar.cpp
+++ b/src/kvirc/ui/kvi_customtoolbar.cpp
@@ -62,17 +62,17 @@ KviCustomToolBarSeparator::KviCustomToolBarSeparator(KviCustomToolBar *pParent,c
 	m_pToolBar = pParent;
 	setBackgroundMode(pParent->backgroundMode());
 	setBackgroundOrigin(ParentOrigin);
-	tqsetSizePolicy(TQSizePolicy(TQSizePolicy::Minimum,TQSizePolicy::Minimum));
+	setSizePolicy(TQSizePolicy(TQSizePolicy::Minimum,TQSizePolicy::Minimum));
 }
 
-TQSize KviCustomToolBarSeparator::tqsizeHint() const
+TQSize KviCustomToolBarSeparator::sizeHint() const
 {
 #ifdef COMPILE_USE_QT4
 	TQStyleOption opt;
 	opt.initFrom(this);
-	int extent = tqstyle()->tqpixelMetric(TQStyle::PM_ToolBarSeparatorExtent,&opt,this);
+	int extent = tqstyle()->pixelMetric(TQStyle::PM_ToolBarSeparatorExtent,&opt,this);
 #else
-	int extent = tqstyle().tqpixelMetric(TQStyle::PM_DockWindowSeparatorExtent,this);
+	int extent = tqstyle().pixelMetric(TQStyle::PM_DockWindowSeparatorExtent,this);
 #endif
 	if(m_pToolBar->orientation() == Qt::Horizontal)return TQSize(extent,0);
 	else return TQSize(0,extent);
@@ -88,7 +88,7 @@ void KviCustomToolBarSeparator::paintEvent(TQPaintEvent *)
 #else
 	TQStyle::SFlags flags = TQStyle::Style_Default;
 	if(m_pToolBar->orientation() == Qt::Horizontal)flags |= TQStyle::Style_Horizontal;
-	tqstyle().tqdrawPrimitive(TQStyle::PE_DockWindowSeparator,&p,rect(),tqcolorGroup(),flags);
+	tqstyle().tqdrawPrimitive(TQStyle::PE_DockWindowSeparator,&p,rect(),colorGroup(),flags);
 #endif
 }
 
@@ -293,7 +293,7 @@ void KviCustomToolBar::dragEnterEvent(TQDragEnterEvent *e)
 				boxLayout()->insertWidget(idx,m_pDraggedChild);
 #ifdef COMPILE_KDE_SUPPORT
 				// bleah ://///
-				insertWidget(-1,m_pDraggedChild->tqsizeHint().width(),m_pDraggedChild,idx);
+				insertWidget(-1,m_pDraggedChild->sizeHint().width(),m_pDraggedChild,idx);
 #endif
 #endif
 				TQEvent ev(TQEvent::LayoutHint);
diff --git a/src/kvirc/ui/kvi_customtoolbar.h b/src/kvirc/ui/kvi_customtoolbar.h
index ec6483b..d02ad59 100644
--- a/src/kvirc/ui/kvi_customtoolbar.h
+++ b/src/kvirc/ui/kvi_customtoolbar.h
@@ -41,7 +41,7 @@ class KviCustomToolBarSeparator : public TQWidget
   TQ_OBJECT
 public:
 	KviCustomToolBarSeparator(KviCustomToolBar *pParent,const char * name);
-	TQSize tqsizeHint() const;
+	TQSize sizeHint() const;
 protected:
 	KviCustomToolBar * m_pToolBar;
 protected:
diff --git a/src/kvirc/ui/kvi_debugwindow.cpp b/src/kvirc/ui/kvi_debugwindow.cpp
index 8110967..dcbb49d 100644
--- a/src/kvirc/ui/kvi_debugwindow.cpp
+++ b/src/kvirc/ui/kvi_debugwindow.cpp
@@ -124,9 +124,9 @@ void KviDebugWindow::resizeEvent(TQResizeEvent *e)
 	m_pInput->setGeometry(0,height() - hght,width(),hght);
 }
 
-TQSize KviDebugWindow::tqsizeHint() const
+TQSize KviDebugWindow::sizeHint() const
 {
-	TQSize ret(m_pSplitter->tqsizeHint().width(),m_pIrcView->tqsizeHint().height() + m_pInput->heightHint());
+	TQSize ret(m_pSplitter->sizeHint().width(),m_pIrcView->sizeHint().height() + m_pInput->heightHint());
 	return ret;
 }
 
diff --git a/src/kvirc/ui/kvi_debugwindow.h b/src/kvirc/ui/kvi_debugwindow.h
index 616752a..1eab1ee 100644
--- a/src/kvirc/ui/kvi_debugwindow.h
+++ b/src/kvirc/ui/kvi_debugwindow.h
@@ -49,7 +49,7 @@ protected:
 	virtual void loadProperties(KviConfig * cfg);
 	virtual void saveProperties(KviConfig * cfg);
 	virtual void getBaseLogFileName(TQString &buffer);
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 };
 
 #endif //_KVI_DEBUGWINDOW_H_
diff --git a/src/kvirc/ui/kvi_frame.cpp b/src/kvirc/ui/kvi_frame.cpp
index db5efa8..96c63e6 100644
--- a/src/kvirc/ui/kvi_frame.cpp
+++ b/src/kvirc/ui/kvi_frame.cpp
@@ -879,7 +879,7 @@ void KviFrame::childWindowActivated(KviWindow *wnd)
 	if(wnd->isMaximized() && wnd->mdiParent())updateCaption();
 	m_pTaskBar->setActiveItem(wnd->taskBarItem());
 
-	//wnd->gainedActiveWindowtqStatus(); // <-- atm unused
+	//wnd->gainedActiveWindowStatus(); // <-- atm unused
 	
 	if(g_pActiveWindow->view())
 		g_pActiveWindow->view()->clearUnreaded();
@@ -1165,7 +1165,7 @@ void KviFrame::toolbarsPopupSelected(int id)
 bool KviFrame::focusNextPrevChild(bool next)
 {
 	//debug("FOCUS NEXT PREV CHILD");
-	TQWidget * w = tqfocusWidget();
+	TQWidget * w = focusWidget();
 	if(w)
 	{
 #ifdef COMPILE_USE_QT4
diff --git a/src/kvirc/ui/kvi_imagedialog.cpp b/src/kvirc/ui/kvi_imagedialog.cpp
index a4c89ad..03eeeee 100644
--- a/src/kvirc/ui/kvi_imagedialog.cpp
+++ b/src/kvirc/ui/kvi_imagedialog.cpp
@@ -67,7 +67,7 @@ void KviImageDialogItem::paint(TQPainter * p)
 		p->drawRect(3,3,pm->width() + 4,pm->height() + 4);
 	}
 
-	TQRect daRect(listBox()->tqitemRect(this));
+	TQRect daRect(listBox()->itemRect(this));
 
 	p->setPen(TQt::black);
 	p->drawRect(1,1,daRect.width() - 2,daRect.height() - 2);
@@ -361,7 +361,7 @@ void KviImageDialog::tipRequest(KviDynamicToolTip *,const TQPoint &pnt)
 {
 	KviTalListBoxItem * it = (KviTalListBoxItem *)m_pListBox->itemAt(pnt);
 	if(!it)return;
-	TQRect r = m_pListBox->tqitemRect(it);
+	TQRect r = m_pListBox->itemRect(it);
 	KviImageDialogItem * i = (KviImageDialogItem *)it;
 	m_pTip->tip(r,i->tipText());
 }
diff --git a/src/kvirc/ui/kvi_input.cpp b/src/kvirc/ui/kvi_input.cpp
index 5258577..5445738 100644
--- a/src/kvirc/ui/kvi_input.cpp
+++ b/src/kvirc/ui/kvi_input.cpp
@@ -299,10 +299,10 @@ void KviInputEditor::dropEvent(TQDropEvent *e)
 
 int  KviInputEditor::heightHint() const
 {
-	return tqsizeHint().height();
+	return sizeHint().height();
 }
 
-TQSize KviInputEditor::tqsizeHint() const
+TQSize KviInputEditor::sizeHint() const
 {
 	//grabbed from qlineedit.cpp
 	constPolish();
@@ -2335,7 +2335,7 @@ KviInput::KviInput(KviWindow *par,KviUserListView * view)
 	m_pButtonContainer->setSpacing(0);
 
 #ifdef COMPILE_USE_QT4
-	m_pButtonContainer->tqsetSizePolicy(TQSizePolicy(TQSizePolicy::Minimum,TQSizePolicy::Preferred));
+	m_pButtonContainer->setSizePolicy(TQSizePolicy(TQSizePolicy::Minimum,TQSizePolicy::Preferred));
 //	if(m_pButtonContainer->tqlayout())
 //		m_pButtonContainer->tqlayout()->setSizeConstraint(TQLayout::SetMinimumSize);
 #endif
@@ -2396,9 +2396,9 @@ KviInput::KviInput(KviWindow *par,KviUserListView * view)
 	m_pInputEditor = new KviInputEditor(this,par,view);
 	connect(m_pInputEditor,TQT_SIGNAL(enterPressed()),this,TQT_SLOT(inputEditorEnterPressed()));
 #ifdef COMPILE_USE_QT4
-	m_pInputEditor->tqsetSizePolicy(TQSizePolicy(TQSizePolicy::Expanding,TQSizePolicy::Ignored));
+	m_pInputEditor->setSizePolicy(TQSizePolicy(TQSizePolicy::Expanding,TQSizePolicy::Ignored));
 #else
-	m_pInputEditor->tqsetSizePolicy(TQSizePolicy(TQSizePolicy::Ignored,TQSizePolicy::Ignored));
+	m_pInputEditor->setSizePolicy(TQSizePolicy(TQSizePolicy::Ignored,TQSizePolicy::Ignored));
 #endif
 	
 
diff --git a/src/kvirc/ui/kvi_input.h b/src/kvirc/ui/kvi_input.h
index 777fb41..6e2d5c9 100644
--- a/src/kvirc/ui/kvi_input.h
+++ b/src/kvirc/ui/kvi_input.h
@@ -144,7 +144,7 @@ protected:
 	bool			 m_bReadOnly;
 public:
 	int  heightHint() const;
-	virtual TQSize  tqsizeHint() const;
+	virtual TQSize  sizeHint() const;
 	void setText(const TQString text);
 	TQString text() { return m_szTextBuffer; };
 	void insertChar(TQChar c);
diff --git a/src/kvirc/ui/kvi_ipeditor.cpp b/src/kvirc/ui/kvi_ipeditor.cpp
index 0e12d2d..df15e02 100644
--- a/src/kvirc/ui/kvi_ipeditor.cpp
+++ b/src/kvirc/ui/kvi_ipeditor.cpp
@@ -208,7 +208,7 @@ void KviIpEditor::recreateChildren()
 			m_pEdit[i] = new TQLineEdit(this);
 			m_pEdit[i]->installEventFilter(this);
 			m_pEdit[i]->setFrame(false);
-			m_pEdit[i]->tqsetAlignment(TQt::AlignCenter);
+			m_pEdit[i]->setAlignment(TQt::AlignCenter);
 		}
 		//m_pEdit[i]->setMinimumWidth(minWidth);
 		m_pEdit[i]->setMaxLength(bIpV4 ? 3 : 4);
@@ -243,8 +243,8 @@ void KviIpEditor::recreateChildren()
 			}
 		}
 	}
-	//setMinimumWidth(4 + (max * minWidth) + ((max - 1) * m_pLabel[0]->tqsizeHint().width()));
-	setMinimumHeight(m_pLabel[0]->tqsizeHint().height() + 4);
+	//setMinimumWidth(4 + (max * minWidth) + ((max - 1) * m_pLabel[0]->sizeHint().width()));
+	setMinimumHeight(m_pLabel[0]->sizeHint().height() + 4);
 	resizeEvent(0);
 }
 
@@ -395,7 +395,7 @@ void KviIpEditor::resizeEvent(TQResizeEvent *e)
 	if(m_pEdit[0])
 	{
 		int maxW = (m_addrType == IpV4) ? 4 : 8;
-		int labHint = m_pLabel[0]->tqsizeHint().width();
+		int labHint = m_pLabel[0]->sizeHint().width();
 		int hghHint = height() - 4;
 		int ediWdth = ((width() - 4) - ((maxW - 1) * labHint)) / maxW;
 		int curX = 2;
@@ -413,16 +413,16 @@ void KviIpEditor::resizeEvent(TQResizeEvent *e)
 	if(e)TQFrame::resizeEvent(e);
 }
 
-TQSize KviIpEditor::tqsizeHint()
+TQSize KviIpEditor::sizeHint()
 {
 	if(m_pEdit[0])
 	{
-		int labHint = m_pLabel[0]->tqsizeHint().width();
-		int hghHint = m_pEdit[0]->tqsizeHint().height();
-		int ediHint = m_pEdit[0]->tqsizeHint().width();
+		int labHint = m_pLabel[0]->sizeHint().width();
+		int hghHint = m_pEdit[0]->sizeHint().height();
+		int ediHint = m_pEdit[0]->sizeHint().width();
 		if(m_addrType == IpV4)return TQSize((labHint * 3) + (ediHint * 4) + 4,hghHint + 4);
 		else return TQSize((labHint * 7) + (ediHint * 8) + 4,hghHint + 4);
-	} else return TQFrame::tqsizeHint();
+	} else return TQFrame::sizeHint();
 }
 
 
diff --git a/src/kvirc/ui/kvi_ipeditor.h b/src/kvirc/ui/kvi_ipeditor.h
index 19e2a3c..625f164 100644
--- a/src/kvirc/ui/kvi_ipeditor.h
+++ b/src/kvirc/ui/kvi_ipeditor.h
@@ -55,7 +55,7 @@ public:
 protected:
 	virtual bool eventFilter(TQObject * o,TQEvent *e);
 	virtual void resizeEvent(TQResizeEvent *e);
-	virtual TQSize tqsizeHint();
+	virtual TQSize sizeHint();
 private:
 	void recreateChildren();
 };
diff --git a/src/kvirc/ui/kvi_irctoolbar.cpp b/src/kvirc/ui/kvi_irctoolbar.cpp
index e551771..2f2a237 100644
--- a/src/kvirc/ui/kvi_irctoolbar.cpp
+++ b/src/kvirc/ui/kvi_irctoolbar.cpp
@@ -77,7 +77,7 @@ KviToolBarGraphicalApplet::KviToolBarGraphicalApplet(TQWidget * par,const char *
 	setMouseTracking(true);
 	m_bResizeMode = false;
 
-	m_tqsizeHint = TQSize(180,32);
+	m_sizeHint = TQSize(180,32);
 	m_bSizeLoaded = false;
 }
 
@@ -95,16 +95,16 @@ void KviToolBarGraphicalApplet::saveAppletWidth(unsigned int uWidth)
 
 void KviToolBarGraphicalApplet::setupSizeHint()
 {
-	m_tqsizeHint = TQSize(loadAppletWidth(),22);
+	m_sizeHint = TQSize(loadAppletWidth(),22);
 	m_bSizeLoaded = true;
 }
 
-TQSize KviToolBarGraphicalApplet::tqsizeHint() const
+TQSize KviToolBarGraphicalApplet::sizeHint() const
 {
 	// forget constness :(
 	KviToolBarGraphicalApplet * that = (KviToolBarGraphicalApplet *)this;
 	if(!m_bSizeLoaded)that->setupSizeHint();
-	return m_tqsizeHint;
+	return m_sizeHint;
 }
 
 /*
@@ -127,7 +127,7 @@ void KviToolBarGraphicalApplet::mouseMoveEvent(TQMouseEvent * e)
 			int w = e->pos().x();
 			if(w < 32)w = 32;
 			if(w > 480)w = 480;
-			m_tqsizeHint = TQSize(w,22);
+			m_sizeHint = TQSize(w,22);
 			resize(w,height());
 			g_pApp->postEvent(parentWidget(),new TQEvent(TQEvent::LayoutHint));
 		}
@@ -155,7 +155,7 @@ void KviToolBarGraphicalApplet::mouseReleaseEvent(TQMouseEvent * e)
 
 KviToolBarGraphicalApplet::~KviToolBarGraphicalApplet()
 {
-	saveAppletWidth(m_tqsizeHint.width());
+	saveAppletWidth(m_sizeHint.width());
 	g_pToolBarGraphicalAppletList->removeRef(this);
 	if(g_pToolBarGraphicalAppletList->isEmpty())
 	{
@@ -208,10 +208,10 @@ void KviToolBarGraphicalApplet::paintEvent(TQPaintEvent *e)
 	drawContents(&pa);
 
 	//Need to draw the sunken rect around the view now...
-	pa.setPen(tqcolorGroup().dark());
+	pa.setPen(colorGroup().dark());
 	pa.drawLine(0,0,width(),0);
 	pa.drawLine(0,0,0,width());
-	pa.setPen(tqcolorGroup().light());
+	pa.setPen(colorGroup().light());
 	pa.drawLine(1,height() - 1,width() - 1,height() - 1);
 	pa.drawLine(width() - 1,1,width() - 1,height());
 
@@ -332,7 +332,7 @@ void KviIrcContextDisplay::tipRequest(KviDynamicToolTip * tip,const TQPoint &)
 
 
 /*
-TQSize KviIrcContextDisplay::tqsizeHint() const
+TQSize KviIrcContextDisplay::sizeHint() const
 {
 	return TQSize(160,22);
 }
@@ -416,7 +416,7 @@ void KviIrcContextDisplay::drawContents(TQPainter * p)
 	
 		p->setClipping(false);
 
-		TQColor base = tqcolorGroup().background();
+		TQColor base = colorGroup().background();
 		TQColor cntx = KVI_OPTION_ICCOLOR(c->ircContextId() % KVI_NUM_ICCOLOR_OPTIONS);
 		base.setRgb((base.red() + cntx.red()) >> 1,(base.green() + cntx.green()) >> 1,
 			(base.blue() + cntx.blue()) >> 1);
diff --git a/src/kvirc/ui/kvi_irctoolbar.h b/src/kvirc/ui/kvi_irctoolbar.h
index dd6c93e..1b1d94e 100644
--- a/src/kvirc/ui/kvi_irctoolbar.h
+++ b/src/kvirc/ui/kvi_irctoolbar.h
@@ -55,7 +55,7 @@ public:
 private:
 	bool m_bResizeMode;
 	bool m_bSizeLoaded;
-	TQSize m_tqsizeHint;
+	TQSize m_sizeHint;
 private:
 	void resizeMemBuffer();
 protected:
@@ -63,7 +63,7 @@ protected:
 
 	virtual unsigned int loadAppletWidth();
 	virtual void saveAppletWidth(unsigned int uWidth);
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 	virtual void mouseMoveEvent(TQMouseEvent *e);
 	virtual void mousePressEvent(TQMouseEvent *e);
 	virtual void mouseReleaseEvent(TQMouseEvent *e);
diff --git a/src/kvirc/ui/kvi_ircview.cpp b/src/kvirc/ui/kvi_ircview.cpp
index a500c46..9d469f7 100644
--- a/src/kvirc/ui/kvi_ircview.cpp
+++ b/src/kvirc/ui/kvi_ircview.cpp
@@ -165,7 +165,7 @@
 
 #define KVI_DEF_BACK 200
 
-// FIXME: #warning "The scrollbar should NOT have a fixed size : the KDE styles can configure the size (tqsizeHint() ?)"
+// FIXME: #warning "The scrollbar should NOT have a fixed size : the KDE styles can configure the size (sizeHint() ?)"
 
 //
 // FIXME: PgUp and PgDn scrolls a fixed number of lines!
@@ -532,7 +532,7 @@ void KviIrcView::stopLogging()
 	if(m_pLogFile)
 	{
 		TQString szLogEnd;
-		szLogEnd.sprintf(__tr2qs("### Log session terminated at %s ###"),TQDateTime::tqcurrentDateTime().toString().utf8().data());
+		szLogEnd.sprintf(__tr2qs("### Log session terminated at %s ###"),TQDateTime::currentDateTime().toString().utf8().data());
 		
 		add2Log(szLogEnd);	
 		m_pLogFile->close();
@@ -706,7 +706,7 @@ bool KviIrcView::startLogging(const TQString& fname,bool bPrependCurBuffer)
 	}
 
 	TQString szLogStart;
-	szLogStart.sprintf(__tr2qs("### Log session started at %s ###"),TQDateTime::tqcurrentDateTime().toString().utf8().data());
+	szLogStart.sprintf(__tr2qs("### Log session started at %s ###"),TQDateTime::currentDateTime().toString().utf8().data());
 	add2Log(szLogStart);
 	if(bPrependCurBuffer)
 	{
@@ -803,7 +803,7 @@ void KviIrcView::clearLineMark(bool bRepaint)
 
 void KviIrcView::checkLogDate()
 {
-	TQDate::tqcurrentDate();
+	TQDate::currentDate();
 }
 
 void KviIrcView::clearUnreaded()
@@ -1264,7 +1264,7 @@ void KviIrcView::appendText(int iMsgType,const kvi_wchar_t *data_ptr,int iFlags)
 		{
 			TQString szBuffer;
 			kvi_appendWCharToTQStringWithLength(&szBuffer,data_ptr,kvi_wstrlen(data_ptr));
-			szBuffer.prepend(TQDateTime::tqcurrentDateTime().toString("[h:mm:ss] "));
+			szBuffer.prepend(TQDateTime::currentDateTime().toString("[h:mm:ss] "));
 			if(m_pLogFile && KVI_OPTION_MSGTYPE(iMsgType).logEnabled())
 			{
 				add2Log(szBuffer,iMsgType);
@@ -1923,7 +1923,7 @@ const kvi_wchar_t * KviIrcView::getTextLine(int iMsgType,
 	if(bEnableTimeStamp && KVI_OPTION_BOOL(KviOption_boolIrcViewTimestamp))
 	{
 		TQString szTimestamp;
-		szTimestamp=TQDateTime::tqcurrentDateTime ( 
+		szTimestamp=TQDateTime::currentDateTime ( 
 				KVI_OPTION_BOOL(KviOption_boolIrcViewTimestampUTC) ? Qt::UTC : Qt::LocalTime ).toString(
 					KVI_OPTION_STRING(KviOption_stringIrcViewTimestampFormat) );
 		szTimestamp.append(' ');
@@ -3428,10 +3428,10 @@ no_selection_paint:
 	}
 	
 	//Need to draw the sunken rect around the view now...
-	pa.setPen(tqcolorGroup().dark());
+	pa.setPen(colorGroup().dark());
 	pa.drawLine(0,0,widgetWidth,0);
 	pa.drawLine(0,0,0,widgetHeight);
-	pa.setPen(tqcolorGroup().light());
+	pa.setPen(colorGroup().light());
 	widgetWidth--;
 	pa.drawLine(1,widgetHeight-1,widgetWidth,widgetHeight-1);
 	pa.drawLine(widgetWidth,1,widgetWidth,widgetHeight);
@@ -3858,7 +3858,7 @@ void KviIrcView::recalcFontVariables(const TQFontMetrics &fm,const TQFontInfo &f
 
 void KviIrcView::resizeEvent(TQResizeEvent *)
 {
-	int iScr = m_pScrollBar->tqsizeHint().width();
+	int iScr = m_pScrollBar->sizeHint().width();
 	int iLeft = width()-iScr;
 	m_pToolsButton->setGeometry(iLeft,0,iScr,iScr);
 	m_pScrollBar->setGeometry(iLeft,iScr,iScr,height() - iScr);
@@ -3873,7 +3873,7 @@ void KviIrcView::resizeEvent(TQResizeEvent *)
 	}
 }
 
-TQSize KviIrcView::tqsizeHint() const
+TQSize KviIrcView::sizeHint() const
 {
 	TQSize ret(KVI_IRCVIEW_SIZEHINT_WIDTH,KVI_IRCVIEW_SIZEHINT_HEIGHT);
 	return ret;
@@ -3900,7 +3900,7 @@ void KviIrcView::showToolsPopup()
 	m_pToolsPopup->insertSeparator();
 	m_pToolsPopup->insertItem(__tr2qs("Clear Buffer"),this,TQT_SLOT(clearBuffer()));
 	
-	TQSize s = m_pToolsPopup->tqsizeHint();
+	TQSize s = m_pToolsPopup->sizeHint();
 
 	m_pToolsPopup->popup(m_pToolsButton->mapToGlobal(TQPoint(m_pToolsButton->width() - s.width(),m_pToolsButton->height())));
 }
@@ -3959,7 +3959,7 @@ void KviIrcView::toggleToolWidget()
 
 	} else {
 		m_pToolWidget = new KviIrcViewToolWidget(this);
-		int w = m_pToolWidget->tqsizeHint().width();
+		int w = m_pToolWidget->sizeHint().width();
 		m_pToolWidget->move(width() - (w + 40),10);
 		m_pToolWidget->show();
 	}
diff --git a/src/kvirc/ui/kvi_ircview.h b/src/kvirc/ui/kvi_ircview.h
index 092d5ed..84b485f 100644
--- a/src/kvirc/ui/kvi_ircview.h
+++ b/src/kvirc/ui/kvi_ircview.h
@@ -197,7 +197,7 @@ public:
 	void nextLine();
 	void nextPage();
 	void prevPage();
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 	const TQString & lastLineOfText();
 	const TQString & lastMessageText();
 	virtual void setFont(const TQFont &f);
diff --git a/src/kvirc/ui/kvi_mdicaption.cpp b/src/kvirc/ui/kvi_mdicaption.cpp
index f1d47c9..7f57350 100644
--- a/src/kvirc/ui/kvi_mdicaption.cpp
+++ b/src/kvirc/ui/kvi_mdicaption.cpp
@@ -81,11 +81,11 @@ void KviMdiCaptionButton::drawButton(TQPainter *p)
 #ifdef COMPILE_USE_QT4
 	TQBrush b(parentWidget()->palette().window());
 #else
-	TQBrush b(parentWidget()->tqcolorGroup().background());
+	TQBrush b(parentWidget()->colorGroup().background());
 #endif
 	
 	if(isDown())
-		qDrawShadePanel(p,0,0,width(),height(),tqcolorGroup(),true,1,&b);
+		qDrawShadePanel(p,0,0,width(),height(),colorGroup(),true,1,&b);
 	else
 		p->fillRect(0,0,width(),height(),b);
 
@@ -229,7 +229,7 @@ void KviMdiCaption::paintEvent(TQPaintEvent * e)
 	TQPainter p(this);
 	p.fillRect(r,m_bActive ? KVI_OPTION_COLOR(KviOption_colorMdiCaptionActive) : KVI_OPTION_COLOR(KviOption_colorMdiCaptionInactive));
 	TQSimpleRichText rt(m_bActive ? ((KviMdiChild *)parent())->xmlActiveCaption() : ((KviMdiChild *)parent())->xmlInactiveCaption(),font());
-	rt.draw(&p,height() + 2,-1,rect(),tqcolorGroup());
+	rt.draw(&p,height() + 2,-1,rect(),colorGroup());
 }
 
 void KviMdiCaption::mouseReleaseEvent(TQMouseEvent *)
@@ -278,7 +278,7 @@ KviMenuBarToolButton::~KviMenuBarToolButton()
 {
 }
 
-TQSize KviMenuBarToolButton::tqsizeHint() const
+TQSize KviMenuBarToolButton::sizeHint() const
 {
 	return TQSize(20,20);
 }
diff --git a/src/kvirc/ui/kvi_mdicaption.h b/src/kvirc/ui/kvi_mdicaption.h
index c46572a..d214d9a 100644
--- a/src/kvirc/ui/kvi_mdicaption.h
+++ b/src/kvirc/ui/kvi_mdicaption.h
@@ -57,7 +57,7 @@ public:
 	KviMenuBarToolButton(TQWidget * par,const TQPixmap &img, const char * name);
 	~KviMenuBarToolButton();
 public:
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 };
 
 
diff --git a/src/kvirc/ui/kvi_mdichild.cpp b/src/kvirc/ui/kvi_mdichild.cpp
index 2bf0130..248a2a1 100644
--- a/src/kvirc/ui/kvi_mdichild.cpp
+++ b/src/kvirc/ui/kvi_mdichild.cpp
@@ -442,8 +442,8 @@ void KviMdiChild::calculateResizeRect(int resizeCorner,TQPoint mousePos,TQRect &
 void KviMdiChild::calculateMinimumSize(int &minWidth,int &minHeight)
 {
 	if(m_pClient){
-		minWidth  = m_pClient->tqminimumSize().width() + (KVI_MDICHILD_BORDER << 1);
-		minHeight = m_pClient->tqminimumSize().height()+ (KVI_MDICHILD_BORDER << 1)+
+		minWidth  = m_pClient->minimumSize().width() + (KVI_MDICHILD_BORDER << 1);
+		minHeight = m_pClient->minimumSize().height()+ (KVI_MDICHILD_BORDER << 1)+
 					m_pCaption->heightHint() + KVI_MDICHILD_SPACING;
 	}
 	if(minWidth<KVI_MDICHILD_MIN_WIDTH)minWidth=KVI_MDICHILD_MIN_WIDTH;
@@ -508,10 +508,10 @@ void KviMdiChild::setClient(TQWidget *w)
 */
 	//linkChildren(w);
 
-	if(m_pClient->tqminimumSize().width() > KVI_MDICHILD_MIN_WIDTH && 
-		m_pClient->tqminimumSize().height() > KVI_MDICHILD_MIN_HEIGHT){
-		setMinimumWidth(m_pClient->tqminimumSize().width() + (KVI_MDICHILD_BORDER << 1));
-		setMinimumHeight(m_pClient->tqminimumSize().height()+ (KVI_MDICHILD_BORDER << 1) +
+	if(m_pClient->minimumSize().width() > KVI_MDICHILD_MIN_WIDTH && 
+		m_pClient->minimumSize().height() > KVI_MDICHILD_MIN_HEIGHT){
+		setMinimumWidth(m_pClient->minimumSize().width() + (KVI_MDICHILD_BORDER << 1));
+		setMinimumHeight(m_pClient->minimumSize().height()+ (KVI_MDICHILD_BORDER << 1) +
 					m_pCaption->heightHint() + KVI_MDICHILD_SPACING);
 	}
 
@@ -561,16 +561,16 @@ void KviMdiChild::focusInEvent(TQFocusEvent *)
 #endif
 }
 
-TQSize KviMdiChild::tqsizeHint()
+TQSize KviMdiChild::sizeHint()
 {
 	if(m_pClient)
 	{
-		TQSize s = m_pClient->tqsizeHint();
+		TQSize s = m_pClient->sizeHint();
 		TQSize ret(s.width() + (KVI_MDICHILD_BORDER << 1),
 				s.height() + (KVI_MDICHILD_BORDER << 1) + KVI_MDICHILD_SPACING + m_pCaption->heightHint());
 		return ret;
 	}
-	return TQFrame::tqsizeHint();
+	return TQFrame::sizeHint();
 }
 
 
diff --git a/src/kvirc/ui/kvi_mdichild.h b/src/kvirc/ui/kvi_mdichild.h
index feac48b..6d7b879 100644
--- a/src/kvirc/ui/kvi_mdichild.h
+++ b/src/kvirc/ui/kvi_mdichild.h
@@ -77,7 +77,7 @@ public:
 	const TQString & xmlActiveCaption(){ return m_szXmlActiveCaption; };
 	const TQString & xmlInactiveCaption(){ return m_szXmlInactiveCaption; };
 	void setCaption(const TQString & plain,const TQString & xmlActive,const TQString & xmlInactive);
-	virtual TQSize tqsizeHint();
+	virtual TQSize sizeHint();
 	void setIcon(const TQPixmap &pix);
 	const TQPixmap * icon();
 	void enableClose(bool bEnable);
diff --git a/src/kvirc/ui/kvi_mdimanager.cpp b/src/kvirc/ui/kvi_mdimanager.cpp
index 9163595..59f5850 100644
--- a/src/kvirc/ui/kvi_mdimanager.cpp
+++ b/src/kvirc/ui/kvi_mdimanager.cpp
@@ -225,7 +225,7 @@ void KviMdiManager::setTopChild(KviMdiChild *lpC,bool bSetFocus)
 		{
 			lpC->setFocus();
 			/*
-			if(tqtopLevelWidget()->isActiveWindow())
+			if(topLevelWidget()->isActiveWindow())
 			{
 				
 			}
@@ -284,8 +284,8 @@ TQPoint KviMdiManager::getCascadePoint(int indexOfWindow)
 	if(indexOfWindow==0)return pnt;
 	KviMdiChild *lpC=m_pZ->first();
 	int step=(lpC ? (lpC->captionLabel()->heightHint()+KVI_MDICHILD_BORDER) : 20);
-	int availableHeight=viewport()->height()-(lpC ? lpC->tqminimumSize().height() : KVI_MDICHILD_MIN_HEIGHT);
-	int availableWidth=viewport()->width()-(lpC ? lpC->tqminimumSize().width() : KVI_MDICHILD_MIN_WIDTH);
+	int availableHeight=viewport()->height()-(lpC ? lpC->minimumSize().height() : KVI_MDICHILD_MIN_HEIGHT);
+	int availableWidth=viewport()->width()-(lpC ? lpC->minimumSize().width() : KVI_MDICHILD_MIN_WIDTH);
 	int ax=0;
 	int ay=0;
 	for(int i=0;i<indexOfWindow;i++)
@@ -814,7 +814,7 @@ void KviMdiManager::cascadeWindows()
 		{
 			TQPoint p = getCascadePoint(idx);
 			moveChild(lpC,p.x(),p.y());
-			lpC->resize(lpC->tqsizeHint());
+			lpC->resize(lpC->sizeHint());
 			idx++;
 		}
 		list.removeFirst();
@@ -844,8 +844,8 @@ void KviMdiManager::cascadeMaximized()
 			TQPoint pnt(getCascadePoint(idx));
 			moveChild(lpC,pnt.x(),pnt.y());
 			TQSize curSize(viewport()->width() - pnt.x(),viewport()->height() - pnt.y());
-			if((lpC->tqminimumSize().width() > curSize.width()) ||
-				(lpC->tqminimumSize().height() > curSize.height()))lpC->resize(lpC->tqminimumSize());
+			if((lpC->minimumSize().width() > curSize.width()) ||
+				(lpC->minimumSize().height() > curSize.height()))lpC->resize(lpC->minimumSize());
 			else lpC->resize(curSize);
 			idx++;
 		}
@@ -1007,13 +1007,13 @@ void KviMdiManager::tileAllInternal(int maxWnds,bool bHorizontal)
 
 	int numToHandle=((numVisible > maxWnds) ? maxWnds : numVisible);
 	int xQuantum=viewport()->width()/pColstable[numToHandle-1];
-	if(xQuantum < ((lpTop->tqminimumSize().width() > KVI_MDICHILD_MIN_WIDTH) ? lpTop->tqminimumSize().width() : KVI_MDICHILD_MIN_WIDTH)){
+	if(xQuantum < ((lpTop->minimumSize().width() > KVI_MDICHILD_MIN_WIDTH) ? lpTop->minimumSize().width() : KVI_MDICHILD_MIN_WIDTH)){
 		if(pColrecall[numToHandle-1]==0)debug("Tile : Not enouh space");
 		else tileAllInternal(pColrecall[numToHandle-1],bHorizontal);
 		return;
 	}
 	int yQuantum=viewport()->height()/pRowstable[numToHandle-1];
-	if(yQuantum < ((lpTop->tqminimumSize().height() > KVI_MDICHILD_MIN_HEIGHT) ? lpTop->tqminimumSize().height() : KVI_MDICHILD_MIN_HEIGHT)){
+	if(yQuantum < ((lpTop->minimumSize().height() > KVI_MDICHILD_MIN_HEIGHT) ? lpTop->minimumSize().height() : KVI_MDICHILD_MIN_HEIGHT)){
 		if(pRowrecall[numToHandle-1]==0)debug("Tile : Not enough space");
 		else tileAllInternal(pRowrecall[numToHandle-1],bHorizontal);
 		return;
diff --git a/src/kvirc/ui/kvi_optionswidget.cpp b/src/kvirc/ui/kvi_optionswidget.cpp
index 8b959a7..d0dae63 100644
--- a/src/kvirc/ui/kvi_optionswidget.cpp
+++ b/src/kvirc/ui/kvi_optionswidget.cpp
@@ -676,7 +676,7 @@ KviTalGroupBox * KviOptionsWidget::addGroupBox(int x1,int y1,int x2,int y2,int n
 
 void KviOptionsWidget::addAdvancedButton(int x1,int y1,int x2,int y2)
 {
-	TQWidget * w = tqtopLevelWidget();
+	TQWidget * w = topLevelWidget();
 	if(!w)return;
 	if(!w->inherits("KviGeneralOptionsDialog"))return;
 
diff --git a/src/kvirc/ui/kvi_query.cpp b/src/kvirc/ui/kvi_query.cpp
index ce26661..a5455bb 100644
--- a/src/kvirc/ui/kvi_query.cpp
+++ b/src/kvirc/ui/kvi_query.cpp
@@ -559,15 +559,15 @@ TQPixmap * KviQuery::myIconPtr()
 void KviQuery::resizeEvent(TQResizeEvent *e)
 {
 	int hght = m_pInput->heightHint();
-	int hght2 = m_pButtonBox->tqsizeHint().height();
+	int hght2 = m_pButtonBox->sizeHint().height();
 	m_pButtonBox->setGeometry(0,0,width(),hght2);
 	m_pSplitter->setGeometry(0,hght2,width(),height() - (hght + hght2));
 	m_pInput->setGeometry(0,height() - hght,width(),hght);
 }
 
-TQSize KviQuery::tqsizeHint() const
+TQSize KviQuery::sizeHint() const
 {
-	TQSize ret(m_pSplitter->tqsizeHint().width(),m_pIrcView->tqsizeHint().height() + m_pInput->heightHint());
+	TQSize ret(m_pSplitter->sizeHint().width(),m_pIrcView->sizeHint().height() + m_pInput->heightHint());
 	return ret;
 }
 
diff --git a/src/kvirc/ui/kvi_query.h b/src/kvirc/ui/kvi_query.h
index 3b1a81b..d0a12e5 100644
--- a/src/kvirc/ui/kvi_query.h
+++ b/src/kvirc/ui/kvi_query.h
@@ -66,7 +66,7 @@ public:
 	void setDeadQuery();
 	void setAliveQuery();
 	bool isDeadQuery(){ return m_iFlags & KVI_TQUERY_FLAG_DEAD; };
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 	virtual const TQString & target(){ return windowName(); };
 	virtual void applyOptions();
 	KviUserListEntry * setTarget(const TQString &nick,const TQString &user,const TQString &host);
diff --git a/src/kvirc/ui/kvi_selectors.cpp b/src/kvirc/ui/kvi_selectors.cpp
index c3e5473..f63392e 100644
--- a/src/kvirc/ui/kvi_selectors.cpp
+++ b/src/kvirc/ui/kvi_selectors.cpp
@@ -513,7 +513,7 @@ KviColorSelector::KviColorSelector(TQWidget * par,const TQString & txt,TQColor *
 
 void KviColorSelector::setButtonPalette(TQColor * pOption)
 {
-	TQPalette pal(*pOption,tqcolorGroup().background());
+	TQPalette pal(*pOption,colorGroup().background());
 	m_memColor = *pOption;
 	m_pButton->setPalette(pal);
 
diff --git a/src/kvirc/ui/kvi_statusbar.cpp b/src/kvirc/ui/kvi_statusbar.cpp
index 861facd..1985217 100644
--- a/src/kvirc/ui/kvi_statusbar.cpp
+++ b/src/kvirc/ui/kvi_statusbar.cpp
@@ -106,9 +106,9 @@ KviStatusBar::KviStatusBar(KviFrame * pFrame)
 	m_pMessageLabel = new TQLabel("<b>[x]</b> x",this,"msgstatuslabel");
 	m_pMessageLabel->setMargin(1);
 #ifdef COMPILE_USE_QT4
-	m_pMessageLabel->tqsetAlignment(TQt::AlignVCenter | TQt::AlignLeft);
+	m_pMessageLabel->setAlignment(TQt::AlignVCenter | TQt::AlignLeft);
 #else
-	m_pMessageLabel->tqsetAlignment(SingleLine | TQt::AlignVCenter | TQt::AlignLeft);
+	m_pMessageLabel->setAlignment(SingleLine | TQt::AlignVCenter | TQt::AlignLeft);
 #endif
 	m_pMessageLabel->setMinimumWidth(350);
 	
@@ -210,7 +210,7 @@ void KviStatusBar::layoutChildren()
 	int h = height() - (VMARGIN * 2);
 	for(KviStatusBarApplet * a = m_pAppletList->last();a;a = m_pAppletList->prev())
 	{
-		int w = a->tqsizeHint().width();
+		int w = a->sizeHint().width();
 		x -= w;
 		a->setGeometry(x,VMARGIN,w,h);
 		x -= SPACING;
@@ -237,11 +237,11 @@ bool KviStatusBar::event(TQEvent * e)
 void KviStatusBar::recalcMinimumHeight()
 {
 	int s = 18;
-	int h = m_pMessageLabel->tqsizeHint().height();
+	int h = m_pMessageLabel->sizeHint().height();
 	if(h > s)s = h;
 	for(KviStatusBarApplet * a = m_pAppletList->last();a;a = m_pAppletList->prev())
 	{
-		h = a->tqsizeHint().height();
+		h = a->sizeHint().height();
 		if(h > s)s = h;
 	}
 	s += (VMARGIN * 2) + RICHTEXTLABELTRICK;
@@ -467,9 +467,9 @@ void KviStatusBar::paintEvent(TQPaintEvent * e)
 {
 	// avoid the ugly rectangle around the widgets painted by TQStatusBar
 //	TQPainter p(this);
-//	style().drawPrimitive(TQStyle::PE_Panel,&p,rect(),tqcolorGroup(),TQStyle::Style_Raised,TQStyleOption(1,1));
+//	style().drawPrimitive(TQStyle::PE_Panel,&p,rect(),colorGroup(),TQStyle::Style_Raised,TQStyleOption(1,1));
 	//TQStatusBar::paintEvent(e);
-	//qDrawWinPanel(&p,0,0,width(),height(),tqcolorGroup(),false,0);
+	//qDrawWinPanel(&p,0,0,width(),height(),colorGroup(),false,0);
 }
 
 void KviStatusBar::mousePressEvent(TQMouseEvent * e)
diff --git a/src/kvirc/ui/kvi_styled_controls.cpp b/src/kvirc/ui/kvi_styled_controls.cpp
index 629fae9..e67cef1 100644
--- a/src/kvirc/ui/kvi_styled_controls.cpp
+++ b/src/kvirc/ui/kvi_styled_controls.cpp
@@ -279,7 +279,7 @@ void KviStyledToolButton::paintEvent ( TQPaintEvent * event)
 		
 		pDoubleBufferPixmap->fill(
 			bActive ? TQColor(206,215,223) :
-			tqcolorGroup().background()
+			colorGroup().background()
 			);
 		
 		
diff --git a/src/kvirc/ui/kvi_taskbar.cpp b/src/kvirc/ui/kvi_taskbar.cpp
index ad47661..952501f 100644
--- a/src/kvirc/ui/kvi_taskbar.cpp
+++ b/src/kvirc/ui/kvi_taskbar.cpp
@@ -290,7 +290,7 @@ void KviTaskBarButton::drawButtonLabel(TQPainter * painter)
 	if(KVI_OPTION_BOOL(KviOption_boolUseTaskBarIrcContextIndicator))
 	{
 		iHeight -= KVI_TASKBARBUTTON_CONTEXTINDICATORHEIGHT;
-		TQColor base = tqcolorGroup().background();
+		TQColor base = colorGroup().background();
 		if(m_pWindow->console())
 		{
 			TQColor cntx = KVI_OPTION_ICCOLOR(m_pWindow->console()->ircContextId() % KVI_NUM_ICCOLOR_OPTIONS);
@@ -298,7 +298,7 @@ void KviTaskBarButton::drawButtonLabel(TQPainter * painter)
 				(base.blue() + cntx.blue()) >> 1);
 			pPainter->fillRect(2,iHeight,iWidth - 4,KVI_TASKBARBUTTON_CONTEXTINDICATORHEIGHT - 2,base);
 		} else {
-			pPainter->fillRect(2,iHeight,iWidth - 4,KVI_TASKBARBUTTON_CONTEXTINDICATORHEIGHT - 2,tqcolorGroup().brush(TQColorGroup::Background));
+			pPainter->fillRect(2,iHeight,iWidth - 4,KVI_TASKBARBUTTON_CONTEXTINDICATORHEIGHT - 2,colorGroup().brush(TQColorGroup::Background));
 		}
 	}
 
@@ -394,7 +394,7 @@ void KviTaskBarButton::drawButtonLabel(TQPainter * painter)
 	{
 		pPainter->setClipRect(cRect.right(),cRect.y(),10,cRect.height());
 		TQColor base = pPainter->pen().color();
-		TQColor bg   = tqcolorGroup().color(TQColorGroup::Background);
+		TQColor bg   = colorGroup().color(TQColorGroup::Background);
 		base.setRgb((base.red() + bg.red()) / 2,(base.green() + bg.green()) / 2,(base.blue() + bg.blue()) / 2);
 		pPainter->setPen(base);
 		cRect.setWidth(cRect.width() + 10);
@@ -907,7 +907,7 @@ void KviTreeTaskBarItem::paintCell(TQPainter *painter,const TQColorGroup &cg,int
 #ifdef COMPILE_PSEUDO_TRANSPARENCY
 			if(g_pShadedChildGlobalDesktopBackground)
 			{
-				TQPoint pnt = listView()->viewport()->mapToGlobal(TQPoint(int(painter->tqworldMatrix().dx()),int(painter->tqworldMatrix().dy())));
+				TQPoint pnt = listView()->viewport()->mapToGlobal(TQPoint(int(painter->worldMatrix().dx()),int(painter->worldMatrix().dy())));
 				p.drawTiledPixmap(0,0,width,height(),*g_pShadedChildGlobalDesktopBackground,pnt.x(),pnt.y());
 			} else {
 #endif
@@ -918,7 +918,7 @@ void KviTreeTaskBarItem::paintCell(TQPainter *painter,const TQColorGroup &cg,int
 			TQPixmap * pix = KVI_OPTION_PIXMAP(KviOption_pixmapTreeTaskBarBackground).pixmap();
 			if(pix)
 			{
-				TQPoint pnt = listView()->viewportToContents(TQPoint(int(painter->tqworldMatrix().dx()),int(painter->tqworldMatrix().dy())));
+				TQPoint pnt = listView()->viewportToContents(TQPoint(int(painter->worldMatrix().dx()),int(painter->worldMatrix().dy())));
 				//p.drawTiledPixmap(0,0,width,height(),*pix,pnt.x(),pnt.y());
 //				debug("%i %i",pnt.x(),pnt.y());
 				p.translate(-pnt.x(),-pnt.y());
@@ -1192,7 +1192,7 @@ void KviTreeTaskBarListView::paintEmptyArea(TQPainter * p,const TQRect &rct)
 #ifdef COMPILE_PSEUDO_TRANSPARENCY
 	if(g_pShadedChildGlobalDesktopBackground)
 	{
-		TQPoint pnt = viewport()->mapToGlobal(TQPoint(rct.x() + int(p->tqworldMatrix().dx()),rct.y() + int(p->tqworldMatrix().dy())));
+		TQPoint pnt = viewport()->mapToGlobal(TQPoint(rct.x() + int(p->worldMatrix().dx()),rct.y() + int(p->worldMatrix().dy())));
 		p->drawTiledPixmap(rct.x(),rct.y(),rct.width(),rct.height(),*g_pShadedChildGlobalDesktopBackground,pnt.x(),pnt.y());
 	} else {
 #endif
@@ -1204,7 +1204,7 @@ void KviTreeTaskBarListView::paintEmptyArea(TQPainter * p,const TQRect &rct)
 	TQPixmap * pix = KVI_OPTION_PIXMAP(KviOption_pixmapTreeTaskBarBackground).pixmap();
 	if(pix)
 	{
-		TQPoint pnt = viewportToContents(TQPoint(rct.x() + int(p->tqworldMatrix().dx()),rct.y() + int(p->tqworldMatrix().dy())));
+		TQPoint pnt = viewportToContents(TQPoint(rct.x() + int(p->worldMatrix().dx()),rct.y() + int(p->worldMatrix().dy())));
 		//p->drawTiledPixmap(rct.x(),rct.y(),rct.width(),rct.height(),*pix,pnt.x(),pnt.y());
 		KviPixmapUtils::drawPixmapWithPainter(p,pix,KVI_OPTION_UINT(KviOption_uintTreeTaskBarPixmapAlign),rct,viewport()->width(),viewport()->height(),pnt.x(),pnt.y());
 	}
@@ -1235,7 +1235,7 @@ KviTreeTaskBar::KviTreeTaskBar()
 	// FIXME: this code is useless ?
 	if(KVI_OPTION_UINT(KviOption_uintTreeTaskBarMinimumWidth) < 48)
 		KVI_OPTION_UINT(KviOption_uintTreeTaskBarMinimumWidth) = 48;
-	int iMin = m_pListView->tqminimumSize().width() + 4;
+	int iMin = m_pListView->minimumSize().width() + 4;
 	if(((unsigned int)iMin) < KVI_OPTION_UINT(KviOption_uintTreeTaskBarMinimumWidth))
 		iMin = KVI_OPTION_UINT(KviOption_uintTreeTaskBarMinimumWidth);
     setMinimumWidth(iMin);
@@ -1305,7 +1305,7 @@ void KviTreeTaskBar::tipRequest(KviDynamicToolTip *,const TQPoint &pnt)
 		{
 			TQString szText;
 			((KviTreeTaskBarItem *)it)->m_pWindow->getTaskBarTipText(szText);
-			m_pToolTip->tip(m_pListView->tqitemRect(it),szText);
+			m_pToolTip->tip(m_pListView->itemRect(it),szText);
 		}
 	}
 }
diff --git a/src/kvirc/ui/kvi_themedlabel.cpp b/src/kvirc/ui/kvi_themedlabel.cpp
index 1f57db0..ef54460 100644
--- a/src/kvirc/ui/kvi_themedlabel.cpp
+++ b/src/kvirc/ui/kvi_themedlabel.cpp
@@ -44,9 +44,9 @@ KviThemedLabel::~KviThemedLabel()
 {
 }
 
-/*TQSize KviThemedLabel::tqsizeHint()
+/*TQSize KviThemedLabel::sizeHint()
 {
-	TQSize size=TQFrame::tqsizeHint();
+	TQSize size=TQFrame::sizeHint();
 	int iHeight=fontMetrics().height()*TQStringList::split('\n',m_szText).count()+4;
 	size.setHeight(iHeight);
 	return size;
diff --git a/src/kvirc/ui/kvi_themedlabel.h b/src/kvirc/ui/kvi_themedlabel.h
index a307149..f704310 100644
--- a/src/kvirc/ui/kvi_themedlabel.h
+++ b/src/kvirc/ui/kvi_themedlabel.h
@@ -55,7 +55,7 @@ public:
 	void setAutoHeight(bool value) { m_bAutoHeight=value; };
 	void applyOptions();
 	
-//	TQSize tqsizeHint();
+//	TQSize sizeHint();
 signals:
 	void doubleClicked();
 };
diff --git a/src/kvirc/ui/kvi_toolwindows_container.cpp b/src/kvirc/ui/kvi_toolwindows_container.cpp
index 65c6dec..b45f7be 100644
--- a/src/kvirc/ui/kvi_toolwindows_container.cpp
+++ b/src/kvirc/ui/kvi_toolwindows_container.cpp
@@ -94,7 +94,7 @@ KviWindowToolPageButton::KviWindowToolPageButton ( int pixon,int pixoff, const T
 	setToggleButton(true);
 	setOn(bOn);
 
-//	tqsetSizePolicy(TQSizePolicy(TQSizePolicy::Fixed,TQSizePolicy::Ignored));
+//	setSizePolicy(TQSizePolicy(TQSizePolicy::Fixed,TQSizePolicy::Ignored));
 }
 
 KviWindowToolPageButton::~KviWindowToolPageButton()
@@ -106,9 +106,9 @@ KviWindowToolPageButton::~KviWindowToolPageButton()
 {
 	TQPixmap pixmap( height(), width() );
 	if(isOn())
-		pixmap.fill(tqcolorGroup().mid());
+		pixmap.fill(colorGroup().mid());
 	else
-    		pixmap.fill(tqcolorGroup().button()); 
+    		pixmap.fill(colorGroup().button()); 
     	TQPainter painter( &pixmap );
     	
 	TQPixmap icon;
@@ -118,7 +118,7 @@ KviWindowToolPageButton::~KviWindowToolPageButton()
 		icon=iconSet()->pixmap(TQIconSet::Small,TQIconSet::Normal,TQIconSet::Off);
 		
 	// Draw the frame
-	//painter.setPen( tqcolorGroup().mid() );
+	//painter.setPen( colorGroup().mid() );
 	//if ( m_id != NUM_TABS - 1 ) painter.drawLine( 0, 0, 0, pixmap.height() - 1 );
 	//painter.drawLine( 0, pixmap.height() - 1, pixmap.width() - 1, pixmap.height() - 1 );
 	
@@ -127,7 +127,7 @@ KviWindowToolPageButton::~KviWindowToolPageButton()
 	TQString str = text();
 	str.remove("&");
 	const int textX = pixmap.width() / 2 - TQFontMetrics( font ).width( str ) / 2;
-	painter.setPen( tqcolorGroup().buttonText() );
+	painter.setPen( colorGroup().buttonText() );
 	const TQRect rect( textX + icon.width() / 2 + 2, 0, pixmap.width(), pixmap.height() );
 	painter.drawText( rect, TQt::AlignLeft | TQt::AlignVCenter, str );
 	
diff --git a/src/kvirc/ui/kvi_topicw.cpp b/src/kvirc/ui/kvi_topicw.cpp
index fe9011e..63fd4e6 100644
--- a/src/kvirc/ui/kvi_topicw.cpp
+++ b/src/kvirc/ui/kvi_topicw.cpp
@@ -74,7 +74,7 @@ int KviListBoxTopicItem::width ( const KviTalListBox * lb ) const
 
 void KviListBoxTopicItem::paint ( TQPainter * p )
 {
-	KviTopicWidget::paintColoredText(p,text(),listBox()->tqcolorGroup(),height(listBox()));
+	KviTopicWidget::paintColoredText(p,text(),listBox()->colorGroup(),height(listBox()));
 }
 
 
@@ -438,11 +438,11 @@ void KviTopicWidget::drawContents(TQPainter *p)
 #ifdef COMPILE_PSEUDO_TRANSPARENCY
 	}
 #endif
-	TQColorGroup tqcolorGroup;
-	//tqcolorGroup()
-	tqcolorGroup.setColor(TQColorGroup::Text,KVI_OPTION_COLOR(KviOption_colorLabelForeground));
-	tqcolorGroup.setColor(TQColorGroup::Background,KVI_OPTION_COLOR(KviOption_colorLabelBackground));
-	paintColoredText(p,m_szTopic,tqcolorGroup);
+	TQColorGroup colorGroup;
+	//colorGroup()
+	colorGroup.setColor(TQColorGroup::Text,KVI_OPTION_COLOR(KviOption_colorLabelForeground));
+	colorGroup.setColor(TQColorGroup::Background,KVI_OPTION_COLOR(KviOption_colorLabelBackground));
+	paintColoredText(p,m_szTopic,colorGroup);
 }
 
 void KviTopicWidget::setTopic(const TQString & topic)
@@ -541,7 +541,7 @@ void KviTopicWidget::updateToolTip()
 	KviTalToolTip::add(this,txt);
 }
 
-TQSize KviTopicWidget::tqsizeHint() const
+TQSize KviTopicWidget::sizeHint() const
 {
 	TQFontMetrics fm(font());
 	int hght = fm.lineSpacing() + (frameWidth() << 1) + 4;
diff --git a/src/kvirc/ui/kvi_topicw.h b/src/kvirc/ui/kvi_topicw.h
index 5a59ced..89e4901 100644
--- a/src/kvirc/ui/kvi_topicw.h
+++ b/src/kvirc/ui/kvi_topicw.h
@@ -102,7 +102,7 @@ public:
 	const TQString & topic(){ return m_szTopic; };
 	const TQString & topicSetBy(){ return m_szSetBy; };
 	const TQString & topicSetAt(){ return m_szSetAt; };
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 	void applyOptions();
 	
 	static void paintColoredText(TQPainter *p, TQString text,const TQColorGroup& cg, int h=-1, int w=-1);
diff --git a/src/kvirc/ui/kvi_userlistview.cpp b/src/kvirc/ui/kvi_userlistview.cpp
index d504915..cc3d866 100644
--- a/src/kvirc/ui/kvi_userlistview.cpp
+++ b/src/kvirc/ui/kvi_userlistview.cpp
@@ -1141,7 +1141,7 @@ void KviUserListView::resizeEvent(TQResizeEvent *)
 	int hght;
 	if(!KVI_OPTION_BOOL(KviOption_boolDisableUserListLabel))//G&N  2005
 	{
-		hght = m_pUsersLabel->tqsizeHint().height();
+		hght = m_pUsersLabel->sizeHint().height();
 		if(hght < 16)hght = 16; // at least
 		m_pUsersLabel->setGeometry(0,0,width(),hght);
 	}
@@ -1531,9 +1531,9 @@ void KviUserListViewArea::paintEvent(TQPaintEvent *ev)
 							p.setPen(TQPen(KVI_OPTION_COLOR(KviOption_colorUserListViewGrid),0 /*,TQPen::DotLine*/));
 							if((bShowState || bShowIcons) && (KVI_OPTION_UINT(KviOption_uintUserListViewGridType) == KVI_USERLISTVIEW_GRIDTYPE_3DGRID))
 								p.drawLine(iAvatarAndTextX,bottom - 1,iAvatarAndTextX,theY);
-							p.setPen(tqcolorGroup().shadow());
+							p.setPen(colorGroup().shadow());
 							p.drawLine(0,bottom - 1,wdth,bottom - 1);
-							p.setPen(tqcolorGroup().light());
+							p.setPen(colorGroup().light());
 							p.drawLine(0,theY,wdth,theY);
 							theY--;
 						}
@@ -1725,10 +1725,10 @@ void KviUserListViewArea::paintEvent(TQPaintEvent *ev)
 	//we really do not need any self-draw borders. 
 	//if we will need it, we will draw a better one with system style
 
-	//p.setPen(tqcolorGroup().dark());
+	//p.setPen(colorGroup().dark());
 	//p.drawLine(0,0,wdth,0);
 	//p.drawLine(0,0,0,height());
-	//p.setPen(tqcolorGroup().light());
+	//p.setPen(colorGroup().light());
 	//p.drawLine(1,height()-1,wdth,height()-1);
 	//p.drawLine(wdth - 1,1,wdth - 1,height());
 
@@ -1742,7 +1742,7 @@ void KviUserListViewArea::paintEvent(TQPaintEvent *ev)
 
 void KviUserListViewArea::resizeEvent(TQResizeEvent *)
 {
-	int iScr = m_pScrollBar->tqsizeHint().width();
+	int iScr = m_pScrollBar->sizeHint().width();
 	m_pScrollBar->setGeometry(width() - iScr,0,iScr,height());
 	m_pScrollBar->setPageStep(height());
 	m_pScrollBar->setLineStep(m_pListView->m_iFontHeight - 1);
diff --git a/src/kvirc/ui/kvi_window.cpp b/src/kvirc/ui/kvi_window.cpp
index 6c959e7..e0c8621 100644
--- a/src/kvirc/ui/kvi_window.cpp
+++ b/src/kvirc/ui/kvi_window.cpp
@@ -285,7 +285,7 @@ void KviWindow::demandAttention()
 
 bool KviWindow::focusNextPrevChild(bool next)
 {
-	TQWidget * w = tqfocusWidget();
+	TQWidget * w = focusWidget();
 	if(w)
 	{
 #ifdef COMPILE_USE_QT4
@@ -299,9 +299,9 @@ bool KviWindow::focusNextPrevChild(bool next)
 		if(w->parent())
 		{
 #ifdef COMPILE_USE_QT4
-			if(w->parent()->tqmetaObject()->indexOfProperty("KviProperty_ChildFocusOwner") == -1)
+			if(w->parent()->metaObject()->indexOfProperty("KviProperty_ChildFocusOwner") == -1)
 #else
-			if(w->parent()->tqmetaObject()->findProperty("KviProperty_ChildFocusOwner") == -1)
+			if(w->parent()->metaObject()->findProperty("KviProperty_ChildFocusOwner") == -1)
 #endif
 				return false; // Do NOT change the focus widget!
 		}
@@ -586,7 +586,7 @@ void KviWindow::getDefaultLogFileName(TQString &buffer)
 {
 	// FIXME: #warning "Make it configurable ?"
 	TQString date;
-	TQDate dt(TQDate::tqcurrentDate());
+	TQDate dt(TQDate::currentDate());
 	date=dt.toString("yyyy.MM.dd");
 	TQString base;
 	getBaseLogFileName(base);
@@ -1224,7 +1224,7 @@ void KviWindow::updateBackgrounds(TQObject * obj)
 	for(TQList<TQObject *>::Iterator it = list.begin();it != list.end();++it)
 	{
 		TQObject * child = *it;
-		if(child->tqmetaObject()->indexOfProperty("TransparencyCapable") != -1){
+		if(child->metaObject()->indexOfProperty("TransparencyCapable") != -1){
 		//	if (child->isWidgetType())
 			((TQWidget *)child)->update();
 		}
@@ -1239,7 +1239,7 @@ void KviWindow::updateBackgrounds(TQObject * obj)
 		{
 			TQObject * child = list.at(i);
 			// FIXME: check if this code can work with qt < 3.0.0 too
-			if(child->tqmetaObject()->findProperty("TransparencyCapable",true) != -1)
+			if(child->metaObject()->findProperty("TransparencyCapable",true) != -1)
 				((TQWidget *)child)->update();
 
 			updateBackgrounds(child);
diff --git a/src/modules/about/aboutdialog.cpp b/src/modules/about/aboutdialog.cpp
index 47f18ad..52651e2 100644
--- a/src/modules/about/aboutdialog.cpp
+++ b/src/modules/about/aboutdialog.cpp
@@ -86,7 +86,7 @@ KviAboutDialog::KviAboutDialog()
 	TQLabel * l = new TQLabel(w);
 	l->setFrameStyle(TQFrame::WinPanel | TQFrame::Sunken);
 	l->setBackgroundColor(TQt::black);
-	l->tqsetAlignment(TQt::AlignCenter);
+	l->setAlignment(TQt::AlignCenter);
 	l->setPixmap(pix);
 
 	g->addWidget(l,0,0);
@@ -99,7 +99,7 @@ KviAboutDialog::KviAboutDialog()
 	aboutString += KVI_SOURCES_DATE;
 
 	l = new TQLabel(aboutString,w);
-	l->tqsetAlignment(TQt::AlignCenter);
+	l->setAlignment(TQt::AlignCenter);
 	g->addWidget(l,1,0);
 
 	addTab(w,__tr2qs_ctx("About","about"));
diff --git a/src/modules/actioneditor/actioneditor.cpp b/src/modules/actioneditor/actioneditor.cpp
index 5957d90..a0ac665 100644
--- a/src/modules/actioneditor/actioneditor.cpp
+++ b/src/modules/actioneditor/actioneditor.cpp
@@ -980,7 +980,7 @@ TQPixmap * KviActionEditorWindow::myIconPtr()
 
 void KviActionEditorWindow::resizeEvent(TQResizeEvent *e)
 {
-	int hght = m_pBase->tqsizeHint().height();
+	int hght = m_pBase->sizeHint().height();
 	m_pEditor->setGeometry(0,0,width(),height()- hght);
 	m_pBase->setGeometry(0,height() - hght,width(),hght);
 }
diff --git a/src/modules/addon/managementdialog.cpp b/src/modules/addon/managementdialog.cpp
index 24c539f..8b08c54 100644
--- a/src/modules/addon/managementdialog.cpp
+++ b/src/modules/addon/managementdialog.cpp
@@ -213,7 +213,7 @@ KviScriptManagementDialog::KviScriptManagementDialog(TQWidget * p)
 		lb->setFixedWidth(pix->width());
 	}
 	lb->setBackgroundColor(TQt::black);
-	lb->tqsetAlignment(TQt::AlignBottom | TQt::AlignRight);
+	lb->setAlignment(TQt::AlignBottom | TQt::AlignRight);
 	*/
 	m_pListView = new KviScriptAddonListView(this);
 	g->addMultiCellWidget(m_pListView,0,10,1,1);
diff --git a/src/modules/aliaseditor/aliaseditor.cpp b/src/modules/aliaseditor/aliaseditor.cpp
index e7bd5d7..0f1201e 100644
--- a/src/modules/aliaseditor/aliaseditor.cpp
+++ b/src/modules/aliaseditor/aliaseditor.cpp
@@ -1383,7 +1383,7 @@ TQPixmap * KviAliasEditorWindow::myIconPtr()
 
 void KviAliasEditorWindow::resizeEvent(TQResizeEvent *e)
 {
-	int hght = m_pBase->tqsizeHint().height();
+	int hght = m_pBase->sizeHint().height();
 	m_pEditor->setGeometry(0,0,width(),height()- hght);
 	m_pBase->setGeometry(0,height() - hght,width(),hght);
 }
diff --git a/src/modules/clock/libkviclock.cpp b/src/modules/clock/libkviclock.cpp
index 1b73121..b1682bc 100644
--- a/src/modules/clock/libkviclock.cpp
+++ b/src/modules/clock/libkviclock.cpp
@@ -169,7 +169,7 @@ void KviClockDisplay::drawContents(TQPainter *p)
 
 }
 
-TQSize KviClockDisplay::tqsizeHint() const
+TQSize KviClockDisplay::sizeHint() const
 {
 	return TQSize(KVI_IRCTOOLBARAPPLET_MAXIMUM_WIDTH,KVI_IRCTOOLBARAPPLET_MAXIMUM_HEIGHT);
 }
diff --git a/src/modules/clock/libkviclock.h b/src/modules/clock/libkviclock.h
index 7c960df..a841047 100644
--- a/src/modules/clock/libkviclock.h
+++ b/src/modules/clock/libkviclock.h
@@ -38,7 +38,7 @@ protected:
 	unsigned char m_uDigit[6];
 protected:
 	virtual void drawContents(TQPainter * p);
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 	virtual void timerEvent(TQTimerEvent *e);
 };
 
diff --git a/src/modules/dcc/broker.cpp b/src/modules/dcc/broker.cpp
index 4110c21..f472817 100644
--- a/src/modules/dcc/broker.cpp
+++ b/src/modules/dcc/broker.cpp
@@ -81,7 +81,7 @@ KviDccZeroPortTag * KviDccBroker::addZeroPortTag()
 	static unsigned int g_uNextZeroPortTag = 0;
 	g_uNextZeroPortTag++;
 	KviDccZeroPortTag * t = new KviDccZeroPortTag;
-	t->m_tTimestamp = TQDateTime::tqcurrentDateTime();
+	t->m_tTimestamp = TQDateTime::currentDateTime();
 	t->m_szTag.setNum(g_uNextZeroPortTag);
 	//t->m_szTag.prepend("mIrc-zero-port-");
 	t->m_uResumePosition = 0;
@@ -94,7 +94,7 @@ KviDccZeroPortTag * KviDccBroker::findZeroPortTag(const TQString &szTag)
 {
 	KviDccZeroPortTag * t = m_pZeroPortTags->find(szTag);
 	if(!t)return 0;
-	if(t->m_tTimestamp.secsTo(TQDateTime::tqcurrentDateTime()) > 180)
+	if(t->m_tTimestamp.secsTo(TQDateTime::currentDateTime()) > 180)
 	{
 		// too late man...
 		m_pZeroPortTags->remove(szTag);
diff --git a/src/modules/dcc/canvas.cpp b/src/modules/dcc/canvas.cpp
index 6b5f687..cea1b91 100644
--- a/src/modules/dcc/canvas.cpp
+++ b/src/modules/dcc/canvas.cpp
@@ -258,16 +258,16 @@ bool KviDccCanvas::event(TQEvent *e)
 void KviDccCanvas::resizeEvent(TQResizeEvent *e)
 {
 	int hght = m_pInput->heightHint();
-//	int hght2 = m_pTopSplitter->tqsizeHint().height();
+//	int hght2 = m_pTopSplitter->sizeHint().height();
 //	m_pTopSplitter->setGeometry(0,0,width(),hght2);
 	m_pSplitter->setGeometry(0,0,width(),height() - hght);
 	m_pInput->setGeometry(0,height() - hght,width(),hght);
 }
 
-TQSize KviDccCanvas::tqsizeHint() const
+TQSize KviDccCanvas::sizeHint() const
 {
-	TQSize ret(m_pIrcView->tqsizeHint().width(),
-		m_pIrcView->tqsizeHint().height() + m_pInput->heightHint());
+	TQSize ret(m_pIrcView->sizeHint().width(),
+		m_pIrcView->sizeHint().height() + m_pInput->heightHint());
 	return ret;
 }
 
diff --git a/src/modules/dcc/canvas.h b/src/modules/dcc/canvas.h
index 38349ca..6c48125 100644
--- a/src/modules/dcc/canvas.h
+++ b/src/modules/dcc/canvas.h
@@ -61,7 +61,7 @@ protected:
 	virtual void getBaseLogFileName(KviStr &buffer);
 	virtual TQPixmap * myIconPtr();
 	virtual void resizeEvent(TQResizeEvent *e);
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 	virtual bool event(TQEvent *e);
 	virtual void ownMessage(const char *text);
 	virtual void ownAction(const char *text);
diff --git a/src/modules/dcc/canvaswidget.cpp b/src/modules/dcc/canvaswidget.cpp
index e007a3c..47bacf5 100644
--- a/src/modules/dcc/canvaswidget.cpp
+++ b/src/modules/dcc/canvaswidget.cpp
@@ -1540,9 +1540,9 @@ KviCanvasWidget::~KviCanvasWidget()
 
 void KviCanvasWidget::resizeEvent(TQResizeEvent *)
 {
-	int h = m_pMenuBar->tqsizeHint().height();
+	int h = m_pMenuBar->sizeHint().height();
 	m_pMenuBar->setGeometry(0,0,width(),h);
-	int h2 = m_pStatusLabel->tqsizeHint().height();
+	int h2 = m_pStatusLabel->sizeHint().height();
 	m_pStatusLabel->setGeometry(0,height() - h2,width(),h2);
 	m_pSplitter->setGeometry(0,h,width(),height() - (h + h2));
 }
diff --git a/src/modules/dcc/chat.cpp b/src/modules/dcc/chat.cpp
index 7e41034..660191f 100644
--- a/src/modules/dcc/chat.cpp
+++ b/src/modules/dcc/chat.cpp
@@ -473,16 +473,16 @@ bool KviDccChat::event(TQEvent *e)
 void KviDccChat::resizeEvent(TQResizeEvent *e)
 {
 	int hght = m_pInput->heightHint();
-	int hght2 = m_pTopSplitter->tqsizeHint().height();
+	int hght2 = m_pTopSplitter->sizeHint().height();
 	m_pTopSplitter->setGeometry(0,0,width(),hght2);
 	m_pSplitter->setGeometry(0,hght2,width(),height() - (hght + hght2));
 	m_pInput->setGeometry(0,height() - hght,width(),hght);
 }
 
-TQSize KviDccChat::tqsizeHint() const
+TQSize KviDccChat::sizeHint() const
 {
-	TQSize ret(m_pIrcView->tqsizeHint().width(),
-		m_pIrcView->tqsizeHint().height() + m_pInput->heightHint());
+	TQSize ret(m_pIrcView->sizeHint().width(),
+		m_pIrcView->sizeHint().height() + m_pInput->heightHint());
 	return ret;
 }
 
diff --git a/src/modules/dcc/chat.h b/src/modules/dcc/chat.h
index c278591..bf492b3 100644
--- a/src/modules/dcc/chat.h
+++ b/src/modules/dcc/chat.h
@@ -81,7 +81,7 @@ protected:
 	virtual void getBaseLogFileName(KviStr &buffer);
 	virtual TQPixmap * myIconPtr();
 	virtual void resizeEvent(TQResizeEvent *e);
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 	virtual const TQString & localNick();
 	virtual bool event(TQEvent *e);
 	virtual void ownMessage(const TQString &text);
diff --git a/src/modules/dcc/libkvidcc.cpp b/src/modules/dcc/libkvidcc.cpp
index ce6949f..56f28b3 100644
--- a/src/modules/dcc/libkvidcc.cpp
+++ b/src/modules/dcc/libkvidcc.cpp
@@ -2369,16 +2369,16 @@ static bool dcc_kvs_fnc_ircContext(KviKvsModuleFunctionCall * c)
 
 
 /*
-	@doc: dcc.transfertqStatus
+	@doc: dcc.transferStatus
 	@type:
 		function
 	@title:
-		$dcc.transfertqStatus
+		$dcc.transferStatus
 	@short:
 		Returns the current status of a dcc file transfer
 	@syntax:
-		<string> $dcc.transfertqStatus
-		<string> $dcc.transfertqStatus(<dcc_id:uint>)
+		<string> $dcc.transferStatus
+		<string> $dcc.transferStatus(<dcc_id:uint>)
 	@description:
 		Returns the status in the specified DCC session.[br]
 		The status is one of the strings "connecting", "transferring", "success" and "failure".
@@ -2393,7 +2393,7 @@ static bool dcc_kvs_fnc_ircContext(KviKvsModuleFunctionCall * c)
 		See the [module:dcc]dcc module[/module] documentation for more informations.[br]
 */
 
-static bool dcc_kvs_fnc_transfertqStatus(KviKvsModuleFunctionCall * c)
+static bool dcc_kvs_fnc_transferStatus(KviKvsModuleFunctionCall * c)
 {
 	kvs_uint_t uDccId;
 	KVSM_PARAMETERS_BEGIN(c)
@@ -2669,7 +2669,7 @@ static bool dcc_kvs_fnc_sessionList(KviKvsModuleFunctionCall * c)
 		[fnc]$dcc.sessionList[/fnc][br]
 		[fnc]$dcc.protocol[/fnc][br]
 		[fnc]$dcc.connectionType[/fnc][br]
-		[fnc]$dcc.transfertqStatus[/fnc][br]
+		[fnc]$dcc.transferStatus[/fnc][br]
 		[fnc]$dcc.isFileTransfer[/fnc][br]
 		[fnc]$dcc.isFileUpload[/fnc][br]
 		[fnc]$dcc.isFileDownload[/fnc][br]
@@ -2708,7 +2708,7 @@ static bool dcc_module_init(KviModule * m)
 
 	// FIXME: file upload / download state ?
 
-	KVSM_REGISTER_FUNCTION(m,"transferStatus",dcc_kvs_fnc_transfertqStatus);
+	KVSM_REGISTER_FUNCTION(m,"transferStatus",dcc_kvs_fnc_transferStatus);
 	KVSM_REGISTER_FUNCTION(m,"protocol",dcc_kvs_fnc_protocol);
 	KVSM_REGISTER_FUNCTION(m,"connectionType",dcc_kvs_fnc_connectionType);
 	KVSM_REGISTER_FUNCTION(m,"isFileTransfer",dcc_kvs_fnc_isFileTransfer);
diff --git a/src/modules/dcc/send.cpp b/src/modules/dcc/send.cpp
index a7485ca..969a54a 100644
--- a/src/modules/dcc/send.cpp
+++ b/src/modules/dcc/send.cpp
@@ -753,7 +753,7 @@ KviDccFileTransfer::KviDccFileTransfer(KviDccDescriptor * dcc)
 	m_tTransferEndTime = 0;
 
 	m_szStatusString = __tr2qs_ctx("Setting up the connection","dcc");
-	m_eGeneraltqStatus = Connecting;
+	m_eGeneralStatus = Connecting;
 
 	bool bOk;
 	m_uTotalFileSize = dcc->bRecvFile ? dcc->szFileSize.toUInt(&bOk) :  dcc->szLocalFileSize.toUInt(&bOk);
@@ -919,7 +919,7 @@ void KviDccFileTransfer::abort()
 	else if(m_pSlaveSendThread)tmp.setNum(m_pSlaveSendThread->sentBytes());
 	else tmp = '0';
 
-	m_eGeneraltqStatus = Failure;
+	m_eGeneralStatus = Failure;
 	m_tTransferEndTime = kvi_unixTime();
 	m_szStatusString = __tr2qs_ctx("Transfer failed: ","dcc");
 	m_szStatusString += __tr2qs_ctx("Aborted","dcc");
@@ -988,7 +988,7 @@ void KviDccFileTransfer::retryRevDCC()
 
 void KviDccFileTransfer::fillStatusString(TQString &szBuffer)
 {
-	switch(m_eGeneraltqStatus)
+	switch(m_eGeneralStatus)
 	{
 		case Connecting:
 			szBuffer = "connecting";
@@ -1010,7 +1010,7 @@ void KviDccFileTransfer::fillStatusString(TQString &szBuffer)
 
 bool KviDccFileTransfer::active()
 {
-	return ((m_eGeneraltqStatus == Connecting) || (m_eGeneraltqStatus == Transferring));
+	return ((m_eGeneralStatus == Connecting) || (m_eGeneralStatus == Transferring));
 }
 
 int KviDccFileTransfer::bandwidthLimit()
@@ -1108,7 +1108,7 @@ void KviDccFileTransfer::displayPaint(TQPainter * p,int column,int width,int hei
 {
 
 	TQString txt;
-	bool bIsTerminated = ((m_eGeneraltqStatus == Success) || (m_eGeneraltqStatus == Failure));
+	bool bIsTerminated = ((m_eGeneralStatus == Success) || (m_eGeneralStatus == Failure));
 
 	switch(column)
 	{
@@ -1117,7 +1117,7 @@ void KviDccFileTransfer::displayPaint(TQPainter * p,int column,int width,int hei
 			int xoffset = 0;
 			int yoffset = 0;
 			if(m_pDescriptor->bRecvFile)yoffset = 64;
-			switch(m_eGeneraltqStatus)
+			switch(m_eGeneralStatus)
 			{
 				case Connecting: xoffset = 0; break;
 				case Transferring: xoffset = 48; break;
@@ -1396,7 +1396,7 @@ KviDccFileTransfer * KviDccFileTransfer::nonFailedTransferWithLocalFileName(cons
 		if(t->localFileName() == szLocalFileName)
 #endif
 		{
-			if(t->m_eGeneraltqStatus != Failure)
+			if(t->m_eGeneralStatus != Failure)
 				return t;
 		}
 	}
@@ -1456,7 +1456,7 @@ void KviDccFileTransfer::outputAndLog(int msgtype,const TQString &s)
 
 void KviDccFileTransfer::addToTransferLog(const TQString &s)
 {
-	TQDateTime dt = TQDateTime::tqcurrentDateTime();
+	TQDateTime dt = TQDateTime::currentDateTime();
 	TQString ts;
 	ts.sprintf("[%4d.%2d.%2d %2d:%2d:%2d] ",dt.date().year(),dt.date().month(),dt.date().day(),dt.time().hour(),dt.time().minute(),dt.time().second());
 	m_szTransferLog += ts+s;
@@ -1602,7 +1602,7 @@ bool KviDccFileTransfer::event(TQEvent *e)
 
 				m_szStatusString = __tr2qs_ctx("Transfer failed: ","dcc");
 				m_szStatusString += szErrorString;
-				m_eGeneraltqStatus = Failure;
+				m_eGeneralStatus = Failure;
 				m_tTransferEndTime = kvi_unixTime();
 
 				KVS_TRIGGER_EVENT_3(KviEvent_OnDCCFileTransferFailed,
@@ -1642,7 +1642,7 @@ bool KviDccFileTransfer::event(TQEvent *e)
 				if(m_pDescriptor->bRecvFile)g_pApp->fileDownloadTerminated(true,m_pDescriptor->szFileName.utf8().data(),m_pDescriptor->szLocalFileName.utf8().data(),m_pDescriptor->szNick.utf8().data());
 				m_szStatusString = __tr2qs_ctx("Transfer completed","dcc");
 				outputAndLog(m_szStatusString);
-				m_eGeneraltqStatus = Success;
+				m_eGeneralStatus = Success;
 				m_tTransferEndTime = kvi_unixTime();
 
 				KVS_TRIGGER_EVENT_2(KviEvent_OnDCCFileTransferSuccess,
@@ -1677,7 +1677,7 @@ bool KviDccFileTransfer::event(TQEvent *e)
 void KviDccFileTransfer::handleMarshalError(int err)
 {
 	TQString szErr = KviError::getDescription(err);
-	m_eGeneraltqStatus = Failure;
+	m_eGeneralStatus = Failure;
 	m_szStatusString = __tr2qs_ctx("Transfer failed: ","dcc");
 	m_szStatusString += szErr;
 	outputAndLog(m_szStatusString);
@@ -1731,7 +1731,7 @@ void KviDccFileTransfer::connected()
 		m_pSlaveSendThread->start();
 	}
 
-	m_eGeneraltqStatus = Transferring;
+	m_eGeneralStatus = Transferring;
 	m_szStatusString = __tr2qs_ctx("Transferring data","dcc");
 
 	KVS_TRIGGER_EVENT_1(KviEvent_OnDCCFileTransferBegin,eventWindow(),m_pDescriptor->idString());
diff --git a/src/modules/dcc/send.h b/src/modules/dcc/send.h
index a5e80be..8b03306 100644
--- a/src/modules/dcc/send.h
+++ b/src/modules/dcc/send.h
@@ -173,7 +173,7 @@ class KviTalPopupMenu;
 
 class KviDccFileTransfer : public KviFileTransfer, public KviDccMarshalOutputContext
 {
-	enum GeneraltqStatus { Connecting , Transferring , Success , Failure };
+	enum GeneralStatus { Connecting , Transferring , Success , Failure };
 	Q_OBJECT
   TQ_OBJECT
 public:
@@ -190,7 +190,7 @@ private:
 	TQString                  m_szTransferIdString;
 
 	TQString                  m_szStatusString;
-	GeneraltqStatus            m_eGeneraltqStatus;
+	GeneralStatus            m_eGeneralStatus;
 
 	TQString                  m_szTransferLog; // html
 
diff --git a/src/modules/dcc/voice.cpp b/src/modules/dcc/voice.cpp
index e9d8a2a..deec445 100644
--- a/src/modules/dcc/voice.cpp
+++ b/src/modules/dcc/voice.cpp
@@ -886,16 +886,16 @@ void KviDccVoice::updateInfo()
 
 void KviDccVoice::resizeEvent(TQResizeEvent *e)
 {
-	int hght2 = m_pHBox->tqsizeHint().height();
+	int hght2 = m_pHBox->sizeHint().height();
 	m_pHBox->setGeometry(0,0,width(),hght2);
 	m_pSplitter->setGeometry(0,hght2,width(),height() - hght2);
 }
 
-TQSize KviDccVoice::tqsizeHint() const
+TQSize KviDccVoice::sizeHint() const
 {
-	int w = m_pIrcView->tqsizeHint().width();
-	int w2 = m_pHBox->tqsizeHint().width();
-	TQSize ret(w > w2 ? w : w2, m_pIrcView->tqsizeHint().height() + m_pHBox->tqsizeHint().height());
+	int w = m_pIrcView->sizeHint().width();
+	int w2 = m_pHBox->sizeHint().width();
+	TQSize ret(w > w2 ? w : w2, m_pIrcView->sizeHint().height() + m_pHBox->sizeHint().height());
 	return ret;
 }
 
diff --git a/src/modules/dcc/voice.h b/src/modules/dcc/voice.h
index c241f4a..4989960 100644
--- a/src/modules/dcc/voice.h
+++ b/src/modules/dcc/voice.h
@@ -124,7 +124,7 @@ protected:
 	virtual void fillCaptionBuffers();
 	virtual TQPixmap * myIconPtr();
 	virtual void resizeEvent(TQResizeEvent *e);
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 	virtual bool event(TQEvent *e);
 	virtual void getBaseLogFileName(KviStr &buffer);
 	void startTalking();
diff --git a/src/modules/dialog/libkvidialog.cpp b/src/modules/dialog/libkvidialog.cpp
index 7e3149f..4080479 100644
--- a/src/modules/dialog/libkvidialog.cpp
+++ b/src/modules/dialog/libkvidialog.cpp
@@ -222,7 +222,7 @@ KviKvsCallbackTextInput::KviKvsCallbackTextInput(
 	{
 		TQLabel * il = new TQLabel(this);
 		il->setPixmap(*pix);
-		il->tqsetAlignment(TQt::AlignCenter);
+		il->setAlignment(TQt::AlignCenter);
 		g->addWidget(il,0,0);
 		TQLabel * tl = new TQLabel(szLabel,this);
 		g->addWidget(tl,0,1);
diff --git a/src/modules/dockwidget/libkvidockwidget_qt3.cpp b/src/modules/dockwidget/libkvidockwidget_qt3.cpp
index 771db15..6978ce0 100644
--- a/src/modules/dockwidget/libkvidockwidget_qt3.cpp
+++ b/src/modules/dockwidget/libkvidockwidget_qt3.cpp
@@ -308,7 +308,7 @@ static const char * idlemsgs[NIDLEMSGS]=
 void KviDockWidget::enterEvent( TQEvent* )
 {
 #ifdef COMPILE_KDE_SUPPORT
-	if(!g_pApp->tqfocusWidget())
+	if(!g_pApp->focusWidget())
 	{
 		XEvent ev;
 		kvi_memset(&ev, 0, sizeof(ev));
@@ -475,7 +475,7 @@ void KviDockWidget::fillContextPopup()
 
 void KviDockWidget::toggleParentFrame()
 {
-	TQWidget *top_widget = m_pFrm->tqtopLevelWidget();
+	TQWidget *top_widget = m_pFrm->topLevelWidget();
 
 	if(m_pFrm->isVisible()) {
 		m_pFrm->hide();
diff --git a/src/modules/dockwidget/libkvidockwidget_qt4.cpp b/src/modules/dockwidget/libkvidockwidget_qt4.cpp
index 00fd009..d1f4eff 100644
--- a/src/modules/dockwidget/libkvidockwidget_qt4.cpp
+++ b/src/modules/dockwidget/libkvidockwidget_qt4.cpp
@@ -307,7 +307,7 @@ void KviDockWidget::fillContextPopup()
 
 void KviDockWidget::toggleParentFrame()
 {
-	TQWidget *top_widget = m_pFrm->tqtopLevelWidget();
+	TQWidget *top_widget = m_pFrm->topLevelWidget();
 
 	if(m_pFrm->isVisible()) {
 		m_pFrm->hide();
diff --git a/src/modules/editor/scripteditor.cpp b/src/modules/editor/scripteditor.cpp
index 25508d6..525acfd 100644
--- a/src/modules/editor/scripteditor.cpp
+++ b/src/modules/editor/scripteditor.cpp
@@ -1128,7 +1128,7 @@ KviScriptEditorReplaceDialog::KviScriptEditorReplaceDialog( TQWidget* parent, co
  
 	m_pFindlineedit = new TQLineEdit( this, "findlineedit" );
 #ifndef COMPILE_USE_QT4
-	m_pFindlineedit->tqsetSizePolicy( TQSizePolicy( (TQSizePolicy::SizeType)7, (TQSizePolicy::SizeType)0, 0, 0, m_pFindlineedit->sizePolicy().hasHeightForWidth() ) );
+	m_pFindlineedit->setSizePolicy( TQSizePolicy( (TQSizePolicy::SizeType)7, (TQSizePolicy::SizeType)0, 0, 0, m_pFindlineedit->sizePolicy().hasHeightForWidth() ) );
 	m_pFindlineedit->setFrameShape( TQLineEdit::LineEditPanel );
 	m_pFindlineedit->setFrameShadow( TQLineEdit::Sunken );
 #endif
diff --git a/src/modules/eventeditor/eventeditor.cpp b/src/modules/eventeditor/eventeditor.cpp
index fc7a4d4..3a6b6b2 100644
--- a/src/modules/eventeditor/eventeditor.cpp
+++ b/src/modules/eventeditor/eventeditor.cpp
@@ -476,7 +476,7 @@ TQPixmap * KviEventEditorWindow::myIconPtr()
 
 void KviEventEditorWindow::resizeEvent(TQResizeEvent *e)
 {
-	int hght = m_pBase->tqsizeHint().height();
+	int hght = m_pBase->sizeHint().height();
 	m_pEditor->setGeometry(0,0,width(),height()- hght);
 	m_pBase->setGeometry(0,height() - hght,width(),hght);
 }
diff --git a/src/modules/filetransferwindow/filetransferwindow.cpp b/src/modules/filetransferwindow/filetransferwindow.cpp
index f606837..3fcf59d 100644
--- a/src/modules/filetransferwindow/filetransferwindow.cpp
+++ b/src/modules/filetransferwindow/filetransferwindow.cpp
@@ -233,7 +233,7 @@ void KviFileTransferWindow::tipRequest(KviDynamicToolTip * tip,const TQPoint &pn
 	KviFileTransferItem * it = (KviFileTransferItem *)m_pListView->itemAt(pnt);
 	if(!it)return;
 	TQString txt = it->transfer()->tipText();
-	tip->tip(m_pListView->tqitemRect(it),txt);
+	tip->tip(m_pListView->itemRect(it),txt);
 }
 
 void KviFileTransferWindow::fillTransferView()
@@ -701,9 +701,9 @@ void KviFileTransferWindow::resizeEvent(TQResizeEvent *e)
 	m_pInput->setGeometry(0,height() - h,width(),h);
 }
 
-TQSize KviFileTransferWindow::tqsizeHint() const
+TQSize KviFileTransferWindow::sizeHint() const
 {
-	return m_pSplitter->tqsizeHint();
+	return m_pSplitter->sizeHint();
 }
 
 void KviFileTransferWindow::fillCaptionBuffers()
diff --git a/src/modules/filetransferwindow/filetransferwindow.h b/src/modules/filetransferwindow/filetransferwindow.h
index 963c12e..b213f6b 100644
--- a/src/modules/filetransferwindow/filetransferwindow.h
+++ b/src/modules/filetransferwindow/filetransferwindow.h
@@ -88,7 +88,7 @@ protected:
 	virtual void fontChange(const TQFont &oldFont);
 	bool eventFilter( TQObject *obj, TQEvent *ev );
 public:
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 	int lineSpacing(){ return m_iLineSpacing; };
 protected slots:
 	void transferRegistered(KviFileTransfer *t);
diff --git a/src/modules/help/helpwidget.cpp b/src/modules/help/helpwidget.cpp
index 67ee30b..c0f7f1c 100644
--- a/src/modules/help/helpwidget.cpp
+++ b/src/modules/help/helpwidget.cpp
@@ -108,7 +108,7 @@ void KviHelpWidget::showIndex()
 
 void KviHelpWidget::resizeEvent(TQResizeEvent *e)
 {
-	int hght = m_pToolBar->tqsizeHint().height();
+	int hght = m_pToolBar->sizeHint().height();
 	if(hght < 40)hght = 40;
 	m_pToolBar->setGeometry(0,0,width(),hght);
 	m_pTextBrowser->setGeometry(0,hght,width(),height() - hght);
@@ -128,11 +128,11 @@ void KviHelpWidget::suicide()
 	delete this;
 }
 
-TQSize KviHelpWidget::tqsizeHint() const
+TQSize KviHelpWidget::sizeHint() const
 {
-	int wdth = m_pTextBrowser->tqsizeHint().width();
-	if(m_pToolBar->tqsizeHint().width() > wdth)wdth = m_pToolBar->tqsizeHint().width();
-	TQSize s(wdth,m_pTextBrowser->tqsizeHint().height() + m_pToolBar->tqsizeHint().height());
+	int wdth = m_pTextBrowser->sizeHint().width();
+	if(m_pToolBar->sizeHint().width() > wdth)wdth = m_pToolBar->sizeHint().width();
+	TQSize s(wdth,m_pTextBrowser->sizeHint().height() + m_pToolBar->sizeHint().height());
 	return s;
 }
 
diff --git a/src/modules/help/helpwidget.h b/src/modules/help/helpwidget.h
index 9e2c1c4..48019e7 100644
--- a/src/modules/help/helpwidget.h
+++ b/src/modules/help/helpwidget.h
@@ -54,7 +54,7 @@ protected slots:
 	void showIndex();
 	void suicide();
 public:
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 	TQTextBrowser * textBrowser() { return m_pTextBrowser; }
 };
 
diff --git a/src/modules/help/helpwindow.cpp b/src/modules/help/helpwindow.cpp
index 8200348..1be7f5e 100644
--- a/src/modules/help/helpwindow.cpp
+++ b/src/modules/help/helpwindow.cpp
@@ -303,9 +303,9 @@ void KviHelpWindow::resizeEvent(TQResizeEvent *e)
 	m_pSplitter->setGeometry(0,0,width(),height());
 }
 
-TQSize KviHelpWindow::tqsizeHint() const
+TQSize KviHelpWindow::sizeHint() const
 {
-	return m_pHelpWidget->tqsizeHint();
+	return m_pHelpWidget->sizeHint();
 }
 void KviHelpWindow::fillCaptionBuffers()
 {
diff --git a/src/modules/help/helpwindow.h b/src/modules/help/helpwindow.h
index 300116f..1f24353 100644
--- a/src/modules/help/helpwindow.h
+++ b/src/modules/help/helpwindow.h
@@ -62,7 +62,7 @@ protected:
 	virtual void saveProperties(KviConfig * cfg);
 	virtual void loadProperties(KviConfig * cfg);
 public:
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 	TQTextBrowser * textBrowser();
 public slots:
 	void indexSelected ( int );
diff --git a/src/modules/http/httpfiletransfer.cpp b/src/modules/http/httpfiletransfer.cpp
index 789b7a1..cfe9087 100644
--- a/src/modules/http/httpfiletransfer.cpp
+++ b/src/modules/http/httpfiletransfer.cpp
@@ -67,7 +67,7 @@ KviHttpFileTransfer::KviHttpFileTransfer()
 	connect(m_pHttpRequest,TQT_SIGNAL(receivedResponse(const TQString &)),this,TQT_SLOT(receivedResponse(const TQString &)));
 	connect(m_pHttpRequest,TQT_SIGNAL(connectionEstabilished()),this,TQT_SLOT(connectionEstabilished()));
 	
-	m_eGeneraltqStatus = Initializing;
+	m_eGeneralStatus = Initializing;
 	m_szStatusString = __tr2qs_ctx("Initializing","http");
 }
 
@@ -110,20 +110,20 @@ void KviHttpFileTransfer::fillContextPopup(KviTalPopupMenu * m,int column)
 
 bool KviHttpFileTransfer::active()
 {
-	return ((m_eGeneraltqStatus == Connecting) || (m_eGeneraltqStatus == Downloading));
+	return ((m_eGeneralStatus == Connecting) || (m_eGeneralStatus == Downloading));
 }
 
 void KviHttpFileTransfer::displayPaint(TQPainter * p,int column,int width,int height)
 {
 	TQString txt;
-	bool bIsTerminated = ((m_eGeneraltqStatus == Success) || (m_eGeneraltqStatus == Failure));
+	bool bIsTerminated = ((m_eGeneralStatus == Success) || (m_eGeneralStatus == Failure));
 
 	switch(column)
 	{
 		case COLUMN_TRANSFERTYPE:
 		{
 			int offset = 0;
-			switch(m_eGeneraltqStatus)
+			switch(m_eGeneralStatus)
 			{
 				case Initializing: offset = 0; break;
 				case Connecting: offset = 0; break;
@@ -406,7 +406,7 @@ void KviHttpFileTransfer::receivedResponse(const TQString &response)
 	m_lHeaders.append(response);
 	m_szStatusString = __tr2qs_ctx("Transferring data (%1)","http").tqarg(response);
 	m_tTransferStartTime = kvi_unixTime();
-	m_eGeneraltqStatus = Downloading;
+	m_eGeneralStatus = Downloading;
 	displayUpdate();
 }
 
@@ -439,7 +439,7 @@ void KviHttpFileTransfer::transferTerminated(bool bSuccess)
 	if(bSuccess)
 	{
 		m_szStatusString = __tr2qs_ctx("Transfer completed","http");
-		m_eGeneraltqStatus = Success;
+		m_eGeneralStatus = Success;
 		displayUpdate();
 		if(out && (!m_bNoOutput))out->output(KVI_OUT_GENERICSUCCESS,__tr2qs_ctx("[HTTP %d]: Transfer completed","http"),id());
 		g_pApp->fileDownloadTerminated(true,m_pHttpRequest->url().url().ptr(),m_pHttpRequest->fileName(),TQString(),TQString(),!m_bNotifyCompletion);
@@ -447,7 +447,7 @@ void KviHttpFileTransfer::transferTerminated(bool bSuccess)
 		m_szStatusString = __tr2qs_ctx("Transfer failed","http");
 		m_szStatusString += ": ";
 		m_szStatusString += m_pHttpRequest->lastError();
-		m_eGeneraltqStatus = Failure;
+		m_eGeneralStatus = Failure;
 		displayUpdate();
 		if(out && (!m_bNoOutput))out->output(KVI_OUT_GENERICERROR,__tr2qs_ctx("[HTTP %d]: Transfer failed: %Q","http"),id(),&(m_pHttpRequest->lastError()));
 		g_pApp->fileDownloadTerminated(false,m_pHttpRequest->url().url().ptr(),m_pHttpRequest->fileName(),TQString(),m_pHttpRequest->lastError(),!m_bNotifyCompletion);
@@ -482,7 +482,7 @@ void KviHttpFileTransfer::headersReceived(KviPointerHashTable<const char *,KviSt
 
 bool KviHttpFileTransfer::startDownload()
 {
-	m_eGeneraltqStatus = Connecting;
+	m_eGeneralStatus = Connecting;
 	return m_pHttpRequest->start();
 }
 
diff --git a/src/modules/http/httpfiletransfer.h b/src/modules/http/httpfiletransfer.h
index 792205b..cfba891 100644
--- a/src/modules/http/httpfiletransfer.h
+++ b/src/modules/http/httpfiletransfer.h
@@ -38,7 +38,7 @@ class KviTalPopupMenu;
 
 class KviHttpFileTransfer : public KviFileTransfer
 {
-	enum GeneraltqStatus { Initializing, Connecting, Downloading, Success, Failure };
+	enum GeneralStatus { Initializing, Connecting, Downloading, Success, Failure };
 	Q_OBJECT
   TQ_OBJECT
 public:
@@ -46,7 +46,7 @@ public:
 	~KviHttpFileTransfer();
 private:
 	KviHttpRequest * m_pHttpRequest;
-	GeneraltqStatus    m_eGeneraltqStatus;
+	GeneralStatus    m_eGeneralStatus;
 	TQString          m_szStatusString;
 
 	TQStringList      m_lHeaders;
diff --git a/src/modules/iograph/libkviiograph.cpp b/src/modules/iograph/libkviiograph.cpp
index f6398f0..745937f 100644
--- a/src/modules/iograph/libkviiograph.cpp
+++ b/src/modules/iograph/libkviiograph.cpp
@@ -199,7 +199,7 @@ void KviIOGraphDisplay::drawContents(TQPainter * p)
 	}
 }
 
-TQSize KviIOGraphDisplay::tqsizeHint() const
+TQSize KviIOGraphDisplay::sizeHint() const
 {
 	return TQSize(KVI_IRCTOOLBARAPPLET_MAXIMUM_WIDTH,KVI_IRCTOOLBARAPPLET_MAXIMUM_HEIGHT);
 }
diff --git a/src/modules/iograph/libkviiograph.h b/src/modules/iograph/libkviiograph.h
index 3c3d8f1..5ff83a9 100644
--- a/src/modules/iograph/libkviiograph.h
+++ b/src/modules/iograph/libkviiograph.h
@@ -47,7 +47,7 @@ protected:
 	bool m_bShowRecvGraph;
 protected:
 	virtual void drawContents(TQPainter *p);
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 	virtual void timerEvent(TQTimerEvent *e);
 };
 
diff --git a/src/modules/links/linkswindow.cpp b/src/modules/links/linkswindow.cpp
index e01b316..51ebce1 100644
--- a/src/modules/links/linkswindow.cpp
+++ b/src/modules/links/linkswindow.cpp
@@ -136,15 +136,15 @@ TQPixmap * KviLinksWindow::myIconPtr()
 
 void KviLinksWindow::resizeEvent(TQResizeEvent *e)
 {
-	int hght2 = m_pTopSplitter->tqsizeHint().height();
+	int hght2 = m_pTopSplitter->sizeHint().height();
 	m_pTopSplitter->setGeometry(0,0,width(),hght2);
 	m_pSplitter->setGeometry(0,hght2,width(),height() - hght2);
 }
 
-TQSize KviLinksWindow::tqsizeHint() const
+TQSize KviLinksWindow::sizeHint() const
 {
-	TQSize ret(m_pSplitter->tqsizeHint().width(),
-		m_pSplitter->tqsizeHint().height() + m_pTopSplitter->tqsizeHint().height());
+	TQSize ret(m_pSplitter->sizeHint().width(),
+		m_pSplitter->sizeHint().height() + m_pTopSplitter->sizeHint().height());
 	return ret;
 }
 
diff --git a/src/modules/links/linkswindow.h b/src/modules/links/linkswindow.h
index d0af9eb..cf676d7 100644
--- a/src/modules/links/linkswindow.h
+++ b/src/modules/links/linkswindow.h
@@ -79,7 +79,7 @@ protected slots:
 	void requestLinks();
 	void connectionStateChange();
 public:
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 private:
 	void reset();
 	void endOfLinks();
diff --git a/src/modules/list/listwindow.cpp b/src/modules/list/listwindow.cpp
index c9d56e3..acc6fd1 100644
--- a/src/modules/list/listwindow.cpp
+++ b/src/modules/list/listwindow.cpp
@@ -301,14 +301,14 @@ TQPixmap * KviListWindow::myIconPtr()
 
 void KviListWindow::resizeEvent(TQResizeEvent *e)
 {
-	int hght = m_pTopSplitter->tqsizeHint().height();
+	int hght = m_pTopSplitter->sizeHint().height();
 	m_pTopSplitter->setGeometry(0,0,width(),hght);
 	m_pSplitter->setGeometry(0,hght,width(),height() - hght);
 }
 
-TQSize KviListWindow::tqsizeHint() const
+TQSize KviListWindow::sizeHint() const
 {
-	return m_pSplitter->tqsizeHint();
+	return m_pSplitter->sizeHint();
 }
 
 void KviListWindow::fillCaptionBuffers()
@@ -346,7 +346,7 @@ void KviListWindow::exportList()
 	TQString szFile;
 	if(connection())
 	{
-		TQString szDate = TQDateTime::tqcurrentDateTime().toString("d MMM yyyy hh-mm");
+		TQString szDate = TQDateTime::currentDateTime().toString("d MMM yyyy hh-mm");
 		KviTQString::sprintf(szFile,__tr2qs("Channel list for %Q - %Q"),
 			&(connection()->networkName()),&(szDate));
 	} else {
diff --git a/src/modules/list/listwindow.h b/src/modules/list/listwindow.h
index c010351..51f5bce 100644
--- a/src/modules/list/listwindow.h
+++ b/src/modules/list/listwindow.h
@@ -113,7 +113,7 @@ protected slots:
 	void exportList();
 	void importList();
 public:
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 private:
 	void reset();
 	void endOfList();
diff --git a/src/modules/logview/logviewmdiwindow.cpp b/src/modules/logview/logviewmdiwindow.cpp
index 97d5035..bab0a96 100644
--- a/src/modules/logview/logviewmdiwindow.cpp
+++ b/src/modules/logview/logviewmdiwindow.cpp
@@ -130,7 +130,7 @@ KviLogViewMDIWindow::KviLogViewMDIWindow(KviModuleExtensionDescriptor * d,KviFra
 
 	m_pEnableFromFilter = new KviStyledCheckBox(__tr2qs_ctx("Only older than","logview"),m_pSearchTab);
 	m_pFromDateEdit = new TQDateEdit(m_pSearchTab);
-	m_pFromDateEdit->setDate(TQDate::tqcurrentDate());
+	m_pFromDateEdit->setDate(TQDate::currentDate());
 	tqlayout->addWidget(m_pEnableFromFilter,8,0);
 	tqlayout->addWidget(m_pFromDateEdit,8,1);
 	connect(m_pEnableFromFilter,TQT_SIGNAL(toggled(bool)),m_pFromDateEdit,TQT_SLOT(setEnabled(bool)));
@@ -138,7 +138,7 @@ KviLogViewMDIWindow::KviLogViewMDIWindow(KviModuleExtensionDescriptor * d,KviFra
 
 	m_pEnableToFilter = new KviStyledCheckBox(__tr2qs_ctx("Only newier than","logview"),m_pSearchTab);
 	m_pToDateEdit = new TQDateEdit(m_pSearchTab);
-	m_pToDateEdit->setDate(TQDate::tqcurrentDate());
+	m_pToDateEdit->setDate(TQDate::currentDate());
 	tqlayout->addWidget(m_pEnableToFilter,9,0);
 	tqlayout->addWidget(m_pToDateEdit,9,1);
 	connect(m_pEnableToFilter,TQT_SIGNAL(toggled(bool)),m_pToDateEdit,TQT_SLOT(setEnabled(bool)));
@@ -149,7 +149,7 @@ KviLogViewMDIWindow::KviLogViewMDIWindow(KviModuleExtensionDescriptor * d,KviFra
 	tqlayout->addWidget(pb,10,1);
 
 	TQWidget *w = new TQWidget(m_pSearchTab);
-	w->tqsetSizePolicy(TQSizePolicy::Ignored,TQSizePolicy::Ignored);
+	w->setSizePolicy(TQSizePolicy::Ignored,TQSizePolicy::Ignored);
 	tqlayout->addWidget(w,11,1);
 
 	m_pIrcView = new KviIrcView(m_pSplitter,g_pFrame,this);
@@ -216,9 +216,9 @@ void KviLogViewMDIWindow::die()
 	close();
 }
 
-TQSize KviLogViewMDIWindow::tqsizeHint() const
+TQSize KviLogViewMDIWindow::sizeHint() const
 {
-	TQSize ret(m_pSplitter->tqsizeHint().width(),m_pIrcView->tqsizeHint().height());
+	TQSize ret(m_pSplitter->sizeHint().width(),m_pIrcView->sizeHint().height());
 	return ret;
 }
 
diff --git a/src/modules/logview/logviewmdiwindow.h b/src/modules/logview/logviewmdiwindow.h
index 96546e7..d2a7e67 100644
--- a/src/modules/logview/logviewmdiwindow.h
+++ b/src/modules/logview/logviewmdiwindow.h
@@ -114,7 +114,7 @@ protected:
 	virtual void resizeEvent(TQResizeEvent *e);
 	virtual void fillCaptionBuffers();
 	virtual void die();
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 protected slots:
 	void rightButtonClicked ( KviTalListViewItem *, const TQPoint &, int );
 	void itemSelected(KviTalListViewItem * it);
diff --git a/src/modules/mediaplayer/libkvimediaplayer.cpp b/src/modules/mediaplayer/libkvimediaplayer.cpp
index 91badb3..5c04bdc 100644
--- a/src/modules/mediaplayer/libkvimediaplayer.cpp
+++ b/src/modules/mediaplayer/libkvimediaplayer.cpp
@@ -1401,7 +1401,7 @@ MP_KVS_FUNCTION(localFile)
 	MP_KVS_FAIL_ON_NO_INTERFACE
 	TQString szRet = g_pMPInterface->mrl();
 	if(szRet.isEmpty())return true;
-	if(szRet.tqstartsWith("file://",false))
+	if(szRet.startsWith("file://",false))
 	{
 		szRet.remove(0,7);
 		c->returnValue()->setString(szRet);
@@ -1453,7 +1453,7 @@ MP_KVS_FUNCTION(status)
 	KVSM_PARAMETERS_END(c)
 
 	MP_KVS_FAIL_ON_NO_INTERFACE
-	KviMediaPlayerInterface::PlayertqStatus eStat = g_pMPInterface->status();
+	KviMediaPlayerInterface::PlayerStatus eStat = g_pMPInterface->status();
 	switch(eStat)
 	{
 		case KviMediaPlayerInterface::Stopped:
diff --git a/src/modules/mediaplayer/mp_amarokinterface.cpp b/src/modules/mediaplayer/mp_amarokinterface.cpp
index 699bc74..7bbfa92 100644
--- a/src/modules/mediaplayer/mp_amarokinterface.cpp
+++ b/src/modules/mediaplayer/mp_amarokinterface.cpp
@@ -143,7 +143,7 @@ bool KviAmarokInterface::setShuffle(bool &bVal)
 	return voidRetBoolDCOPCall("player","enableRandomMode(bool)",bVal);
 }
 
-KviMediaPlayerInterface::PlayertqStatus KviAmarokInterface::status()
+KviMediaPlayerInterface::PlayerStatus KviAmarokInterface::status()
 {
 	int ret;
 	if(!intRetVoidDCOPCall("player","status()",ret))return KviMediaPlayerInterface::Unknown;
diff --git a/src/modules/mediaplayer/mp_amarokinterface.h b/src/modules/mediaplayer/mp_amarokinterface.h
index f0169bb..6dcfec6 100644
--- a/src/modules/mediaplayer/mp_amarokinterface.h
+++ b/src/modules/mediaplayer/mp_amarokinterface.h
@@ -62,7 +62,7 @@
 		//virtual int bitRate(); unsupported
 		virtual int sampleRate();
 		virtual bool playMrl(const TQString &mrl);
-		virtual KviMediaPlayerInterface::PlayertqStatus status();
+		virtual KviMediaPlayerInterface::PlayerStatus status();
 		virtual bool getRepeat();
 		virtual bool getShuffle();
 		virtual bool setRepeat(bool &bVal);
diff --git a/src/modules/mediaplayer/mp_amipinterface.cpp b/src/modules/mediaplayer/mp_amipinterface.cpp
index 3a363ed..29fc347 100644
--- a/src/modules/mediaplayer/mp_amipinterface.cpp
+++ b/src/modules/mediaplayer/mp_amipinterface.cpp
@@ -189,7 +189,7 @@ int KviAmipInterface::channels()
   return ret;
 }
 
-KviMediaPlayerInterface::PlayertqStatus KviAmipInterface::status()
+KviMediaPlayerInterface::PlayerStatus KviAmipInterface::status()
 {
   int ret = eval_int("var_stat");
   switch(ret)
diff --git a/src/modules/mediaplayer/mp_amipinterface.h b/src/modules/mediaplayer/mp_amipinterface.h
index 392d854..5d49f69 100644
--- a/src/modules/mediaplayer/mp_amipinterface.h
+++ b/src/modules/mediaplayer/mp_amipinterface.h
@@ -48,7 +48,7 @@
     virtual bool setShuffle(bool &bVal);
     virtual bool amipExec(const TQString &cmd);
     virtual TQString amipEval(const TQString &cmd);
-    virtual KviMediaPlayerInterface::PlayertqStatus status();
+    virtual KviMediaPlayerInterface::PlayerStatus status();
   };
   
   MP_DECLARE_DESCRIPTOR(KviAmipInterface)
diff --git a/src/modules/mediaplayer/mp_interface.cpp b/src/modules/mediaplayer/mp_interface.cpp
index 0c0a97a..283f551 100644
--- a/src/modules/mediaplayer/mp_interface.cpp
+++ b/src/modules/mediaplayer/mp_interface.cpp
@@ -82,7 +82,7 @@ TQString KviMediaPlayerInterface::getLocalFile()
 {
 	TQString ret = mrl();
 	if(ret.isEmpty())return ret;
-	if(ret.tqstartsWith("file://",false))
+	if(ret.startsWith("file://",false))
 	{
 		ret.remove(0,7);
 		return ret;
@@ -183,7 +183,7 @@ bool KviMediaPlayerInterface::jumpTo(int &iPos)
 	return false;
 }
 
-KviMediaPlayerInterface::PlayertqStatus KviMediaPlayerInterface::status()
+KviMediaPlayerInterface::PlayerStatus KviMediaPlayerInterface::status()
 {
 	notImplemented();
 	return KviMediaPlayerInterface::Unknown;
@@ -265,12 +265,12 @@ bool KviMediaPlayerInterface::setShuffle(bool &bVal)
 TQString KviMediaPlayerInterface::mediaType()
 {
 	TQString ret = mrl();
-	if(ret.tqendsWith(".mp3",false))ret = "MPEG Layer 3";
-	else if(ret.tqendsWith(".ogg",false))ret = "OGG Vorbis";
-	else if(ret.tqendsWith(".avi",false))ret = "Audio Video Interleave";
-	else if(ret.tqendsWith(".mpeg",false))ret = "MPEG Video";
-	else if(ret.tqendsWith(".mpg",false))ret = "MPEG Video";
-	else if(ret.tqstartsWith("http://",false))ret = "HTTP Audio Stream";
+	if(ret.endsWith(".mp3",false))ret = "MPEG Layer 3";
+	else if(ret.endsWith(".ogg",false))ret = "OGG Vorbis";
+	else if(ret.endsWith(".avi",false))ret = "Audio Video Interleave";
+	else if(ret.endsWith(".mpeg",false))ret = "MPEG Video";
+	else if(ret.endsWith(".mpg",false))ret = "MPEG Video";
+	else if(ret.startsWith("http://",false))ret = "HTTP Audio Stream";
 	else ret = TQString();
 	return ret;
 }
diff --git a/src/modules/mediaplayer/mp_interface.h b/src/modules/mediaplayer/mp_interface.h
index 593a249..f1a5479 100644
--- a/src/modules/mediaplayer/mp_interface.h
+++ b/src/modules/mediaplayer/mp_interface.h
@@ -108,8 +108,8 @@ public:
 	// return false only on communication failure
 	virtual bool quit();
 	// return the current player status
-	enum PlayertqStatus { Unknown, Stopped, Playing, Paused };
-	virtual KviMediaPlayerInterface::PlayertqStatus status();
+	enum PlayerStatus { Unknown, Stopped, Playing, Paused };
+	virtual KviMediaPlayerInterface::PlayerStatus status();
 	// current position in the media (msecs)
 	// 0 if the player isn't playing anything and -1 if unknown
 	virtual int position();
diff --git a/src/modules/mediaplayer/mp_jukinterface.cpp b/src/modules/mediaplayer/mp_jukinterface.cpp
index 5b50a04..0be694c 100644
--- a/src/modules/mediaplayer/mp_jukinterface.cpp
+++ b/src/modules/mediaplayer/mp_jukinterface.cpp
@@ -140,7 +140,7 @@ int KviJukInterface::position()
 	return ret * 1000;
 }
 
-KviMediaPlayerInterface::PlayertqStatus KviJukInterface::status()
+KviMediaPlayerInterface::PlayerStatus KviJukInterface::status()
 {
 	int ret;
 	if(!intRetVoidDCOPCall("player","status()",ret))return KviMediaPlayerInterface::Unknown;
diff --git a/src/modules/mediaplayer/mp_jukinterface.h b/src/modules/mediaplayer/mp_jukinterface.h
index c2b7fd1..cde06ee 100644
--- a/src/modules/mediaplayer/mp_jukinterface.h
+++ b/src/modules/mediaplayer/mp_jukinterface.h
@@ -67,7 +67,7 @@
 		virtual bool setShuffle(bool &bVal);
 
 		virtual bool playMrl(const TQString &mrl);
-		virtual KviMediaPlayerInterface::PlayertqStatus status();
+		virtual KviMediaPlayerInterface::PlayerStatus status();
 	};
 	
 	MP_DECLARE_DESCRIPTOR(KviJukInterface)
diff --git a/src/modules/mediaplayer/mp_winampinterface.cpp b/src/modules/mediaplayer/mp_winampinterface.cpp
index 6bc3e24..7820dbb 100644
--- a/src/modules/mediaplayer/mp_winampinterface.cpp
+++ b/src/modules/mediaplayer/mp_winampinterface.cpp
@@ -280,7 +280,7 @@ int KviWinampInterface::channels()
 	return ret;
 }
 
-KviMediaPlayerInterface::PlayertqStatus KviWinampInterface::status()
+KviMediaPlayerInterface::PlayerStatus KviWinampInterface::status()
 {
 	HWND hWinamp = find_winamp(this);
 	int ret = 1000;
diff --git a/src/modules/mediaplayer/mp_winampinterface.h b/src/modules/mediaplayer/mp_winampinterface.h
index 3f2a62c..f1b3cf5 100644
--- a/src/modules/mediaplayer/mp_winampinterface.h
+++ b/src/modules/mediaplayer/mp_winampinterface.h
@@ -66,7 +66,7 @@
 		virtual bool getShuffle();
 		virtual bool setRepeat(bool &bVal);
 		virtual bool setShuffle(bool &bVal);
-		virtual KviMediaPlayerInterface::PlayertqStatus status();
+		virtual KviMediaPlayerInterface::PlayerStatus status();
 	};
 	
 	MP_DECLARE_DESCRIPTOR(KviWinampInterface)
diff --git a/src/modules/mediaplayer/mp_xmmsinterface.cpp b/src/modules/mediaplayer/mp_xmmsinterface.cpp
index 730b4fe..60820f0 100644
--- a/src/modules/mediaplayer/mp_xmmsinterface.cpp
+++ b/src/modules/mediaplayer/mp_xmmsinterface.cpp
@@ -256,7 +256,7 @@ bool KviXmmsInterface::setShuffle(bool &bVal)
 	return true;
 }
 
-KviMediaPlayerInterface::PlayertqStatus KviXmmsInterface::status()
+KviMediaPlayerInterface::PlayerStatus KviXmmsInterface::status()
 {
 	bool (*sym1)(int) = (bool (*)(int))lookupSymbol("xmms_remote_is_paused");
 	if(sym1)
diff --git a/src/modules/mediaplayer/mp_xmmsinterface.h b/src/modules/mediaplayer/mp_xmmsinterface.h
index e2b2c38..0b3f62b 100644
--- a/src/modules/mediaplayer/mp_xmmsinterface.h
+++ b/src/modules/mediaplayer/mp_xmmsinterface.h
@@ -52,7 +52,7 @@
 		virtual bool jumpTo(kvs_int_t &iPos);
 		virtual bool setVol(kvs_int_t &iVol);
 		virtual int getVol();
-		virtual KviMediaPlayerInterface::PlayertqStatus status();
+		virtual KviMediaPlayerInterface::PlayerStatus status();
 		virtual TQString nowPlaying();
 		virtual bool playMrl(const TQString &mrl);
 		virtual TQString mrl();
diff --git a/src/modules/my/idle.cpp b/src/modules/my/idle.cpp
index daa5c20..0917aec 100644
--- a/src/modules/my/idle.cpp
+++ b/src/modules/my/idle.cpp
@@ -72,12 +72,12 @@ bool Idle::usingPlatform() const
 
 void Idle::start()
 {
-	d->startTime = TQDateTime::tqcurrentDateTime();
+	d->startTime = TQDateTime::currentDateTime();
 
 	if(!platform) {
 		// generic idle
 		d->lastMousePos = TQCursor::pos();
-		d->idleSince = TQDateTime::tqcurrentDateTime();
+		d->idleSince = TQDateTime::currentDateTime();
 	}
 
 	// poll every second (use a lower value if you need more accuracy)
@@ -96,7 +96,7 @@ int Idle::secondsIdle()
 		i = platform->secondsIdle();
 	else {
 		TQPoint curMousePos = TQCursor::pos();
-		TQDateTime curDateTime = TQDateTime::tqcurrentDateTime();
+		TQDateTime curDateTime = TQDateTime::currentDateTime();
 		if(d->lastMousePos != curMousePos) {
 			d->lastMousePos = curMousePos;
 			d->idleSince = curDateTime;
@@ -105,7 +105,7 @@ int Idle::secondsIdle()
 	}
 
 	// set 'beginIdle' to the beginning of the idle time (by backtracking 'i' seconds from now)
-	TQDateTime beginIdle = TQDateTime::tqcurrentDateTime().addSecs(-i);
+	TQDateTime beginIdle = TQDateTime::currentDateTime().addSecs(-i);
 
 	// set 't' to hold the number of seconds between 'beginIdle' and 'startTime'
 	int t = beginIdle.secsTo(d->startTime);
@@ -121,7 +121,7 @@ int Idle::secondsIdle()
 	}
 
 	// how long have we been idle?
-	int idleTime = d->startTime.secsTo(TQDateTime::tqcurrentDateTime());
+	int idleTime = d->startTime.secsTo(TQDateTime::currentDateTime());
 	return idleTime;
 }
 
diff --git a/src/modules/my/idle_mac.cpp b/src/modules/my/idle_mac.cpp
index 4e116fa..92de564 100644
--- a/src/modules/my/idle_mac.cpp
+++ b/src/modules/my/idle_mac.cpp
@@ -24,8 +24,8 @@
 #include <Carbon/Carbon.h>
 
 // Why does Apple have to make this so complicated?
-static OStqStatus LoadFrameworkBundle(CFStringRef framework, CFBundleRef *bundlePtr) {
-	OStqStatus  err;
+static OSStatus LoadFrameworkBundle(CFStringRef framework, CFBundleRef *bundlePtr) {
+	OSStatus  err;
 	FSRef   frameworksFolderRef;
 	CFURLRef baseURL;
 	CFURLRef bundleURL;
@@ -117,7 +117,7 @@ IdlePlatform::~IdlePlatform() {
 
 
 // Typedef for the function we're getting back from CFBundleGetFunctionPointerForName.
-typedef OStqStatus (*InstallEventLoopIdleTimerPtr)(EventLoopRef inEventLoop,
+typedef OSStatus (*InstallEventLoopIdleTimerPtr)(EventLoopRef inEventLoop,
 																 EventTimerInterval   inFireDelay,
 																 EventTimerInterval   inInterval,
 																 EventLoopIdleTimerUPP    inTimerProc,
diff --git a/src/modules/notifier/notifierwindow.cpp b/src/modules/notifier/notifierwindow.cpp
index e0f080a..3a7568b 100644
--- a/src/modules/notifier/notifierwindow.cpp
+++ b/src/modules/notifier/notifierwindow.cpp
@@ -727,7 +727,7 @@ void KviNotifierWindow::redrawText()
 
 	if(m_pLineEdit->isVisible())y -= (m_pLineEdit->height() + 4);
 
-	TQColorGroup grp = tqcolorGroup();
+	TQColorGroup grp = colorGroup();
 
 	int idx = iIdx;
 	KviNotifierMessage * m = cur;
diff --git a/src/modules/objects/class_groupbox.cpp b/src/modules/objects/class_groupbox.cpp
index 07f73be..d0ecae0 100644
--- a/src/modules/objects/class_groupbox.cpp
+++ b/src/modules/objects/class_groupbox.cpp
@@ -29,7 +29,7 @@
 #include "kvi_locale.h"
 #include "kvi_iconmanager.h"
 
-// Tables used in $tqsetAlignment , $tqalignment and in $setOrientation & $orientation
+// Tables used in $setAlignment , $tqalignment and in $setOrientation & $orientation
 
 const char * const align_tbl[] = {
 			"Left",
@@ -91,7 +91,7 @@ const int align_cod[] = {
 		Adds an empty cell at the next free position.
 		!fn: <string> $tqalignment()
 		Returns the tqalignment of the group box title.
-		!fn: $tqsetAlignment(<tqalignment:string>)
+		!fn: $setAlignment(<tqalignment:string>)
 		Set the tqalignment of the groupbox;  Valid values are Left,Right,HCenter.
 		!fn: $setOrientation<orientation:string>
 		Sets the group box's orientation. Valid values are:Qt::Horizontal,Qt::Vertical.
@@ -108,7 +108,7 @@ const int align_cod[] = {
 		#then the groupbox [br]
 		%gb=$new(groupbox,%widget)[br]
 		%gb->$setTitle(Login)[br]
-		%gb->$tqsetAlignment("Left")[br]
+		%gb->$setAlignment("Left")[br]
 		[br]
 		#now we create the labels and lineedits.[br]
 		%labeluser=$new(label,%gb)[br]
@@ -166,7 +166,7 @@ KVSO_BEGIN_REGISTERCLASS(KviKvsObject_groupbox,"groupbox","widget")
 	KVSO_REGISTER_HANDLER(KviKvsObject_groupbox,"columns", functionColumns)
 	KVSO_REGISTER_HANDLER(KviKvsObject_groupbox,"addSpace", functionAddSpace)
 	KVSO_REGISTER_HANDLER(KviKvsObject_groupbox,"tqalignment", functionAlignment)
-	KVSO_REGISTER_HANDLER(KviKvsObject_groupbox,"tqsetAlignment", functionSetAlignment)
+	KVSO_REGISTER_HANDLER(KviKvsObject_groupbox,"setAlignment", functionSetAlignment)
 	KVSO_REGISTER_HANDLER(KviKvsObject_groupbox,"setOrientation", functionSetOrientation)
 	KVSO_REGISTER_HANDLER(KviKvsObject_groupbox,"isChecked", functionIsChecked)
 	KVSO_REGISTER_HANDLER(KviKvsObject_groupbox,"setChecked", functionSetChecked)
@@ -317,7 +317,7 @@ bool KviKvsObject_groupbox::functionSetAlignment(KviKvsObjectFunctionCall *c)
 	{
 		if(KviTQString::equalCI(szAlign, align_tbl[i]))
 		{
-			((KviTalGroupBox *)widget())->tqsetAlignment(align_cod[i]);
+			((KviTalGroupBox *)widget())->setAlignment(align_cod[i]);
 			return true;
 		}
 	}
diff --git a/src/modules/objects/class_label.cpp b/src/modules/objects/class_label.cpp
index ce2c536..580f93b 100644
--- a/src/modules/objects/class_label.cpp
+++ b/src/modules/objects/class_label.cpp
@@ -34,7 +34,7 @@
 
 
 
-// Tables used in $tqsetAlignment & $tqalignment
+// Tables used in $setAlignment & $tqalignment
 const char * const align_tbl[] = {
 			"Left", 
 			"Right",
@@ -149,9 +149,9 @@ const int frame_cod[] = {
 		this label. The flags are separated by commas. An example output
 		could look like this:[br]
 		[pre]Bottom, Right[/pre][br]
-		See [classfnc]$tqsetAlignment[/classfnc]() for explanation of all
+		See [classfnc]$setAlignment[/classfnc]() for explanation of all
 		tqalignment flags.
-		!fn: $tqsetAlignment(<flag1:string>, <flag2:string>, ...)
+		!fn: $setAlignment(<flag1:string>, <flag2:string>, ...)
 		This function sets tqalignment flags, given as parameters, for 
 		this label. Valid flags are:
 		[pre]
@@ -217,7 +217,7 @@ KVSO_BEGIN_REGISTERCLASS(KviKvsObject_label,"label","widget")
 	KVSO_REGISTER_HANDLER(KviKvsObject_label,"autoResize", functionAutoResize)
 	KVSO_REGISTER_HANDLER(KviKvsObject_label,"setAutoResize", functionSetAutoResize)
 	KVSO_REGISTER_HANDLER(KviKvsObject_label,"tqalignment", functionAlignment)
-	KVSO_REGISTER_HANDLER(KviKvsObject_label,"tqsetAlignment", functionSetAlignment)
+	KVSO_REGISTER_HANDLER(KviKvsObject_label,"setAlignment", functionSetAlignment)
 	KVSO_REGISTER_HANDLER(KviKvsObject_label,"clear", functionClear)
 	KVSO_REGISTER_HANDLER(KviKvsObject_label,"frameStyle", functionFrameStyle)
 	KVSO_REGISTER_HANDLER(KviKvsObject_label,"setFrameStyle", functionSetFrameStyle)
@@ -321,7 +321,7 @@ bool KviKvsObject_label::functionSetAlignment(KviKvsObjectFunctionCall *c)
 				c->warning(__tr2qs("Unknown tqalignment: '%Q'"),&(*it));
 			
 		}
-	((TQLabel *)widget())->tqsetAlignment(sum);
+	((TQLabel *)widget())->setAlignment(sum);
 	return true;
 }
 bool KviKvsObject_label::functionAlignment(KviKvsObjectFunctionCall *c)
diff --git a/src/modules/objects/class_layout.cpp b/src/modules/objects/class_layout.cpp
index b2842a8..4381416 100644
--- a/src/modules/objects/class_layout.cpp
+++ b/src/modules/objects/class_layout.cpp
@@ -83,8 +83,8 @@
 		Sets the resize mode of the parent widget in relation to this tqlayout.
 		<mode> can be one of:[br]
 		-Auto: this is the default[br]
-		-Fixed: the parent widget of this tqlayout is resized to the "tqsizeHint" value and it cannot be resized by the user.[br]
-		-Minimum: the minimum size of the parent widget of this tqlayout is set to tqminimumSize() and it cannot be smaller[br]
+		-Fixed: the parent widget of this tqlayout is resized to the "sizeHint" value and it cannot be resized by the user.[br]
+		-Minimum: the minimum size of the parent widget of this tqlayout is set to minimumSize() and it cannot be smaller[br]
 		-FreeResize: the parent widget of this tqlayout is not constrained at all[br]
 */
 
diff --git a/src/modules/objects/class_listbox.cpp b/src/modules/objects/class_listbox.cpp
index 241c385..c85a4c0 100644
--- a/src/modules/objects/class_listbox.cpp
+++ b/src/modules/objects/class_listbox.cpp
@@ -100,7 +100,7 @@
 		This function is called by KVIrc when the current item changes.
 		!fn: <index:integer> $onItemEvent()
 		This function is called by KVIrc when the current item pointed by the mouse changes and gives in $0 the item index.
-		!fn: <array:x,y,width,height> $tqitemRect(<item:index>)
+		!fn: <array:x,y,width,height> $itemRect(<item:index>)
 		Returns the rectangle on the screen that item occupies, or an invalid rectangle if item is 0 or is not currently visible. 
 
 		@signals:
@@ -122,7 +122,7 @@ KVSO_BEGIN_REGISTERCLASS(KviKvsObject_listbox,"listbox","widget")
 	KVSO_REGISTER_HANDLER(KviKvsObject_listbox,"currentItem", functioncurrentItem)
 	KVSO_REGISTER_HANDLER(KviKvsObject_listbox,"textAt", functiontextAt);
 	KVSO_REGISTER_HANDLER(KviKvsObject_listbox,"itemAt", functionitemAt);
-	KVSO_REGISTER_HANDLER(KviKvsObject_listbox,"tqitemRect", functiontqitemRect);
+	KVSO_REGISTER_HANDLER(KviKvsObject_listbox,"itemRect", functionitemRect);
 	KVSO_REGISTER_HANDLER(KviKvsObject_listbox,"setCurrentItem", functionsetCurrentItem);
 
 
@@ -367,7 +367,7 @@ void KviKvsObject_listbox::onItem(KviTalListBoxItem *item)
 }
 
 
-bool KviKvsObject_listbox::functiontqitemRect(KviKvsObjectFunctionCall *c)
+bool KviKvsObject_listbox::functionitemRect(KviKvsObjectFunctionCall *c)
 {
 kvs_uint_t uIndex;
 	KVSO_PARAMETERS_BEGIN(c)
@@ -375,7 +375,7 @@ kvs_uint_t uIndex;
 	KVSO_PARAMETERS_END(c)
 	if(widget())
 	{
-		TQRect rect=((KviTalListBox *)widget())->tqitemRect(((KviTalListBox *)widget())->item(uIndex));
+		TQRect rect=((KviTalListBox *)widget())->itemRect(((KviTalListBox *)widget())->item(uIndex));
 		KviKvsArray * a = new KviKvsArray();
 		a->set(0,new KviKvsVariant((kvs_int_t)rect.left()));
 		a->set(1,new KviKvsVariant((kvs_int_t)rect.top()));
diff --git a/src/modules/objects/class_listbox.h b/src/modules/objects/class_listbox.h
index b7d00cb..911f784 100644
--- a/src/modules/objects/class_listbox.h
+++ b/src/modules/objects/class_listbox.h
@@ -60,7 +60,7 @@ protected:
 	bool functiononItemEvent(KviKvsObjectFunctionCall *c);
 
 	bool functionitemAt(KviKvsObjectFunctionCall *c);
-	bool functiontqitemRect(KviKvsObjectFunctionCall *c);
+	bool functionitemRect(KviKvsObjectFunctionCall *c);
 protected slots:
 	void selectionChanged();
 	void currentItemChanged(KviTalListBoxItem *);
diff --git a/src/modules/objects/class_multilineedit.cpp b/src/modules/objects/class_multilineedit.cpp
index a4beed4..70d5086 100644
--- a/src/modules/objects/class_multilineedit.cpp
+++ b/src/modules/objects/class_multilineedit.cpp
@@ -226,7 +226,7 @@ static int mod_cod[] =	{
 		Returns 1(TRUE) if undo is available; otherwise returns 0(FALSE).
 		!fn: <boolean> $isRedoAvailable ()
 		Returns 1(TRUE) if redo is available; otherwise returns 0(FALSE).
-		!fn: $tqsetAlignment(<tqalignment:string>)
+		!fn: $setAlignment(<tqalignment:string>)
 		Sets the tqalignment of the current paragraph to <tqalignment>. Valid values are:[br]
 		- AlignAuto - Aligns according to the language.[br]
 		- TQt::AlignLeft - Aligns with the left edge.[br]
@@ -323,7 +323,7 @@ KVSO_BEGIN_REGISTERCLASS(KviKvsObject_mledit,"multilineedit","widget")
 	KVSO_REGISTER_HANDLER(KviKvsObject_mledit,"setParagraphBackgroundColor", functionsetParagraphBackgroundColor)
 	KVSO_REGISTER_HANDLER(KviKvsObject_mledit,"clearParagraphBackgroundColor", functionsetParagraphBackgroundColor)
 	KVSO_REGISTER_HANDLER(KviKvsObject_mledit,"loadFile" , functionloadFile); // let's fantasy
-	KVSO_REGISTER_HANDLER(KviKvsObject_mledit,"tqsetAlignment" , functiontqsetAlignment)
+	KVSO_REGISTER_HANDLER(KviKvsObject_mledit,"setAlignment" , functionsetAlignment)
 	KVSO_REGISTER_HANDLER(KviKvsObject_mledit,"setAutoFormatting" , functionsetAutoFormatting)
 	KVSO_REGISTER_HANDLER(KviKvsObject_mledit,"setVerticalAlignment" , functionsetVerticalAlignment)
 	KVSO_REGISTER_HANDLER(KviKvsObject_mledit,"setWrapPolicy" , functionsetWrapPolicy)
@@ -1090,7 +1090,7 @@ bool KviKvsObject_mledit::functionloadFile(KviKvsObjectFunctionCall *c)
 	return true;
 }
 
-bool KviKvsObject_mledit::functiontqsetAlignment(KviKvsObjectFunctionCall *c)
+bool KviKvsObject_mledit::functionsetAlignment(KviKvsObjectFunctionCall *c)
 
 {
 	TQString szAlignment;
@@ -1099,13 +1099,13 @@ bool KviKvsObject_mledit::functiontqsetAlignment(KviKvsObjectFunctionCall *c)
 	KVSO_PARAMETERS_END(c)
 	if(!widget()) return true;
 	if(KviTQString::equalCI(szAlignment,"Left"))
-		((KviTalMultiLineEdit *)widget())->tqsetAlignment(TQt::AlignLeft);
+		((KviTalMultiLineEdit *)widget())->setAlignment(TQt::AlignLeft);
 	else if(KviTQString::equalCI(szAlignment,"Right"))
-		((KviTalMultiLineEdit *)widget())->tqsetAlignment(TQt::AlignRight);
+		((KviTalMultiLineEdit *)widget())->setAlignment(TQt::AlignRight);
 	else if(KviTQString::equalCI(szAlignment,"Center"))
-		((KviTalMultiLineEdit *)widget())->tqsetAlignment(TQt::AlignCenter);
+		((KviTalMultiLineEdit *)widget())->setAlignment(TQt::AlignCenter);
 	else if(KviTQString::equalCI(szAlignment,"Justify"))
-		((KviTalMultiLineEdit *)widget())->tqsetAlignment(TQt::AlignJustify);
+		((KviTalMultiLineEdit *)widget())->setAlignment(TQt::AlignJustify);
 	else c->warning(__tr2qs("Unknown tqalignment '%Q'"),&szAlignment);
 	return true;
 }
diff --git a/src/modules/objects/class_multilineedit.h b/src/modules/objects/class_multilineedit.h
index 5f531ed..a1b1c8e 100644
--- a/src/modules/objects/class_multilineedit.h
+++ b/src/modules/objects/class_multilineedit.h
@@ -95,7 +95,7 @@ protected:
 	bool functionsetParagraphBackgroundColor(KviKvsObjectFunctionCall *c);
 	bool functionclearParagraphBackground(KviKvsObjectFunctionCall *c);
 	bool functionloadFile(KviKvsObjectFunctionCall *c);
-	bool functiontqsetAlignment(KviKvsObjectFunctionCall *c);
+	bool functionsetAlignment(KviKvsObjectFunctionCall *c);
 	bool functionsetAutoFormatting(KviKvsObjectFunctionCall *c);
 	bool functionsetVerticalAlignment(KviKvsObjectFunctionCall *c);
 	bool functionsetWrapPolicy(KviKvsObjectFunctionCall *c);
diff --git a/src/modules/objects/class_popupmenu.cpp b/src/modules/objects/class_popupmenu.cpp
index 394c39a..8f1afd7 100644
--- a/src/modules/objects/class_popupmenu.cpp
+++ b/src/modules/objects/class_popupmenu.cpp
@@ -110,7 +110,7 @@
 				#we create the label widget wich will be used as popup's title[br]
 				$$->%Popuptitle=$new(label)[br]
 				$$->%Popuptitle->$settext(<B><U>"Windows Options"</B></U>)[br]
-				$$->%Popuptitle->$tqsetAlignment(Center)[br]
+				$$->%Popuptitle->$setAlignment(Center)[br]
 				#and we add it.[br]
 				%A=$$->%Popuptitle[br]
 				$$->%Popupmenu->$insertwidget(%A)[br]
diff --git a/src/modules/objects/class_socket.cpp b/src/modules/objects/class_socket.cpp
index 5b9103b..5b52ad4 100644
--- a/src/modules/objects/class_socket.cpp
+++ b/src/modules/objects/class_socket.cpp
@@ -57,7 +57,7 @@ KviScriptSocketObject::KviScriptSocketObject(KviScriptObjectClass * cla,KviScrip
 {
 	m_uConnectionId = 0;
 	m_sock = KVI_INVALID_SOCKET;
-	m_itqStatus = KVI_SCRIPT_SOCKET_STATUS_DISCONNECTED;
+	m_iStatus = KVI_SCRIPT_SOCKET_STATUS_DISCONNECTED;
 	m_uRemotePort = 0;
 	m_uSecondaryPort = 0;
 	m_pSn = 0;
@@ -128,7 +128,7 @@ void KviScriptSocketObject::reset()
 	m_pOutBuffer = new KviDataBuffer();
 	m_uInBufferLen = 0;
 	m_uInDataLen = 0;
-	m_itqStatus = KVI_SCRIPT_SOCKET_STATUS_DISCONNECTED;
+	m_iStatus = KVI_SCRIPT_SOCKET_STATUS_DISCONNECTED;
 	m_uRemotePort = 0;
 	m_szRemoteIp.clear();
 	m_uLocalPort = 0;
@@ -366,7 +366,7 @@ void KviScriptSocketObject::reset()
 
 KVSO_BEGIN_REGISTERCLASS(KviKvsObject_socket,"socket","object")
 
-	KVSO_REGISTER_HANDLER(KviKvsObject_socket,"status",functiontqStatus)
+	KVSO_REGISTER_HANDLER(KviKvsObject_socket,"status",functionStatus)
 	KVSO_REGISTER_HANDLER(KviKvsObject_socket,"remotePort",functionRemotePort)
 	KVSO_REGISTER_HANDLER(KviKvsObject_socket,"remoteIp",functionRemoteIp)
 	KVSO_REGISTER_HANDLER(KviKvsObject_socket,"localIp",functionLocalIp)
@@ -398,7 +398,7 @@ KVSO_BEGIN_CONSTRUCTOR(KviKvsObject_socket,KviKvsObject)
 	m_bUdp = false;
 	m_uConnectionId = 0;
 	m_sock = KVI_INVALID_SOCKET;
-	m_itqStatus = KVI_SCRIPT_SOCKET_STATUS_DISCONNECTED;
+	m_iStatus = KVI_SCRIPT_SOCKET_STATUS_DISCONNECTED;
 	m_uRemotePort = 0;
 	m_uSecondaryPort = 0;
 	m_pSn = 0;
@@ -430,15 +430,15 @@ KVSO_END_DESTRUCTOR(KviKvsObject_socket)
 //----------------------
 
 
-bool KviKvsObject_socket::functiontqStatus(KviKvsObjectFunctionCall *c)
+bool KviKvsObject_socket::functionStatus(KviKvsObjectFunctionCall *c)
 {
-	c->returnValue()->setInteger(m_itqStatus);
+	c->returnValue()->setInteger(m_iStatus);
 	return true;
 }
 
 bool KviKvsObject_socket::functionClose(KviKvsObjectFunctionCall *c)
 {
-	if((m_pOutBuffer->size() != 0) && (m_itqStatus == KVI_SCRIPT_SOCKET_STATUS_CONNECTED))
+	if((m_pOutBuffer->size() != 0) && (m_iStatus == KVI_SCRIPT_SOCKET_STATUS_CONNECTED))
 		tryFlush();
 
 	reset();
@@ -591,7 +591,7 @@ bool  KviKvsObject_socket::functionConnect(KviKvsObjectFunctionCall *c)
 		c->warning(__tr2qs("Value %d for port is out of range (values allowed are from 0 to 65535"),m_uRemotePort);
 		return true;
 	}
-	if((m_sock != KVI_INVALID_SOCKET) || (m_itqStatus != KVI_SCRIPT_SOCKET_STATUS_DISCONNECTED))
+	if((m_sock != KVI_INVALID_SOCKET) || (m_iStatus != KVI_SCRIPT_SOCKET_STATUS_DISCONNECTED))
 	{
 		c->warning(__tr2qs("Another connection in progress"));
 		c->returnValue()->setBoolean(true);
@@ -608,11 +608,11 @@ bool  KviKvsObject_socket::functionConnect(KviKvsObjectFunctionCall *c)
 		debug ("ok connecting");
 		debug ("connectinhg on ip %s ",m_szRemoteIp.latin1());
 		debug ("non so ip");
-		m_itqStatus = KVI_SCRIPT_SOCKET_STATUS_CONNECTING;
+		m_iStatus = KVI_SCRIPT_SOCKET_STATUS_CONNECTING;
 		delayedConnect();
 	} else {
 		debug ("connectinhg on ip %s port %d",m_szRemoteIp.latin1(),m_uRemotePort);
-		m_itqStatus = KVI_SCRIPT_SOCKET_STATUS_DNS;
+		m_iStatus = KVI_SCRIPT_SOCKET_STATUS_DNS;
 		delayedLookupRemoteIp();
 	}
 	c->returnValue()->setBoolean(true);
@@ -626,7 +626,7 @@ bool  KviKvsObject_socket::functionConnect(KviKvsObjectFunctionCall *c)
 
 bool KviKvsObject_socket::functionListen(KviKvsObjectFunctionCall *c)
 {
-	if((m_sock != KVI_INVALID_SOCKET) || (m_itqStatus != KVI_SCRIPT_SOCKET_STATUS_DISCONNECTED))
+	if((m_sock != KVI_INVALID_SOCKET) || (m_iStatus != KVI_SCRIPT_SOCKET_STATUS_DISCONNECTED))
 	{
 		c->warning(__tr2qs("Another connection in progress"));
 		c->returnValue()->setBoolean(false);
@@ -770,7 +770,7 @@ bool KviKvsObject_socket::functionListen(KviKvsObjectFunctionCall *c)
 	TQObject::connect(m_pSn,TQT_SIGNAL(activated(int)),this,TQT_SLOT(incomingConnection(int)));
 	m_pSn->setEnabled(true);
 
-	m_itqStatus = KVI_SCRIPT_SOCKET_STATUS_LISTENING;
+	m_iStatus = KVI_SCRIPT_SOCKET_STATUS_LISTENING;
 
 	c->returnValue()->setBoolean(true);
 	return true;
@@ -846,7 +846,7 @@ void KviKvsObject_socket::acceptConnection(kvi_socket_t s,kvi_u32_t uPort,const
 		sareal.getStringAddress(m_szLocalIp);
 	}
 
-	m_itqStatus = KVI_SCRIPT_SOCKET_STATUS_CONNECTED;
+	m_iStatus = KVI_SCRIPT_SOCKET_STATUS_CONNECTED;
 
 	m_pSn = new TQSocketNotifier((int)m_sock,TQSocketNotifier::Read);
 	TQObject::connect(m_pSn,TQT_SIGNAL(activated(int)),this,TQT_SLOT(readNotifierFired(int)));
@@ -1070,7 +1070,7 @@ void KviKvsObject_socket::writeNotifierFired(int)
 		KviKvsVariantList *params=0;
 		callFunction(this,"connectEvent",params);
 		if(m_uConnectionId == uOldConnectionId)
-			m_itqStatus = KVI_SCRIPT_SOCKET_STATUS_CONNECTED;
+			m_iStatus = KVI_SCRIPT_SOCKET_STATUS_CONNECTED;
 		// else the connection has been already changed!
 	}
 }
@@ -1256,7 +1256,7 @@ void KviKvsObject_socket::reset()
 	m_pOutBuffer = new KviDataBuffer();
 	m_uInBufferLen = 0;
 	m_uInDataLen = 0;
-	m_itqStatus = KVI_SCRIPT_SOCKET_STATUS_DISCONNECTED;
+	m_iStatus = KVI_SCRIPT_SOCKET_STATUS_DISCONNECTED;
 	m_uRemotePort = 0;
 	m_szRemoteIp="";
 	m_uLocalPort = 0;
diff --git a/src/modules/objects/class_socket.h b/src/modules/objects/class_socket.h
index 84771ca..f80d749 100644
--- a/src/modules/objects/class_socket.h
+++ b/src/modules/objects/class_socket.h
@@ -47,7 +47,7 @@ public:
 	virtual ~KviScriptSocketObject();
 protected:
 	kvi_socket_t       m_sock;
-	int                m_itqStatus;
+	int                m_iStatus;
 	KviStr             m_szRemoteIp;
 	unsigned short int m_uRemotePort;
 	KviStr             m_szLocalIp;
@@ -69,7 +69,7 @@ protected:
 	unsigned short int m_uSecondaryPort;
 	KviStr             m_szSecondaryIp;
 protected:
-	bool functiontqStatus(KviCommand *c,KviParameterList * params,KviStr &buffer);
+	bool functionStatus(KviCommand *c,KviParameterList * params,KviStr &buffer);
 	bool functionRemotePort(KviCommand *c,KviParameterList * params,KviStr &buffer);
 	bool functionRemoteIp(KviCommand *c,KviParameterList * params,KviStr &buffer);
 	bool functionLocalPort(KviCommand *c,KviParameterList * params,KviStr &buffer);
@@ -122,7 +122,7 @@ public:
 protected:
 	bool               m_bUdp;  
 	kvi_socket_t       m_sock;
-	int                m_itqStatus;
+	int                m_iStatus;
 	TQString             m_szRemoteIp;
 //	unsigned short int m_uRemotePort;
 	TQString             m_szLocalIp;
@@ -144,7 +144,7 @@ protected:
 	kvi_u32_t          m_uSecondaryPort;
 	TQString             m_szSecondaryIp;
 protected:
-	bool functiontqStatus(KviKvsObjectFunctionCall *c);
+	bool functionStatus(KviKvsObjectFunctionCall *c);
 	bool functionRemotePort(KviKvsObjectFunctionCall *c);
 	bool functionRemoteIp(KviKvsObjectFunctionCall *c);
 	bool functionLocalPort(KviKvsObjectFunctionCall *c);
diff --git a/src/modules/objects/class_urllabel.cpp b/src/modules/objects/class_urllabel.cpp
index 8b98923..639b311 100644
--- a/src/modules/objects/class_urllabel.cpp
+++ b/src/modules/objects/class_urllabel.cpp
@@ -287,7 +287,7 @@ bool KviKvsObject_urlabel::functionsetText(KviKvsObjectFunctionCall *c)
 	KVSO_PARAMETERS_END(c)
 	if(!widget()) return true;
 	((TQLabel *)widget())->setText(szText);
-	((TQLabel *)widget())->setFixedSize(((TQLabel *)widget())->tqsizeHint());
+	((TQLabel *)widget())->setFixedSize(((TQLabel *)widget())->sizeHint());
 	return true;
 }
 bool KviKvsObject_urlabel::functionaction(KviKvsObjectFunctionCall *c)
diff --git a/src/modules/objects/class_widget.cpp b/src/modules/objects/class_widget.cpp
index 4ff98d6..fec3925 100644
--- a/src/modules/objects/class_widget.cpp
+++ b/src/modules/objects/class_widget.cpp
@@ -587,7 +587,7 @@ KVSO_BEGIN_REGISTERCLASS(KviKvsObject_widget,"widget","object")
 	KVSO_REGISTER_HANDLER(KviKvsObject_widget,"setMaximumWidth",function_setMaximumWidth)
 	KVSO_REGISTER_HANDLER(KviKvsObject_widget,"setMaximumHeight",function_setMaximumHeight)
 	KVSO_REGISTER_HANDLER(KviKvsObject_widget,"move",function_move)
-	KVSO_REGISTER_HANDLER(KviKvsObject_widget,"tqsizeHint",function_tqsizeHint)
+	KVSO_REGISTER_HANDLER(KviKvsObject_widget,"sizeHint",function_sizeHint)
 	KVSO_REGISTER_HANDLER(KviKvsObject_widget,"resize",function_resize)
 
 	KVSO_REGISTER_HANDLER(KviKvsObject_widget,"setFocusPolicy",function_setFocusPolicy)
@@ -1450,10 +1450,10 @@ bool KviKvsObject_widget::function_move(KviKvsObjectFunctionCall *c)
 	widget()->move(TQPoint(iX,iY));
 	return true;
 }
-bool KviKvsObject_widget::function_tqsizeHint(KviKvsObjectFunctionCall *c)
+bool KviKvsObject_widget::function_sizeHint(KviKvsObjectFunctionCall *c)
 {
 	if(!widget())return true;
-	TQSize sizehint = widget()->tqsizeHint();
+	TQSize sizehint = widget()->sizeHint();
 	KviKvsArray * a = new KviKvsArray();
 	a->set(0,new KviKvsVariant((kvs_int_t)sizehint.width()));
 	a->set(1,new KviKvsVariant((kvs_int_t)sizehint.height()));
diff --git a/src/modules/objects/class_widget.h b/src/modules/objects/class_widget.h
index 807d50a..edbe610 100644
--- a/src/modules/objects/class_widget.h
+++ b/src/modules/objects/class_widget.h
@@ -96,7 +96,7 @@ protected:
 	bool function_setGeometry(KviKvsObjectFunctionCall *c);
 	bool function_setWFlags(KviKvsObjectFunctionCall *c);
 	bool function_show(KviKvsObjectFunctionCall *c);
-	bool function_tqsizeHint(KviKvsObjectFunctionCall *c);
+	bool function_sizeHint(KviKvsObjectFunctionCall *c);
 	bool function_width(KviKvsObjectFunctionCall *);
 	bool function_x(KviKvsObjectFunctionCall *);
 	bool function_y(KviKvsObjectFunctionCall *);
diff --git a/src/modules/objects/class_wrapper.cpp b/src/modules/objects/class_wrapper.cpp
index ca1333f..928ddaf 100644
--- a/src/modules/objects/class_wrapper.cpp
+++ b/src/modules/objects/class_wrapper.cpp
@@ -183,7 +183,7 @@ bool KviKvsObject_wrapper::init(KviKvsRunTimeContext * pContext,KviKvsVariantLis
 TQWidget *KviKvsObject_wrapper::findTopLevelWidgetToWrap(const TQString szClass, const TQString szName)
 {
 #ifdef COMPILE_USE_QT4
-	TQWidgetList list = g_pApp->tqtopLevelWidgets();
+	TQWidgetList list = g_pApp->topLevelWidgets();
 	if( !list.count() ) return 0;
 	for(int idx=0;idx<list.count();idx++)
 	{
@@ -205,7 +205,7 @@ TQWidget *KviKvsObject_wrapper::findTopLevelWidgetToWrap(const TQString szClass,
 	return 0;
 #else
 	
-	TQWidgetList *list = g_pApp->tqtopLevelWidgets();
+	TQWidgetList *list = g_pApp->topLevelWidgets();
 	if( !list ) return 0;
 
 	TQWidgetListIt it(*list);
diff --git a/src/modules/objects/libkviobjects.cpp b/src/modules/objects/libkviobjects.cpp
index 977c8c9..3a939ff 100644
--- a/src/modules/objects/libkviobjects.cpp
+++ b/src/modules/objects/libkviobjects.cpp
@@ -827,7 +827,7 @@ static bool objects_kvs_fnc_listObjects(KviKvsModuleFunctionCall * cmd)
 	KVSO_PARAMETERS_END(cmd)
 	if (bFlag) cmd->window()->output(80, "Objects dump:");
 	#ifdef COMPILE_USE_QT4
-	TQWidgetList list = g_pApp->tqtopLevelWidgets();
+	TQWidgetList list = g_pApp->topLevelWidgets();
 	
 	KviStr spacing = ">";
 	TQString  szTemp;
@@ -865,7 +865,7 @@ static bool objects_kvs_fnc_listObjects(KviKvsModuleFunctionCall * cmd)
 	}
 
 #else
-	TQWidgetList *l = g_pApp->tqtopLevelWidgets();
+	TQWidgetList *l = g_pApp->topLevelWidgets();
 	l->setAutoDelete(false);
 	TQWidgetListIt it(*l);
 	KviStr spacing = ">";
diff --git a/src/modules/options/container.cpp b/src/modules/options/container.cpp
index c0b7bf8..a11dfaa 100644
--- a/src/modules/options/container.cpp
+++ b/src/modules/options/container.cpp
@@ -59,7 +59,7 @@ void KviOptionsWidgetContainer::setup(KviOptionsWidget * w)
 
 	TQPushButton * b = new TQPushButton(__tr2qs_ctx("&OK","options"),this);
 	KviTalToolTip::add(b,__tr2qs_ctx("Close this dialog, accepting all changes.","options"));
-	//b->setMinimumWidth(m_pCancel->tqsizeHint().width());
+	//b->setMinimumWidth(m_pCancel->sizeHint().width());
 	g->addWidget(b,1,1);
 	b->setDefault(true);
 	connect(b,TQT_SIGNAL(clicked()),this,TQT_SLOT(okClicked()));
diff --git a/src/modules/options/dialog.cpp b/src/modules/options/dialog.cpp
index b00eba6..107c597 100644
--- a/src/modules/options/dialog.cpp
+++ b/src/modules/options/dialog.cpp
@@ -69,7 +69,7 @@ KviGeneralOptionsFrontWidget::KviGeneralOptionsFrontWidget(TQWidget *parent,cons
 #ifdef COMPILE_USE_QT4
 	l->setWordWrap(true);
 #endif
-	l->tqsetAlignment(TQt::AlignTop);
+	l->setAlignment(TQt::AlignTop);
 	tqlayout()->addWidget(l,0,0);
 }
 
diff --git a/src/modules/options/optw_messages.cpp b/src/modules/options/optw_messages.cpp
index 175f119..568499a 100644
--- a/src/modules/options/optw_messages.cpp
+++ b/src/modules/options/optw_messages.cpp
@@ -261,14 +261,14 @@ void KviMessageListViewItem::paintCell(TQPainter * p,const TQColorGroup &,int,in
 #ifdef COMPILE_PSEUDO_TRANSPARENCY
 	if(g_pShadedChildGlobalDesktopBackground)
 	{
-		TQPoint pnt = listView()->viewport()->mapToGlobal(TQPoint(int(p->tqworldMatrix().dx()),int(p->tqworldMatrix().dy())));
+		TQPoint pnt = listView()->viewport()->mapToGlobal(TQPoint(int(p->worldMatrix().dx()),int(p->worldMatrix().dy())));
 		p->drawTiledPixmap(0,0,w,height(),*g_pShadedChildGlobalDesktopBackground,pnt.x(),pnt.y());
 	} else {
 #endif
 		TQPixmap * pix = KVI_OPTION_PIXMAP(KviOption_pixmapIrcViewBackground).pixmap();
 		if(pix)
 		{
-			TQPoint pnt = listView()->viewportToContents(TQPoint(int(p->tqworldMatrix().dx()),int(p->tqworldMatrix().dy())));
+			TQPoint pnt = listView()->viewportToContents(TQPoint(int(p->worldMatrix().dx()),int(p->worldMatrix().dy())));
 			p->fillRect(0,0,w,height(),KVI_OPTION_COLOR(KviOption_colorIrcViewBackground));
 			p->drawTiledPixmap(0,0,w,height(),*pix,pnt.x(),pnt.y());
 		} else {
@@ -335,7 +335,7 @@ void KviMessageColorListBoxItem::paint(TQPainter * p)
 		clr = lb->isEnabled() ? KVI_OPTION_MIRCCOLOR(m_iClrIdx) : TQt::gray;
 		p->fillRect(0,0,width(lb),height(lb),clr);
 	} else {
-		clr = listBox()->tqcolorGroup().background();
+		clr = listBox()->colorGroup().background();
 		KviTalListBoxText::paint(p);
 	}
 	if(isSelected())
diff --git a/src/modules/options/optw_servers.cpp b/src/modules/options/optw_servers.cpp
index 319f5be..309344c 100644
--- a/src/modules/options/optw_servers.cpp
+++ b/src/modules/options/optw_servers.cpp
@@ -102,7 +102,7 @@ KviNetworkDetailsWidget::KviNetworkDetailsWidget(TQWidget * par,KviIrcNetwork *
 
 	TQLabel * l = new TQLabel(szTmp,this);
 	l->setFrameStyle(TQFrame::Raised | TQFrame::StyledPanel);
-	l->tqsetAlignment(TQt::AlignCenter);
+	l->setAlignment(TQt::AlignCenter);
 	l->setMargin(10);
 	g->addMultiCellWidget(l,0,0,0,3);
 	l->setMinimumWidth(200);
@@ -451,7 +451,7 @@ KviServerDetailsWidget::KviServerDetailsWidget(TQWidget * par,KviIrcServer * s)
 
 	m_pHeaderLabel = new TQLabel("",this); // the text will be set later
 	m_pHeaderLabel->setFrameStyle(TQFrame::Raised | TQFrame::StyledPanel);
-	m_pHeaderLabel->tqsetAlignment(TQt::AlignCenter);
+	m_pHeaderLabel->setAlignment(TQt::AlignCenter);
 	m_pHeaderLabel->setMargin(10);
 	g->addMultiCellWidget(m_pHeaderLabel,0,0,0,3);
 	m_pHeaderLabel->setMinimumWidth(200);
diff --git a/src/modules/options/optw_texticons.cpp b/src/modules/options/optw_texticons.cpp
index 3d6e01b..7f86182 100644
--- a/src/modules/options/optw_texticons.cpp
+++ b/src/modules/options/optw_texticons.cpp
@@ -37,7 +37,7 @@ KviTextIconEditor::KviTextIconEditor(TQWidget * par,KviTextIcon * icon,KviTextIc
 {
 	m_pIconButton=new TQToolButton(this);
 	m_pBrowseButton=new TQToolButton(this);
-	m_pBrowseButton->tqsetSizePolicy(TQSizePolicy(TQSizePolicy::Maximum,TQSizePolicy::Maximum));
+	m_pBrowseButton->setSizePolicy(TQSizePolicy(TQSizePolicy::Maximum,TQSizePolicy::Maximum));
 	m_pBrowseButton->setText("...");
 	m_pIcon = icon;
 	m_pPopup = 0;
diff --git a/src/modules/popupeditor/popupeditor.cpp b/src/modules/popupeditor/popupeditor.cpp
index db3479e..dd1cf24 100644
--- a/src/modules/popupeditor/popupeditor.cpp
+++ b/src/modules/popupeditor/popupeditor.cpp
@@ -1372,7 +1372,7 @@ TQPixmap * KviPopupEditorWindow::myIconPtr()
 
 void KviPopupEditorWindow::resizeEvent(TQResizeEvent *e)
 {
-	int hght = m_pBase->tqsizeHint().height();
+	int hght = m_pBase->sizeHint().height();
 	m_pEditor->setGeometry(0,0,width(),height()- hght);
 	m_pBase->setGeometry(0,height() - hght,width(),hght);
 }
diff --git a/src/modules/raweditor/raweditor.cpp b/src/modules/raweditor/raweditor.cpp
index b710cb4..123675b 100644
--- a/src/modules/raweditor/raweditor.cpp
+++ b/src/modules/raweditor/raweditor.cpp
@@ -502,7 +502,7 @@ TQPixmap * KviRawEditorWindow::myIconPtr()
 
 void KviRawEditorWindow::resizeEvent(TQResizeEvent *e)
 {
-	int hght = m_pBase->tqsizeHint().height();
+	int hght = m_pBase->sizeHint().height();
 	m_pEditor->setGeometry(0,0,width(),height()- hght);
 	m_pBase->setGeometry(0,height() - hght,width(),hght);
 }
diff --git a/src/modules/reguser/dialog.cpp b/src/modules/reguser/dialog.cpp
index 648fdfb..59fc732 100644
--- a/src/modules/reguser/dialog.cpp
+++ b/src/modules/reguser/dialog.cpp
@@ -329,7 +329,7 @@ void KviRegisteredUsersDialog::itemPressed(KviTalListViewItem *it,const TQPoint
 	{
 		KviRegisteredUsersDialogItem *i = (KviRegisteredUsersDialogItem *)it;
 	
-		TQRect r = m_pListView->tqitemRect(i);
+		TQRect r = m_pListView->itemRect(i);
 		int daw = m_pListView->columnWidth(0);
 	
 		TQPoint ppp = m_pListView->mapFromGlobal(pnt);
diff --git a/src/modules/reguser/edituser.cpp b/src/modules/reguser/edituser.cpp
index 646261a..9fb7f61 100644
--- a/src/modules/reguser/edituser.cpp
+++ b/src/modules/reguser/edituser.cpp
@@ -217,7 +217,7 @@ KviReguserMaskDialog::KviReguserMaskDialog(TQWidget * p,KviIrcMask * m)
 	TQGridLayout * g = new TQGridLayout(this,3,2,4,4);
 
 	TQLabel * l = new TQLabel(__tr2qs("Insert a mask for this user.<br>It can contain the wildcard characters '*' and '?'."),this);
-	//l->tqsetAlignment(TQt::AlignCenter);
+	//l->setAlignment(TQt::AlignCenter);
 	g->addMultiCellWidget(l,0,0,0,1);
 
 	KviTalHBox * b = new KviTalHBox(this);
@@ -225,29 +225,29 @@ KviReguserMaskDialog::KviReguserMaskDialog(TQWidget * p,KviIrcMask * m)
 
 	m_pNickEdit = new TQLineEdit(b);
 	//m_pNickEdit->setMinimumWidth(120);
-	m_pNickEdit->tqsetAlignment(TQt::AlignRight);
+	m_pNickEdit->setAlignment(TQt::AlignRight);
 #ifdef COMPILE_INFO_TIPS
 	TQToolTip::add(m_pNickEdit,__tr2qs("<center>This the <b>nickname</b> that will match this user, default value is the registered name.</center>"));
 #endif
 
 	l = new TQLabel("<center><b>!</b></center>",b);
-	l->tqsetAlignment(TQt::AlignCenter);
+	l->setAlignment(TQt::AlignCenter);
 	//l->setMinimumWidth(40);
 
 	m_pUserEdit = new TQLineEdit(b);
 	//m_pUserEdit->setMinimumWidth(120);
-	m_pUserEdit->tqsetAlignment(TQt::AlignCenter);
+	m_pUserEdit->setAlignment(TQt::AlignCenter);
 #ifdef COMPILE_INFO_TIPS
 	TQToolTip::add(m_pUserEdit,__tr2qs("<center>This the <b>username</b> that will match this user. <b>*</b> will match any username.</center>"));
 #endif
 
 	l = new TQLabel("<center><b>@</b></center>",b);
-	l->tqsetAlignment(TQt::AlignCenter);
+	l->setAlignment(TQt::AlignCenter);
 	//l->setMinimumWidth(40);
 
 	m_pHostEdit = new TQLineEdit(b);
 	//m_pHostEdit->setMinimumWidth(120);
-	m_pHostEdit->tqsetAlignment(TQt::AlignLeft);
+	m_pHostEdit->setAlignment(TQt::AlignLeft);
 #ifdef COMPILE_INFO_TIPS
 	TQToolTip::add(m_pHostEdit,__tr2qs("<center>This the <b>hostname</b> that will match this user. <b>*</b> will match any hostname.</center>"));
 #endif
@@ -481,7 +481,7 @@ KviRegisteredUserEntryDialog::KviRegisteredUserEntryDialog(TQWidget *p,KviRegist
 	tqlayout->addWidget(m_pIgnoreDcc);
 
 	TQWidget *w = new TQWidget(vb);
-	w->tqsetSizePolicy(TQSizePolicy::Ignored,TQSizePolicy::Ignored);
+	w->setSizePolicy(TQSizePolicy::Ignored,TQSizePolicy::Ignored);
 
 	addTab(vb,__tr2qs("Ignore"));
 
diff --git a/src/modules/reguser/wizard.cpp b/src/modules/reguser/wizard.cpp
index e42b3c3..d93fcf6 100644
--- a/src/modules/reguser/wizard.cpp
+++ b/src/modules/reguser/wizard.cpp
@@ -91,7 +91,7 @@ KviRegistrationWizard::KviRegistrationWizard(const char * startMask,KviRegistere
     m_pPage1Layout->addWidget(m_pLabel1, 0, 0);
 
     m_pEditRealName = new TQLineEdit(m_pPage1);
-    //m_pEditRealName->tqsetAlignment(int(TQLineEdit::AlignHCenter));
+    //m_pEditRealName->setAlignment(int(TQLineEdit::AlignHCenter));
 
     m_pPage1Layout->addWidget(m_pEditRealName,1,0);
     addPage( m_pPage1,__tr2qs("Step 1: Entry Name"));
@@ -120,13 +120,13 @@ KviRegistrationWizard::KviRegistrationWizard(const char * startMask,KviRegistere
 	//KviIrcMask masktempl(szMask.ptr());
 
     m_pNicknameEdit1 = new TQLineEdit(m_pPage2);
-    m_pNicknameEdit1->tqsetAlignment(TQt::AlignRight);
+    m_pNicknameEdit1->setAlignment(TQt::AlignRight);
 	if(mask.nick() != "*")m_pNicknameEdit1->setText(mask.nick());
 	connect(m_pNicknameEdit1,TQT_SIGNAL(textChanged(const TQString &)),this,TQT_SLOT(maskChanged(const TQString &)));
     m_pPage2Layout->addWidget( m_pNicknameEdit1, 1, 0 );
 
     m_pUsernameEdit1 = new TQLineEdit(m_pPage2);
-    m_pUsernameEdit1->tqsetAlignment(TQt::AlignHCenter);
+    m_pUsernameEdit1->setAlignment(TQt::AlignHCenter);
 	if(mask.hasUser())m_pUsernameEdit1->setText(mask.user());
 	connect(m_pUsernameEdit1,TQT_SIGNAL(textChanged(const TQString &)),this,TQT_SLOT(maskChanged(const TQString &)));
     m_pPage2Layout->addWidget(m_pUsernameEdit1,1,2);
@@ -137,11 +137,11 @@ KviRegistrationWizard::KviRegistrationWizard(const char * startMask,KviRegistere
 	m_pPage2Layout->addWidget(m_pHostEdit1,1,4);
 
     m_pNicknameEdit2 = new TQLineEdit(m_pPage2);
-    m_pNicknameEdit2->tqsetAlignment(TQt::AlignRight);
+    m_pNicknameEdit2->setAlignment(TQt::AlignRight);
     m_pPage2Layout->addWidget(m_pNicknameEdit2,2,0);
 
     m_pUsernameEdit2 = new TQLineEdit(m_pPage2);
-    m_pUsernameEdit2->tqsetAlignment(TQt::AlignHCenter);
+    m_pUsernameEdit2->setAlignment(TQt::AlignHCenter);
     m_pPage2Layout->addWidget(m_pUsernameEdit2,2,2);
 
     m_pHostEdit2 = new TQLineEdit(m_pPage2);
@@ -149,22 +149,22 @@ KviRegistrationWizard::KviRegistrationWizard(const char * startMask,KviRegistere
 
     TextLabel10_2 = new TQLabel(m_pPage2);
     TextLabel10_2->setText("<center><b>!</b></center>");
-    TextLabel10_2->tqsetAlignment(int(TQt::AlignCenter));
+    TextLabel10_2->setAlignment(int(TQt::AlignCenter));
     m_pPage2Layout->addWidget(TextLabel10_2,2,1);
 
     TextLabel10 = new TQLabel(m_pPage2);
     TextLabel10->setText("<center><b>!</b></center>");
-    TextLabel10->tqsetAlignment(int(TQt::AlignCenter));
+    TextLabel10->setAlignment(int(TQt::AlignCenter));
     m_pPage2Layout->addWidget(TextLabel10,1,1);
 
     TextLabel10_3 = new TQLabel(m_pPage2);
     TextLabel10_3->setText("<center><b>@</b></center>");
-    TextLabel10_3->tqsetAlignment(int(TQt::AlignCenter));
+    TextLabel10_3->setAlignment(int(TQt::AlignCenter));
     m_pPage2Layout->addWidget(TextLabel10_3,1,3);
 
     TextLabel10_3_2 = new TQLabel(m_pPage2);
     TextLabel10_3_2->setText("<center><b>@</b></center>");
-    TextLabel10_3_2->tqsetAlignment(int(TQt::AlignCenter));
+    TextLabel10_3_2->setAlignment(int(TQt::AlignCenter));
     m_pPage2Layout->addWidget(TextLabel10_3_2,2,3);
 
     addPage(m_pPage2,__tr2qs("Step 2: Mask Selection"));
diff --git a/src/modules/setup/setupwizard.cpp b/src/modules/setup/setupwizard.cpp
index 858bad6..b0c72cf 100644
--- a/src/modules/setup/setupwizard.cpp
+++ b/src/modules/setup/setupwizard.cpp
@@ -103,7 +103,7 @@ KviSetupPage::KviSetupPage(KviSetupWizard * w)
 	m_pVBox = new KviTalVBox(this);
 	m_pVBox->setSpacing(4);
 	m_pVBox->setMargin(0);
-	//m_pVBox->tqsetSizePolicy(TQSizePolicy(TQSizePolicy::Expanding));
+	//m_pVBox->setSizePolicy(TQSizePolicy(TQSizePolicy::Expanding));
 	//m_pVBox->setBackgroundColor(TQColor(0,80,0));
 	//m_pVBox->setMaximumHeight(450);
 	g->addWidget(m_pVBox,0,1);
@@ -111,7 +111,7 @@ KviSetupPage::KviSetupPage(KviSetupWizard * w)
 	g->setColStretch(1,1);
 
 	TQLabel * l = new TQLabel(m_pVBox);
-	l->tqsetAlignment(TQt::AlignAuto | TQt::AlignTop);
+	l->setAlignment(TQt::AlignAuto | TQt::AlignTop);
 	/*
 	TQString szHeader = "<table border=\"0\" cellpadding=\"4\" cellspacing=\"0\" style=\"margin:0px;padding:0px;\" width=\"100%\"><tr><td bgcolor=\"#303030\">" \
 			"<h1><font color=\"#FFFFFF\">KVIrc " KVI_VERSION "</font></h1>" \
@@ -120,7 +120,7 @@ KviSetupPage::KviSetupPage(KviSetupWizard * w)
 	TQString szHeader = "<h1><font color=\"#FFFFFF\">&nbsp;KVIrc " KVI_VERSION "</font></h1>";
 	l->setText(szHeader);
 	l->setFrameStyle(TQFrame::Sunken | TQFrame::StyledPanel);
-	l->tqsetAlignment(TQt::AlignAuto | TQt::AlignVCenter);
+	l->setAlignment(TQt::AlignAuto | TQt::AlignVCenter);
 	l->setMargin(0);
 	l->setBackgroundColor(TQColor(48,48,48));
 
@@ -128,7 +128,7 @@ KviSetupPage::KviSetupPage(KviSetupWizard * w)
 #ifdef COMPILE_USE_QT4
 	m_pTextLabel->setWordWrap(true);
 #endif
-	m_pTextLabel->tqsetAlignment(TQt::AlignJustify | TQt::AlignTop);
+	m_pTextLabel->setAlignment(TQt::AlignJustify | TQt::AlignTop);
 	m_pVBox->setStretchFactor(m_pTextLabel,1);
 }
 
@@ -673,7 +673,7 @@ void KviSetupWizard::showEvent(TQShowEvent *e)
 		if(ww < 770)ww = 770;
 	}
 	
-	//wh = tqsizeHint().height();
+	//wh = sizeHint().height();
 	
 	setGeometry((w - ww) / 2,(h - wh) / 2,ww,wh);
 
diff --git a/src/modules/sharedfileswindow/sharedfileswindow.cpp b/src/modules/sharedfileswindow/sharedfileswindow.cpp
index 157e375..c8aa9e4 100644
--- a/src/modules/sharedfileswindow/sharedfileswindow.cpp
+++ b/src/modules/sharedfileswindow/sharedfileswindow.cpp
@@ -115,7 +115,7 @@ KviSharedFileEditDialog::KviSharedFileEditDialog(TQWidget * par,KviSharedFile *
 		m_pExpireDateTimeEdit->setEnabled(f->expires());
 	} else {
 		m_pExpireCheckBox->setChecked(false);
-		m_pExpireDateTimeEdit->setDateTime(TQDateTime::tqcurrentDateTime());
+		m_pExpireDateTimeEdit->setDateTime(TQDateTime::currentDateTime());
 		m_pExpireDateTimeEdit->setEnabled(false);
 	}
 	
@@ -151,7 +151,7 @@ void KviSharedFileEditDialog::okClicked()
 	TQString szPath = m_pFilePathEdit->text();
 	TQDateTime dt = m_pExpireDateTimeEdit->dateTime();
 	bool bExpires = m_pExpireCheckBox->isChecked();
-	if(bExpires && (dt <= TQDateTime::tqcurrentDateTime()))
+	if(bExpires && (dt <= TQDateTime::currentDateTime()))
 	{
 		TQMessageBox::warning(this,__tr2qs_ctx("Invalid expire time","sharedfileswindow"),
 			__tr2qs_ctx("The expire date/time is in the past: please either remove the \"expires\"" \
@@ -336,7 +336,7 @@ void KviSharedFilesWindow::tipRequest(KviDynamicToolTip * tip,const TQPoint &pnt
 	KviSharedFilesItem * it = (KviSharedFilesItem *)m_pListView->itemAt(pnt);
 	if(!it)return;
 	TQString txt = it->transfer()->tipText();
-	tip->tip(m_pListView->tqitemRect(it),txt);
+	tip->tip(m_pListView->itemRect(it),txt);
 
 }
 */
@@ -679,9 +679,9 @@ void KviSharedFilesWindow::resizeEvent(TQResizeEvent *e)
 	//m_pInput->setGeometry(0,height() - h,width(),h);
 }
 
-TQSize KviSharedFilesWindow::tqsizeHint() const
+TQSize KviSharedFilesWindow::sizeHint() const
 {
-	return m_pSplitter->tqsizeHint();
+	return m_pSplitter->sizeHint();
 }
 
 void KviSharedFilesWindow::fillCaptionBuffers()
diff --git a/src/modules/sharedfileswindow/sharedfileswindow.h b/src/modules/sharedfileswindow/sharedfileswindow.h
index 4832dc8..2f7f027 100644
--- a/src/modules/sharedfileswindow/sharedfileswindow.h
+++ b/src/modules/sharedfileswindow/sharedfileswindow.h
@@ -102,7 +102,7 @@ protected:
 	virtual void resizeEvent(TQResizeEvent *e);
 	virtual void getBaseLogFileName(KviStr &buffer);
 public:
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 protected slots:
 	void fillFileView();
 	void sharedFileAdded(KviSharedFile * f);
diff --git a/src/modules/socketspy/socketspywindow.cpp b/src/modules/socketspy/socketspywindow.cpp
index 6ab0154..a5ee44e 100644
--- a/src/modules/socketspy/socketspywindow.cpp
+++ b/src/modules/socketspy/socketspywindow.cpp
@@ -67,9 +67,9 @@ void KviSocketSpyWindow::resizeEvent(TQResizeEvent *e)
 	m_pSplitter->setGeometry(0,0,width(),height());
 }
 
-TQSize KviSocketSpyWindow::tqsizeHint() const
+TQSize KviSocketSpyWindow::sizeHint() const
 {
-	return m_pIrcView->tqsizeHint();
+	return m_pIrcView->sizeHint();
 }
 
 void KviSocketSpyWindow::getBaseLogFileName(KviStr &buffer)
diff --git a/src/modules/socketspy/socketspywindow.h b/src/modules/socketspy/socketspywindow.h
index b210ce0..7c2e924 100644
--- a/src/modules/socketspy/socketspywindow.h
+++ b/src/modules/socketspy/socketspywindow.h
@@ -42,7 +42,7 @@ protected:
 	virtual void getBaseLogFileName(KviStr &buffer);
 	virtual void applyOptions();
 public:
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 	virtual void incomingMessage(const char * message);
 	// message is NOT null terminated! For proxy connections it might spit out binary data!
 	virtual void outgoingMessage(const char * message,int len);
diff --git a/src/modules/term/termwidget.cpp b/src/modules/term/termwidget.cpp
index d261846..8b581c2 100644
--- a/src/modules/term/termwidget.cpp
+++ b/src/modules/term/termwidget.cpp
@@ -117,7 +117,7 @@ void KviTermWidget::resizeEvent(TQResizeEvent *e)
 	int hght = 0;
 	if(m_bIsStandalone)
 	{
-		hght = m_pCloseButton->tqsizeHint().height();
+		hght = m_pCloseButton->sizeHint().height();
 		m_pHBox->setGeometry(1,1,width() - 2,hght + 1);
 
 	}
@@ -157,18 +157,18 @@ void KviTermWidget::changeColumns(int)
 {
 }
 
-TQSize KviTermWidget::tqsizeHint() const
+TQSize KviTermWidget::sizeHint() const
 {
 	int hght = 0;
 	int wdth = 0;
 	if(m_pKonsoleWidget)
 	{
-		hght += m_pKonsoleWidget->tqsizeHint().height();
-		wdth = m_pKonsoleWidget->tqsizeHint().width();
+		hght += m_pKonsoleWidget->sizeHint().height();
+		wdth = m_pKonsoleWidget->sizeHint().width();
 	}
 	if(m_pCloseButton)
 	{
-		hght += m_pCloseButton->tqsizeHint().height();
+		hght += m_pCloseButton->sizeHint().height();
 	}
 	
 	return TQSize(wdth + 2,hght + 2);
diff --git a/src/modules/term/termwidget.h b/src/modules/term/termwidget.h
index 7573967..eb79836 100644
--- a/src/modules/term/termwidget.h
+++ b/src/modules/term/termwidget.h
@@ -60,7 +60,7 @@ protected slots:
 	void changeColumns(int);
 public:
 	TQWidget * konsoleWidget(){ return m_pKonsoleWidget ? m_pKonsoleWidget : this; };
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 	int dummy() const { return 0; };
 protected slots:
 	void konsoleDestroyed();
diff --git a/src/modules/term/termwindow.cpp b/src/modules/term/termwindow.cpp
index 700328f..0610a60 100644
--- a/src/modules/term/termwindow.cpp
+++ b/src/modules/term/termwindow.cpp
@@ -60,9 +60,9 @@ void KviTermWindow::resizeEvent(TQResizeEvent *e)
 	if(m_pTermWidget)m_pTermWidget->setGeometry(0,0,width(),height());
 }
 
-TQSize KviTermWindow::tqsizeHint() const
+TQSize KviTermWindow::sizeHint() const
 {
-	return m_pTermWidget ? m_pTermWidget->tqsizeHint() : KviWindow::tqsizeHint();
+	return m_pTermWidget ? m_pTermWidget->sizeHint() : KviWindow::sizeHint();
 }
 
 void KviTermWindow::fillCaptionBuffers()
diff --git a/src/modules/term/termwindow.h b/src/modules/term/termwindow.h
index 340e743..1ac5a12 100644
--- a/src/modules/term/termwindow.h
+++ b/src/modules/term/termwindow.h
@@ -46,7 +46,7 @@ protected:
 	virtual void fillCaptionBuffers();
 	virtual void resizeEvent(TQResizeEvent *e);
 public:
-	virtual TQSize tqsizeHint() const;
+	virtual TQSize sizeHint() const;
 };
 
 
diff --git a/src/modules/theme/managementdialog.cpp b/src/modules/theme/managementdialog.cpp
index 816917a..839f0f7 100644
--- a/src/modules/theme/managementdialog.cpp
+++ b/src/modules/theme/managementdialog.cpp
@@ -128,7 +128,7 @@ void KviThemeListBoxItem::paint(TQPainter * p)
 	int afterIcon = LVI_BORDER + LVI_ICON_SIZE + LVI_SPACING;
 	int www = p->window().width() - (afterIcon + LVI_BORDER);
 	m_pText->setWidth(www);
-	m_pText->draw(p,afterIcon,LVI_BORDER,TQRect(afterIcon,LVI_BORDER,www,p->window().height() - (LVI_BORDER * 2)),listBox()->viewport()->tqcolorGroup());
+	m_pText->draw(p,afterIcon,LVI_BORDER,TQRect(afterIcon,LVI_BORDER,www,p->window().height() - (LVI_BORDER * 2)),listBox()->viewport()->colorGroup());
 }
 
 int KviThemeListBoxItem::height(const KviTalListBox * lb) const 
@@ -198,7 +198,7 @@ KviThemeManagementDialog::KviThemeManagementDialog(TQWidget * parent)
 	connect(tb,TQT_SIGNAL(clicked()),this,TQT_SLOT(getMoreThemes()));
 
 	TQWidget *w= new TQWidget(hb);
-	w->tqsetSizePolicy(TQSizePolicy::Expanding,TQSizePolicy::Minimum);
+	w->setSizePolicy(TQSizePolicy::Expanding,TQSizePolicy::Minimum);
 
 	m_pListBox = new KviTalListBox(this);
 	m_pListBox->setMinimumHeight(400);
@@ -455,5 +455,5 @@ void KviThemeManagementDialog::tipRequest(KviDynamicToolTip *pTip,const TQPoint
 		0
 	);
 
-	pTip->tip(m_pListBox->tqitemRect(it),szThemeDescription);
+	pTip->tip(m_pListBox->itemRect(it),szThemeDescription);
 }
diff --git a/src/modules/theme/packthemedialog.cpp b/src/modules/theme/packthemedialog.cpp
index d29c632..6f2e24c 100644
--- a/src/modules/theme/packthemedialog.cpp
+++ b/src/modules/theme/packthemedialog.cpp
@@ -271,7 +271,7 @@ KviPackThemeDialog::KviPackThemeDialog(TQWidget * pParent,KviPointerList<KviThem
 	m_pImageLabel = new TQLabel(pPage);
 	m_pImageLabel->setFrameStyle(TQFrame::Sunken | TQFrame::Panel);
 	m_pImageLabel->setMinimumSize(300,225);
-	m_pImageLabel->tqsetAlignment(TQt::AlignCenter | TQt::AlignVCenter);
+	m_pImageLabel->setAlignment(TQt::AlignCenter | TQt::AlignVCenter);
 	pLayout->addWidget(m_pImageLabel,1,0);
 
 	TQString szFilter = "*.png *.jpg *.xpm";
@@ -393,7 +393,7 @@ bool KviPackThemeDialog::packTheme()
 
 	KviPackageWriter f;
 
-	TQString szTmp = TQDateTime::tqcurrentDateTime().toString();
+	TQString szTmp = TQDateTime::currentDateTime().toString();
 
 	f.addInfoField("PackageType","ThemePack");
 	f.addInfoField("ThemePackVersion","1");
diff --git a/src/modules/theme/savethemedialog.cpp b/src/modules/theme/savethemedialog.cpp
index a38f33e..b6a93a0 100644
--- a/src/modules/theme/savethemedialog.cpp
+++ b/src/modules/theme/savethemedialog.cpp
@@ -158,7 +158,7 @@ KviSaveThemeDialog::KviSaveThemeDialog(TQWidget * pParent)
 	m_pImageLabel = new TQLabel(pPage);
 	m_pImageLabel->setFrameStyle(TQFrame::Sunken | TQFrame::Panel);
 	m_pImageLabel->setMinimumSize(300,225);
-	m_pImageLabel->tqsetAlignment(TQt::AlignCenter | TQt::AlignVCenter);
+	m_pImageLabel->setAlignment(TQt::AlignCenter | TQt::AlignVCenter);
 	pLayout->addWidget(m_pImageLabel,1,0);
 
 	TQString szFilter = "*.png *.jpg *.xpm";
@@ -247,7 +247,7 @@ bool KviSaveThemeDialog::saveTheme()
 
 	sto.setAuthor(m_pAuthorNameEdit->text());
 	sto.setDescription(m_pThemeDescriptionEdit->text());
-	sto.setDate(TQDateTime::tqcurrentDateTime().toString());
+	sto.setDate(TQDateTime::currentDateTime().toString());
 	sto.setVersion(m_pThemeVersionEdit->text());
 	sto.setApplication("KVIrc " KVI_VERSION "." KVI_SOURCES_DATE);
 
diff --git a/src/modules/tip/libkvitip.cpp b/src/modules/tip/libkvitip.cpp
index 9fa3cc7..bcf2403 100644
--- a/src/modules/tip/libkvitip.cpp
+++ b/src/modules/tip/libkvitip.cpp
@@ -99,7 +99,7 @@ void KviTipFrame::drawContents(TQPainter *p)
 
 	TQRegion reg(0,0,1000,20000);
 
-	doc.draw(p,70,10,reg,tqcolorGroup());
+	doc.draw(p,70,10,reg,colorGroup());
 }
 
 KviTipWindow::KviTipWindow()
diff --git a/src/modules/toolbareditor/toolbareditor.cpp b/src/modules/toolbareditor/toolbareditor.cpp
index 34b0689..927fbf7 100644
--- a/src/modules/toolbareditor/toolbareditor.cpp
+++ b/src/modules/toolbareditor/toolbareditor.cpp
@@ -61,7 +61,7 @@ KviTrashcanLabel::KviTrashcanLabel(TQWidget * p)
 	TQToolTip::add(this,__tr2qs("Drop here the icons from the toolbars to remove them"));
 	setFrameStyle(TQFrame::Sunken | TQFrame::WinPanel);
 	setAcceptDrops(true);
-	tqsetAlignment(TQt::AlignCenter);
+	setAlignment(TQt::AlignCenter);
 	setMinimumSize(40,40);
 	m_uFlashCount = 0;
 	m_pFlashTimer = 0;
diff --git a/src/modules/url/libkviurl.cpp b/src/modules/url/libkviurl.cpp
index 4bb7675..b3edd19 100644
--- a/src/modules/url/libkviurl.cpp
+++ b/src/modules/url/libkviurl.cpp
@@ -753,7 +753,7 @@ bool urllist_module_event_onUrl(KviKvsModuleEventCall * c)
 
 		KviUrl *tmp = new KviUrl;
 		KviStr tmpTimestamp;
-		TQDate d = TQDate::tqcurrentDate();
+		TQDate d = TQDate::currentDate();
 		KviStr date(KviStr::Format,"%d-%d%d-%d%d",d.year(),d.month() / 10,d.month() % 10,d.day() / 10,d.day() % 10);
 		tmpTimestamp = "["+date+"]"+" [";
 		tmpTimestamp += TQTime::currentTime().toString()+"]";
